var Lv=Object.defineProperty;var af=t=>{throw TypeError(t)};var Iv=(t,n,a)=>n in t?Lv(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a;var Od=(t,n,a)=>Iv(t,typeof n!="symbol"?n+"":n,a),Md=(t,n,a)=>n.has(t)||af("Cannot "+a);var _=(t,n,a)=>(Md(t,n,"read from private field"),a?a.call(t):n.get(t)),ce=(t,n,a)=>n.has(t)?af("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,a),se=(t,n,a,l)=>(Md(t,n,"write to private field"),l?l.call(t,a):n.set(t,a),a),je=(t,n,a)=>(Md(t,n,"access private method"),a);var eo=(t,n,a,l)=>({set _(o){se(t,n,o,a)},get _(){return _(t,n,l)}});function $v(t,n){for(var a=0;a<n.length;a++){const l=n[a];if(typeof l!="string"&&!Array.isArray(l)){for(const o in l)if(o!=="default"&&!(o in t)){const d=Object.getOwnPropertyDescriptor(l,o);d&&Object.defineProperty(t,o,d.get?d:{enumerable:!0,get:()=>l[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function a(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(o){if(o.ep)return;o.ep=!0;const d=a(o);fetch(o.href,d)}})();function Uu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dd={exports:{}},al={},zd={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lf;function Uv(){if(lf)return Ee;lf=1;var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function N(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,b={};function g(M,q,ge){this.props=M,this.context=q,this.refs=b,this.updater=ge||k}g.prototype.isReactComponent={},g.prototype.setState=function(M,q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,q,"setState")},g.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function P(){}P.prototype=g.prototype;function O(M,q,ge){this.props=M,this.context=q,this.refs=b,this.updater=ge||k}var C=O.prototype=new P;C.constructor=O,j(C,g.prototype),C.isPureReactComponent=!0;var R=Array.isArray,U=Object.prototype.hasOwnProperty,B={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function W(M,q,ge){var we,_e={},Pe=null,be=null;if(q!=null)for(we in q.ref!==void 0&&(be=q.ref),q.key!==void 0&&(Pe=""+q.key),q)U.call(q,we)&&!L.hasOwnProperty(we)&&(_e[we]=q[we]);var Oe=arguments.length-2;if(Oe===1)_e.children=ge;else if(1<Oe){for(var ee=Array(Oe),Se=0;Se<Oe;Se++)ee[Se]=arguments[Se+2];_e.children=ee}if(M&&M.defaultProps)for(we in Oe=M.defaultProps,Oe)_e[we]===void 0&&(_e[we]=Oe[we]);return{$$typeof:t,type:M,key:Pe,ref:be,props:_e,_owner:B.current}}function H(M,q){return{$$typeof:t,type:M.type,key:q,ref:M.ref,props:M.props,_owner:M._owner}}function Q(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function le(M){var q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ge){return q[ge]})}var G=/\/+/g;function ne(M,q){return typeof M=="object"&&M!==null&&M.key!=null?le(""+M.key):q.toString(36)}function xe(M,q,ge,we,_e){var Pe=typeof M;(Pe==="undefined"||Pe==="boolean")&&(M=null);var be=!1;if(M===null)be=!0;else switch(Pe){case"string":case"number":be=!0;break;case"object":switch(M.$$typeof){case t:case n:be=!0}}if(be)return be=M,_e=_e(be),M=we===""?"."+ne(be,0):we,R(_e)?(ge="",M!=null&&(ge=M.replace(G,"$&/")+"/"),xe(_e,q,ge,"",function(Se){return Se})):_e!=null&&(Q(_e)&&(_e=H(_e,ge+(!_e.key||be&&be.key===_e.key?"":(""+_e.key).replace(G,"$&/")+"/")+M)),q.push(_e)),1;if(be=0,we=we===""?".":we+":",R(M))for(var Oe=0;Oe<M.length;Oe++){Pe=M[Oe];var ee=we+ne(Pe,Oe);be+=xe(Pe,q,ge,ee,_e)}else if(ee=N(M),typeof ee=="function")for(M=ee.call(M),Oe=0;!(Pe=M.next()).done;)Pe=Pe.value,ee=we+ne(Pe,Oe++),be+=xe(Pe,q,ge,ee,_e);else if(Pe==="object")throw q=String(M),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return be}function ie(M,q,ge){if(M==null)return M;var we=[],_e=0;return xe(M,we,"","",function(Pe){return q.call(ge,Pe,_e++)}),we}function ae(M){if(M._status===-1){var q=M._result;q=q(),q.then(function(ge){(M._status===0||M._status===-1)&&(M._status=1,M._result=ge)},function(ge){(M._status===0||M._status===-1)&&(M._status=2,M._result=ge)}),M._status===-1&&(M._status=0,M._result=q)}if(M._status===1)return M._result.default;throw M._result}var pe={current:null},V={transition:null},Z={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:V,ReactCurrentOwner:B};function re(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:ie,forEach:function(M,q,ge){ie(M,function(){q.apply(this,arguments)},ge)},count:function(M){var q=0;return ie(M,function(){q++}),q},toArray:function(M){return ie(M,function(q){return q})||[]},only:function(M){if(!Q(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ee.Component=g,Ee.Fragment=a,Ee.Profiler=o,Ee.PureComponent=O,Ee.StrictMode=l,Ee.Suspense=p,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Ee.act=re,Ee.cloneElement=function(M,q,ge){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var we=j({},M.props),_e=M.key,Pe=M.ref,be=M._owner;if(q!=null){if(q.ref!==void 0&&(Pe=q.ref,be=B.current),q.key!==void 0&&(_e=""+q.key),M.type&&M.type.defaultProps)var Oe=M.type.defaultProps;for(ee in q)U.call(q,ee)&&!L.hasOwnProperty(ee)&&(we[ee]=q[ee]===void 0&&Oe!==void 0?Oe[ee]:q[ee])}var ee=arguments.length-2;if(ee===1)we.children=ge;else if(1<ee){Oe=Array(ee);for(var Se=0;Se<ee;Se++)Oe[Se]=arguments[Se+2];we.children=Oe}return{$$typeof:t,type:M.type,key:_e,ref:Pe,props:we,_owner:be}},Ee.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:d,_context:M},M.Consumer=M},Ee.createElement=W,Ee.createFactory=function(M){var q=W.bind(null,M);return q.type=M,q},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(M){return{$$typeof:m,render:M}},Ee.isValidElement=Q,Ee.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ae}},Ee.memo=function(M,q){return{$$typeof:x,type:M,compare:q===void 0?null:q}},Ee.startTransition=function(M){var q=V.transition;V.transition={};try{M()}finally{V.transition=q}},Ee.unstable_act=re,Ee.useCallback=function(M,q){return pe.current.useCallback(M,q)},Ee.useContext=function(M){return pe.current.useContext(M)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(M){return pe.current.useDeferredValue(M)},Ee.useEffect=function(M,q){return pe.current.useEffect(M,q)},Ee.useId=function(){return pe.current.useId()},Ee.useImperativeHandle=function(M,q,ge){return pe.current.useImperativeHandle(M,q,ge)},Ee.useInsertionEffect=function(M,q){return pe.current.useInsertionEffect(M,q)},Ee.useLayoutEffect=function(M,q){return pe.current.useLayoutEffect(M,q)},Ee.useMemo=function(M,q){return pe.current.useMemo(M,q)},Ee.useReducer=function(M,q,ge){return pe.current.useReducer(M,q,ge)},Ee.useRef=function(M){return pe.current.useRef(M)},Ee.useState=function(M){return pe.current.useState(M)},Ee.useSyncExternalStore=function(M,q,ge){return pe.current.useSyncExternalStore(M,q,ge)},Ee.useTransition=function(){return pe.current.useTransition()},Ee.version="18.3.1",Ee}var of;function Ml(){return of||(of=1,zd.exports=Uv()),zd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf;function qv(){if(cf)return al;cf=1;var t=Ml(),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function u(m,p,x){var v,y={},N=null,k=null;x!==void 0&&(N=""+x),p.key!==void 0&&(N=""+p.key),p.ref!==void 0&&(k=p.ref);for(v in p)l.call(p,v)&&!d.hasOwnProperty(v)&&(y[v]=p[v]);if(m&&m.defaultProps)for(v in p=m.defaultProps,p)y[v]===void 0&&(y[v]=p[v]);return{$$typeof:n,type:m,key:N,ref:k,props:y,_owner:o.current}}return al.Fragment=a,al.jsx=u,al.jsxs=u,al}var df;function Bv(){return df||(df=1,Dd.exports=qv()),Dd.exports}var e=Bv(),S=Ml();const Po=Uu(S),Wv=$v({__proto__:null,default:Po},[S]);var to={},Ad={exports:{}},Ot={},Fd={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf;function Hv(){return uf||(uf=1,(function(t){function n(V,Z){var re=V.length;V.push(Z);e:for(;0<re;){var M=re-1>>>1,q=V[M];if(0<o(q,Z))V[M]=Z,V[re]=q,re=M;else break e}}function a(V){return V.length===0?null:V[0]}function l(V){if(V.length===0)return null;var Z=V[0],re=V.pop();if(re!==Z){V[0]=re;e:for(var M=0,q=V.length,ge=q>>>1;M<ge;){var we=2*(M+1)-1,_e=V[we],Pe=we+1,be=V[Pe];if(0>o(_e,re))Pe<q&&0>o(be,_e)?(V[M]=be,V[Pe]=re,M=Pe):(V[M]=_e,V[we]=re,M=we);else if(Pe<q&&0>o(be,re))V[M]=be,V[Pe]=re,M=Pe;else break e}}return Z}function o(V,Z){var re=V.sortIndex-Z.sortIndex;return re!==0?re:V.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var u=Date,m=u.now();t.unstable_now=function(){return u.now()-m}}var p=[],x=[],v=1,y=null,N=3,k=!1,j=!1,b=!1,g=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(V){for(var Z=a(x);Z!==null;){if(Z.callback===null)l(x);else if(Z.startTime<=V)l(x),Z.sortIndex=Z.expirationTime,n(p,Z);else break;Z=a(x)}}function R(V){if(b=!1,C(V),!j)if(a(p)!==null)j=!0,ae(U);else{var Z=a(x);Z!==null&&pe(R,Z.startTime-V)}}function U(V,Z){j=!1,b&&(b=!1,P(W),W=-1),k=!0;var re=N;try{for(C(Z),y=a(p);y!==null&&(!(y.expirationTime>Z)||V&&!le());){var M=y.callback;if(typeof M=="function"){y.callback=null,N=y.priorityLevel;var q=M(y.expirationTime<=Z);Z=t.unstable_now(),typeof q=="function"?y.callback=q:y===a(p)&&l(p),C(Z)}else l(p);y=a(p)}if(y!==null)var ge=!0;else{var we=a(x);we!==null&&pe(R,we.startTime-Z),ge=!1}return ge}finally{y=null,N=re,k=!1}}var B=!1,L=null,W=-1,H=5,Q=-1;function le(){return!(t.unstable_now()-Q<H)}function G(){if(L!==null){var V=t.unstable_now();Q=V;var Z=!0;try{Z=L(!0,V)}finally{Z?ne():(B=!1,L=null)}}else B=!1}var ne;if(typeof O=="function")ne=function(){O(G)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,ie=xe.port2;xe.port1.onmessage=G,ne=function(){ie.postMessage(null)}}else ne=function(){g(G,0)};function ae(V){L=V,B||(B=!0,ne())}function pe(V,Z){W=g(function(){V(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){j||k||(j=!0,ae(U))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return a(p)},t.unstable_next=function(V){switch(N){case 1:case 2:case 3:var Z=3;break;default:Z=N}var re=N;N=Z;try{return V()}finally{N=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var re=N;N=V;try{return Z()}finally{N=re}},t.unstable_scheduleCallback=function(V,Z,re){var M=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?M+re:M):re=M,V){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=re+q,V={id:v++,callback:Z,priorityLevel:V,startTime:re,expirationTime:q,sortIndex:-1},re>M?(V.sortIndex=re,n(x,V),a(p)===null&&V===a(x)&&(b?(P(W),W=-1):b=!0,pe(R,re-M))):(V.sortIndex=q,n(p,V),j||k||(j=!0,ae(U))),V},t.unstable_shouldYield=le,t.unstable_wrapCallback=function(V){var Z=N;return function(){var re=N;N=Z;try{return V.apply(this,arguments)}finally{N=re}}}})(Ld)),Ld}var hf;function Qv(){return hf||(hf=1,Fd.exports=Hv()),Fd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mf;function Vv(){if(mf)return Ot;mf=1;var t=Ml(),n=Qv();function a(s){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+s,i=1;i<arguments.length;i++)r+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,o={};function d(s,r){u(s,r),u(s+"Capture",r)}function u(s,r){for(o[s]=r,s=0;s<r.length;s++)l.add(r[s])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function N(s){return p.call(y,s)?!0:p.call(v,s)?!1:x.test(s)?y[s]=!0:(v[s]=!0,!1)}function k(s,r,i,c){if(i!==null&&i.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:i!==null?!i.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,r,i,c){if(r===null||typeof r>"u"||k(s,r,i,c))return!0;if(c)return!1;if(i!==null)switch(i.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function b(s,r,i,c,h,f,w){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=s,this.type=r,this.sanitizeURL=f,this.removeEmptyString=w}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){g[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var r=s[0];g[r]=new b(r,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){g[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){g[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){g[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){g[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){g[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){g[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){g[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function O(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var r=s.replace(P,O);g[r]=new b(r,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var r=s.replace(P,O);g[r]=new b(r,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var r=s.replace(P,O);g[r]=new b(r,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){g[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),g.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){g[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function C(s,r,i,c){var h=g.hasOwnProperty(r)?g[r]:null;(h!==null?h.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(j(r,i,h,c)&&(i=null),c||h===null?N(r)&&(i===null?s.removeAttribute(r):s.setAttribute(r,""+i)):h.mustUseProperty?s[h.propertyName]=i===null?h.type===3?!1:"":i:(r=h.attributeName,c=h.attributeNamespace,i===null?s.removeAttribute(r):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,c?s.setAttributeNS(c,r,i):s.setAttribute(r,i))))}var R=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),B=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),le=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),V=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=V&&s[V]||s["@@iterator"],typeof s=="function"?s:null)}var re=Object.assign,M;function q(s){if(M===void 0)try{throw Error()}catch(i){var r=i.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||""}return`
`+M+s}var ge=!1;function we(s,r){if(!s||ge)return"";ge=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(F){var c=F}Reflect.construct(s,[],r)}else{try{r.call()}catch(F){c=F}s.call(r.prototype)}else{try{throw Error()}catch(F){c=F}s()}}catch(F){if(F&&c&&typeof F.stack=="string"){for(var h=F.stack.split(`
`),f=c.stack.split(`
`),w=h.length-1,E=f.length-1;1<=w&&0<=E&&h[w]!==f[E];)E--;for(;1<=w&&0<=E;w--,E--)if(h[w]!==f[E]){if(w!==1||E!==1)do if(w--,E--,0>E||h[w]!==f[E]){var T=`
`+h[w].replace(" at new "," at ");return s.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",s.displayName)),T}while(1<=w&&0<=E);break}}}finally{ge=!1,Error.prepareStackTrace=i}return(s=s?s.displayName||s.name:"")?q(s):""}function _e(s){switch(s.tag){case 5:return q(s.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return s=we(s.type,!1),s;case 11:return s=we(s.type.render,!1),s;case 1:return s=we(s.type,!0),s;default:return""}}function Pe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case B:return"Portal";case H:return"Profiler";case W:return"StrictMode";case ne:return"Suspense";case xe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case le:return(s.displayName||"Context")+".Consumer";case Q:return(s._context.displayName||"Context")+".Provider";case G:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ie:return r=s.displayName||null,r!==null?r:Pe(s.type)||"Memo";case ae:r=s._payload,s=s._init;try{return Pe(s(r))}catch{}}return null}function be(s){var r=s.type;switch(s.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=r.render,s=s.displayName||s.name||"",r.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(r);case 8:return r===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Oe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ee(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Se(s){var r=ee(s)?"checked":"value",i=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),c=""+s[r];if(!s.hasOwnProperty(r)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,f=i.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return h.call(this)},set:function(w){c=""+w,f.call(this,w)}}),Object.defineProperty(s,r,{enumerable:i.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Ge(s){s._valueTracker||(s._valueTracker=Se(s))}function xs(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var i=r.getValue(),c="";return s&&(c=ee(s)?s.checked?"true":"false":s.value),s=c,s!==i?(r.setValue(s),!0):!1}function Fn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ln(s,r){var i=r.checked;return re({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??s._wrapperState.initialChecked})}function va(s,r){var i=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;i=Oe(r.value!=null?r.value:i),s._wrapperState={initialChecked:c,initialValue:i,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Hl(s,r){r=r.checked,r!=null&&C(s,"checked",r,!1)}function $o(s,r){Hl(s,r);var i=Oe(r.value),c=r.type;if(i!=null)c==="number"?(i===0&&s.value===""||s.value!=i)&&(s.value=""+i):s.value!==""+i&&(s.value=""+i);else if(c==="submit"||c==="reset"){s.removeAttribute("value");return}r.hasOwnProperty("value")?Uo(s,r.type,i):r.hasOwnProperty("defaultValue")&&Uo(s,r.type,Oe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(s.defaultChecked=!!r.defaultChecked)}function f0(s,r,i){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+s._wrapperState.initialValue,i||r===s.value||(s.value=r),s.defaultValue=r}i=s.name,i!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,i!==""&&(s.name=i)}function Uo(s,r,i){(r!=="number"||Fn(s.ownerDocument)!==s)&&(i==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+i&&(s.defaultValue=""+i))}var ba=Array.isArray;function br(s,r,i,c){if(s=s.options,r){r={};for(var h=0;h<i.length;h++)r["$"+i[h]]=!0;for(i=0;i<s.length;i++)h=r.hasOwnProperty("$"+s[i].value),s[i].selected!==h&&(s[i].selected=h),h&&c&&(s[i].defaultSelected=!0)}else{for(i=""+Oe(i),r=null,h=0;h<s.length;h++){if(s[h].value===i){s[h].selected=!0,c&&(s[h].defaultSelected=!0);return}r!==null||s[h].disabled||(r=s[h])}r!==null&&(r.selected=!0)}}function qo(s,r){if(r.dangerouslySetInnerHTML!=null)throw Error(a(91));return re({},r,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function p0(s,r){var i=r.value;if(i==null){if(i=r.children,r=r.defaultValue,i!=null){if(r!=null)throw Error(a(92));if(ba(i)){if(1<i.length)throw Error(a(93));i=i[0]}r=i}r==null&&(r=""),i=r}s._wrapperState={initialValue:Oe(i)}}function x0(s,r){var i=Oe(r.value),c=Oe(r.defaultValue);i!=null&&(i=""+i,i!==s.value&&(s.value=i),r.defaultValue==null&&s.defaultValue!==i&&(s.defaultValue=i)),c!=null&&(s.defaultValue=""+c)}function g0(s){var r=s.textContent;r===s._wrapperState.initialValue&&r!==""&&r!==null&&(s.value=r)}function y0(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bo(s,r){return s==null||s==="http://www.w3.org/1999/xhtml"?y0(r):s==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ql,v0=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,i,c,h){MSApp.execUnsafeLocalFunction(function(){return s(r,i,c,h)})}:s})(function(s,r){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=r;else{for(Ql=Ql||document.createElement("div"),Ql.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Ql.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;r.firstChild;)s.appendChild(r.firstChild)}});function ja(s,r){if(r){var i=s.firstChild;if(i&&i===s.lastChild&&i.nodeType===3){i.nodeValue=r;return}}s.textContent=r}var wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qg=["Webkit","ms","Moz","O"];Object.keys(wa).forEach(function(s){qg.forEach(function(r){r=r+s.charAt(0).toUpperCase()+s.substring(1),wa[r]=wa[s]})});function b0(s,r,i){return r==null||typeof r=="boolean"||r===""?"":i||typeof r!="number"||r===0||wa.hasOwnProperty(s)&&wa[s]?(""+r).trim():r+"px"}function j0(s,r){s=s.style;for(var i in r)if(r.hasOwnProperty(i)){var c=i.indexOf("--")===0,h=b0(i,r[i],c);i==="float"&&(i="cssFloat"),c?s.setProperty(i,h):s[i]=h}}var Bg=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wo(s,r){if(r){if(Bg[s]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(a(137,s));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(a(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(a(61))}if(r.style!=null&&typeof r.style!="object")throw Error(a(62))}}function Ho(s,r){if(s.indexOf("-")===-1)return typeof r.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qo=null;function Vo(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ko=null,jr=null,wr=null;function w0(s){if(s=Wa(s)){if(typeof Ko!="function")throw Error(a(280));var r=s.stateNode;r&&(r=pi(r),Ko(s.stateNode,s.type,r))}}function N0(s){jr?wr?wr.push(s):wr=[s]:jr=s}function k0(){if(jr){var s=jr,r=wr;if(wr=jr=null,w0(s),r)for(s=0;s<r.length;s++)w0(r[s])}}function S0(s,r){return s(r)}function C0(){}var Go=!1;function _0(s,r,i){if(Go)return s(r,i);Go=!0;try{return S0(s,r,i)}finally{Go=!1,(jr!==null||wr!==null)&&(C0(),k0())}}function Na(s,r){var i=s.stateNode;if(i===null)return null;var c=pi(i);if(c===null)return null;i=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(i&&typeof i!="function")throw Error(a(231,r,typeof i));return i}var Yo=!1;if(m)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{Yo=!1}function Wg(s,r,i,c,h,f,w,E,T){var F=Array.prototype.slice.call(arguments,3);try{r.apply(i,F)}catch(Y){this.onError(Y)}}var Sa=!1,Vl=null,Kl=!1,Jo=null,Hg={onError:function(s){Sa=!0,Vl=s}};function Qg(s,r,i,c,h,f,w,E,T){Sa=!1,Vl=null,Wg.apply(Hg,arguments)}function Vg(s,r,i,c,h,f,w,E,T){if(Qg.apply(this,arguments),Sa){if(Sa){var F=Vl;Sa=!1,Vl=null}else throw Error(a(198));Kl||(Kl=!0,Jo=F)}}function In(s){var r=s,i=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(i=r.return),s=r.return;while(s)}return r.tag===3?i:null}function E0(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function P0(s){if(In(s)!==s)throw Error(a(188))}function Kg(s){var r=s.alternate;if(!r){if(r=In(s),r===null)throw Error(a(188));return r!==s?null:s}for(var i=s,c=r;;){var h=i.return;if(h===null)break;var f=h.alternate;if(f===null){if(c=h.return,c!==null){i=c;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===i)return P0(h),s;if(f===c)return P0(h),r;f=f.sibling}throw Error(a(188))}if(i.return!==c.return)i=h,c=f;else{for(var w=!1,E=h.child;E;){if(E===i){w=!0,i=h,c=f;break}if(E===c){w=!0,c=h,i=f;break}E=E.sibling}if(!w){for(E=f.child;E;){if(E===i){w=!0,i=f,c=h;break}if(E===c){w=!0,c=f,i=h;break}E=E.sibling}if(!w)throw Error(a(189))}}if(i.alternate!==c)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?s:r}function R0(s){return s=Kg(s),s!==null?T0(s):null}function T0(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var r=T0(s);if(r!==null)return r;s=s.sibling}return null}var O0=n.unstable_scheduleCallback,M0=n.unstable_cancelCallback,Gg=n.unstable_shouldYield,Yg=n.unstable_requestPaint,Ze=n.unstable_now,Jg=n.unstable_getCurrentPriorityLevel,Xo=n.unstable_ImmediatePriority,D0=n.unstable_UserBlockingPriority,Gl=n.unstable_NormalPriority,Xg=n.unstable_LowPriority,z0=n.unstable_IdlePriority,Yl=null,gs=null;function Zg(s){if(gs&&typeof gs.onCommitFiberRoot=="function")try{gs.onCommitFiberRoot(Yl,s,void 0,(s.current.flags&128)===128)}catch{}}var ls=Math.clz32?Math.clz32:sy,ey=Math.log,ty=Math.LN2;function sy(s){return s>>>=0,s===0?32:31-(ey(s)/ty|0)|0}var Jl=64,Xl=4194304;function Ca(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Zl(s,r){var i=s.pendingLanes;if(i===0)return 0;var c=0,h=s.suspendedLanes,f=s.pingedLanes,w=i&268435455;if(w!==0){var E=w&~h;E!==0?c=Ca(E):(f&=w,f!==0&&(c=Ca(f)))}else w=i&~h,w!==0?c=Ca(w):f!==0&&(c=Ca(f));if(c===0)return 0;if(r!==0&&r!==c&&(r&h)===0&&(h=c&-c,f=r&-r,h>=f||h===16&&(f&4194240)!==0))return r;if((c&4)!==0&&(c|=i&16),r=s.entangledLanes,r!==0)for(s=s.entanglements,r&=c;0<r;)i=31-ls(r),h=1<<i,c|=s[i],r&=~h;return c}function ny(s,r){switch(s){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ry(s,r){for(var i=s.suspendedLanes,c=s.pingedLanes,h=s.expirationTimes,f=s.pendingLanes;0<f;){var w=31-ls(f),E=1<<w,T=h[w];T===-1?((E&i)===0||(E&c)!==0)&&(h[w]=ny(E,r)):T<=r&&(s.expiredLanes|=E),f&=~E}}function Zo(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function A0(){var s=Jl;return Jl<<=1,(Jl&4194240)===0&&(Jl=64),s}function ec(s){for(var r=[],i=0;31>i;i++)r.push(s);return r}function _a(s,r,i){s.pendingLanes|=r,r!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,r=31-ls(r),s[r]=i}function ay(s,r){var i=s.pendingLanes&~r;s.pendingLanes=r,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=r,s.mutableReadLanes&=r,s.entangledLanes&=r,r=s.entanglements;var c=s.eventTimes;for(s=s.expirationTimes;0<i;){var h=31-ls(i),f=1<<h;r[h]=0,c[h]=-1,s[h]=-1,i&=~f}}function tc(s,r){var i=s.entangledLanes|=r;for(s=s.entanglements;i;){var c=31-ls(i),h=1<<c;h&r|s[c]&r&&(s[c]|=r),i&=~h}}var Ae=0;function F0(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var L0,sc,I0,$0,U0,nc=!1,ei=[],Vs=null,Ks=null,Gs=null,Ea=new Map,Pa=new Map,Ys=[],ly="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q0(s,r){switch(s){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Gs=null;break;case"pointerover":case"pointerout":Ea.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(r.pointerId)}}function Ra(s,r,i,c,h,f){return s===null||s.nativeEvent!==f?(s={blockedOn:r,domEventName:i,eventSystemFlags:c,nativeEvent:f,targetContainers:[h]},r!==null&&(r=Wa(r),r!==null&&sc(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),s)}function iy(s,r,i,c,h){switch(r){case"focusin":return Vs=Ra(Vs,s,r,i,c,h),!0;case"dragenter":return Ks=Ra(Ks,s,r,i,c,h),!0;case"mouseover":return Gs=Ra(Gs,s,r,i,c,h),!0;case"pointerover":var f=h.pointerId;return Ea.set(f,Ra(Ea.get(f)||null,s,r,i,c,h)),!0;case"gotpointercapture":return f=h.pointerId,Pa.set(f,Ra(Pa.get(f)||null,s,r,i,c,h)),!0}return!1}function B0(s){var r=$n(s.target);if(r!==null){var i=In(r);if(i!==null){if(r=i.tag,r===13){if(r=E0(i),r!==null){s.blockedOn=r,U0(s.priority,function(){I0(i)});return}}else if(r===3&&i.stateNode.current.memoizedState.isDehydrated){s.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ti(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var i=ac(s.domEventName,s.eventSystemFlags,r[0],s.nativeEvent);if(i===null){i=s.nativeEvent;var c=new i.constructor(i.type,i);Qo=c,i.target.dispatchEvent(c),Qo=null}else return r=Wa(i),r!==null&&sc(r),s.blockedOn=i,!1;r.shift()}return!0}function W0(s,r,i){ti(s)&&i.delete(r)}function oy(){nc=!1,Vs!==null&&ti(Vs)&&(Vs=null),Ks!==null&&ti(Ks)&&(Ks=null),Gs!==null&&ti(Gs)&&(Gs=null),Ea.forEach(W0),Pa.forEach(W0)}function Ta(s,r){s.blockedOn===r&&(s.blockedOn=null,nc||(nc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,oy)))}function Oa(s){function r(h){return Ta(h,s)}if(0<ei.length){Ta(ei[0],s);for(var i=1;i<ei.length;i++){var c=ei[i];c.blockedOn===s&&(c.blockedOn=null)}}for(Vs!==null&&Ta(Vs,s),Ks!==null&&Ta(Ks,s),Gs!==null&&Ta(Gs,s),Ea.forEach(r),Pa.forEach(r),i=0;i<Ys.length;i++)c=Ys[i],c.blockedOn===s&&(c.blockedOn=null);for(;0<Ys.length&&(i=Ys[0],i.blockedOn===null);)B0(i),i.blockedOn===null&&Ys.shift()}var Nr=R.ReactCurrentBatchConfig,si=!0;function cy(s,r,i,c){var h=Ae,f=Nr.transition;Nr.transition=null;try{Ae=1,rc(s,r,i,c)}finally{Ae=h,Nr.transition=f}}function dy(s,r,i,c){var h=Ae,f=Nr.transition;Nr.transition=null;try{Ae=4,rc(s,r,i,c)}finally{Ae=h,Nr.transition=f}}function rc(s,r,i,c){if(si){var h=ac(s,r,i,c);if(h===null)wc(s,r,c,ni,i),q0(s,c);else if(iy(h,s,r,i,c))c.stopPropagation();else if(q0(s,c),r&4&&-1<ly.indexOf(s)){for(;h!==null;){var f=Wa(h);if(f!==null&&L0(f),f=ac(s,r,i,c),f===null&&wc(s,r,c,ni,i),f===h)break;h=f}h!==null&&c.stopPropagation()}else wc(s,r,c,null,i)}}var ni=null;function ac(s,r,i,c){if(ni=null,s=Vo(c),s=$n(s),s!==null)if(r=In(s),r===null)s=null;else if(i=r.tag,i===13){if(s=E0(r),s!==null)return s;s=null}else if(i===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null);return ni=s,null}function H0(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jg()){case Xo:return 1;case D0:return 4;case Gl:case Xg:return 16;case z0:return 536870912;default:return 16}default:return 16}}var Js=null,lc=null,ri=null;function Q0(){if(ri)return ri;var s,r=lc,i=r.length,c,h="value"in Js?Js.value:Js.textContent,f=h.length;for(s=0;s<i&&r[s]===h[s];s++);var w=i-s;for(c=1;c<=w&&r[i-c]===h[f-c];c++);return ri=h.slice(s,1<c?1-c:void 0)}function ai(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function li(){return!0}function V0(){return!1}function Lt(s){function r(i,c,h,f,w){this._reactName=i,this._targetInst=h,this.type=c,this.nativeEvent=f,this.target=w,this.currentTarget=null;for(var E in s)s.hasOwnProperty(E)&&(i=s[E],this[E]=i?i(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?li:V0,this.isPropagationStopped=V0,this}return re(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),r}var kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ic=Lt(kr),Ma=re({},kr,{view:0,detail:0}),uy=Lt(Ma),oc,cc,Da,ii=re({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uc,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Da&&(Da&&s.type==="mousemove"?(oc=s.screenX-Da.screenX,cc=s.screenY-Da.screenY):cc=oc=0,Da=s),oc)},movementY:function(s){return"movementY"in s?s.movementY:cc}}),K0=Lt(ii),hy=re({},ii,{dataTransfer:0}),my=Lt(hy),fy=re({},Ma,{relatedTarget:0}),dc=Lt(fy),py=re({},kr,{animationName:0,elapsedTime:0,pseudoElement:0}),xy=Lt(py),gy=re({},kr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),yy=Lt(gy),vy=re({},kr,{data:0}),G0=Lt(vy),by={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ny(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=wy[s])?!!r[s]:!1}function uc(){return Ny}var ky=re({},Ma,{key:function(s){if(s.key){var r=by[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=ai(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?jy[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uc,charCode:function(s){return s.type==="keypress"?ai(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ai(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Sy=Lt(ky),Cy=re({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y0=Lt(Cy),_y=re({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uc}),Ey=Lt(_y),Py=re({},kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ry=Lt(Py),Ty=re({},ii,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Oy=Lt(Ty),My=[9,13,27,32],hc=m&&"CompositionEvent"in window,za=null;m&&"documentMode"in document&&(za=document.documentMode);var Dy=m&&"TextEvent"in window&&!za,J0=m&&(!hc||za&&8<za&&11>=za),X0=" ",Z0=!1;function eh(s,r){switch(s){case"keyup":return My.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function th(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Sr=!1;function zy(s,r){switch(s){case"compositionend":return th(r);case"keypress":return r.which!==32?null:(Z0=!0,X0);case"textInput":return s=r.data,s===X0&&Z0?null:s;default:return null}}function Ay(s,r){if(Sr)return s==="compositionend"||!hc&&eh(s,r)?(s=Q0(),ri=lc=Js=null,Sr=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return J0&&r.locale!=="ko"?null:r.data;default:return null}}var Fy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sh(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!Fy[s.type]:r==="textarea"}function nh(s,r,i,c){N0(c),r=hi(r,"onChange"),0<r.length&&(i=new ic("onChange","change",null,i,c),s.push({event:i,listeners:r}))}var Aa=null,Fa=null;function Ly(s){jh(s,0)}function oi(s){var r=Rr(s);if(xs(r))return s}function Iy(s,r){if(s==="change")return r}var rh=!1;if(m){var mc;if(m){var fc="oninput"in document;if(!fc){var ah=document.createElement("div");ah.setAttribute("oninput","return;"),fc=typeof ah.oninput=="function"}mc=fc}else mc=!1;rh=mc&&(!document.documentMode||9<document.documentMode)}function lh(){Aa&&(Aa.detachEvent("onpropertychange",ih),Fa=Aa=null)}function ih(s){if(s.propertyName==="value"&&oi(Fa)){var r=[];nh(r,Fa,s,Vo(s)),_0(Ly,r)}}function $y(s,r,i){s==="focusin"?(lh(),Aa=r,Fa=i,Aa.attachEvent("onpropertychange",ih)):s==="focusout"&&lh()}function Uy(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return oi(Fa)}function qy(s,r){if(s==="click")return oi(r)}function By(s,r){if(s==="input"||s==="change")return oi(r)}function Wy(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var is=typeof Object.is=="function"?Object.is:Wy;function La(s,r){if(is(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var i=Object.keys(s),c=Object.keys(r);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var h=i[c];if(!p.call(r,h)||!is(s[h],r[h]))return!1}return!0}function oh(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ch(s,r){var i=oh(s);s=0;for(var c;i;){if(i.nodeType===3){if(c=s+i.textContent.length,s<=r&&c>=r)return{node:i,offset:r-s};s=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=oh(i)}}function dh(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?dh(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function uh(){for(var s=window,r=Fn();r instanceof s.HTMLIFrameElement;){try{var i=typeof r.contentWindow.location.href=="string"}catch{i=!1}if(i)s=r.contentWindow;else break;r=Fn(s.document)}return r}function pc(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}function Hy(s){var r=uh(),i=s.focusedElem,c=s.selectionRange;if(r!==i&&i&&i.ownerDocument&&dh(i.ownerDocument.documentElement,i)){if(c!==null&&pc(i)){if(r=c.start,s=c.end,s===void 0&&(s=r),"selectionStart"in i)i.selectionStart=r,i.selectionEnd=Math.min(s,i.value.length);else if(s=(r=i.ownerDocument||document)&&r.defaultView||window,s.getSelection){s=s.getSelection();var h=i.textContent.length,f=Math.min(c.start,h);c=c.end===void 0?f:Math.min(c.end,h),!s.extend&&f>c&&(h=c,c=f,f=h),h=ch(i,f);var w=ch(i,c);h&&w&&(s.rangeCount!==1||s.anchorNode!==h.node||s.anchorOffset!==h.offset||s.focusNode!==w.node||s.focusOffset!==w.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),s.removeAllRanges(),f>c?(s.addRange(r),s.extend(w.node,w.offset)):(r.setEnd(w.node,w.offset),s.addRange(r)))}}for(r=[],s=i;s=s.parentNode;)s.nodeType===1&&r.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<r.length;i++)s=r[i],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Qy=m&&"documentMode"in document&&11>=document.documentMode,Cr=null,xc=null,Ia=null,gc=!1;function hh(s,r,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;gc||Cr==null||Cr!==Fn(c)||(c=Cr,"selectionStart"in c&&pc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ia&&La(Ia,c)||(Ia=c,c=hi(xc,"onSelect"),0<c.length&&(r=new ic("onSelect","select",null,r,i),s.push({event:r,listeners:c}),r.target=Cr)))}function ci(s,r){var i={};return i[s.toLowerCase()]=r.toLowerCase(),i["Webkit"+s]="webkit"+r,i["Moz"+s]="moz"+r,i}var _r={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionend:ci("Transition","TransitionEnd")},yc={},mh={};m&&(mh=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function di(s){if(yc[s])return yc[s];if(!_r[s])return s;var r=_r[s],i;for(i in r)if(r.hasOwnProperty(i)&&i in mh)return yc[s]=r[i];return s}var fh=di("animationend"),ph=di("animationiteration"),xh=di("animationstart"),gh=di("transitionend"),yh=new Map,vh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(s,r){yh.set(s,r),d(r,[s])}for(var vc=0;vc<vh.length;vc++){var bc=vh[vc],Vy=bc.toLowerCase(),Ky=bc[0].toUpperCase()+bc.slice(1);Xs(Vy,"on"+Ky)}Xs(fh,"onAnimationEnd"),Xs(ph,"onAnimationIteration"),Xs(xh,"onAnimationStart"),Xs("dblclick","onDoubleClick"),Xs("focusin","onFocus"),Xs("focusout","onBlur"),Xs(gh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gy=new Set("cancel close invalid load scroll toggle".split(" ").concat($a));function bh(s,r,i){var c=s.type||"unknown-event";s.currentTarget=i,Vg(c,r,void 0,s),s.currentTarget=null}function jh(s,r){r=(r&4)!==0;for(var i=0;i<s.length;i++){var c=s[i],h=c.event;c=c.listeners;e:{var f=void 0;if(r)for(var w=c.length-1;0<=w;w--){var E=c[w],T=E.instance,F=E.currentTarget;if(E=E.listener,T!==f&&h.isPropagationStopped())break e;bh(h,E,F),f=T}else for(w=0;w<c.length;w++){if(E=c[w],T=E.instance,F=E.currentTarget,E=E.listener,T!==f&&h.isPropagationStopped())break e;bh(h,E,F),f=T}}}if(Kl)throw s=Jo,Kl=!1,Jo=null,s}function Ue(s,r){var i=r[Ec];i===void 0&&(i=r[Ec]=new Set);var c=s+"__bubble";i.has(c)||(wh(r,s,2,!1),i.add(c))}function jc(s,r,i){var c=0;r&&(c|=4),wh(i,s,c,r)}var ui="_reactListening"+Math.random().toString(36).slice(2);function Ua(s){if(!s[ui]){s[ui]=!0,l.forEach(function(i){i!=="selectionchange"&&(Gy.has(i)||jc(i,!1,s),jc(i,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[ui]||(r[ui]=!0,jc("selectionchange",!1,r))}}function wh(s,r,i,c){switch(H0(r)){case 1:var h=cy;break;case 4:h=dy;break;default:h=rc}i=h.bind(null,r,i,s),h=void 0,!Yo||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),c?h!==void 0?s.addEventListener(r,i,{capture:!0,passive:h}):s.addEventListener(r,i,!0):h!==void 0?s.addEventListener(r,i,{passive:h}):s.addEventListener(r,i,!1)}function wc(s,r,i,c,h){var f=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var E=c.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(w===4)for(w=c.return;w!==null;){var T=w.tag;if((T===3||T===4)&&(T=w.stateNode.containerInfo,T===h||T.nodeType===8&&T.parentNode===h))return;w=w.return}for(;E!==null;){if(w=$n(E),w===null)return;if(T=w.tag,T===5||T===6){c=f=w;continue e}E=E.parentNode}}c=c.return}_0(function(){var F=f,Y=Vo(i),J=[];e:{var K=yh.get(s);if(K!==void 0){var oe=ic,ue=s;switch(s){case"keypress":if(ai(i)===0)break e;case"keydown":case"keyup":oe=Sy;break;case"focusin":ue="focus",oe=dc;break;case"focusout":ue="blur",oe=dc;break;case"beforeblur":case"afterblur":oe=dc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=K0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=my;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=Ey;break;case fh:case ph:case xh:oe=xy;break;case gh:oe=Ry;break;case"scroll":oe=uy;break;case"wheel":oe=Oy;break;case"copy":case"cut":case"paste":oe=yy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Y0}var he=(r&4)!==0,et=!he&&s==="scroll",z=he?K!==null?K+"Capture":null:K;he=[];for(var D=F,A;D!==null;){A=D;var te=A.stateNode;if(A.tag===5&&te!==null&&(A=te,z!==null&&(te=Na(D,z),te!=null&&he.push(qa(D,te,A)))),et)break;D=D.return}0<he.length&&(K=new oe(K,ue,null,i,Y),J.push({event:K,listeners:he}))}}if((r&7)===0){e:{if(K=s==="mouseover"||s==="pointerover",oe=s==="mouseout"||s==="pointerout",K&&i!==Qo&&(ue=i.relatedTarget||i.fromElement)&&($n(ue)||ue[Ps]))break e;if((oe||K)&&(K=Y.window===Y?Y:(K=Y.ownerDocument)?K.defaultView||K.parentWindow:window,oe?(ue=i.relatedTarget||i.toElement,oe=F,ue=ue?$n(ue):null,ue!==null&&(et=In(ue),ue!==et||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(oe=null,ue=F),oe!==ue)){if(he=K0,te="onMouseLeave",z="onMouseEnter",D="mouse",(s==="pointerout"||s==="pointerover")&&(he=Y0,te="onPointerLeave",z="onPointerEnter",D="pointer"),et=oe==null?K:Rr(oe),A=ue==null?K:Rr(ue),K=new he(te,D+"leave",oe,i,Y),K.target=et,K.relatedTarget=A,te=null,$n(Y)===F&&(he=new he(z,D+"enter",ue,i,Y),he.target=A,he.relatedTarget=et,te=he),et=te,oe&&ue)t:{for(he=oe,z=ue,D=0,A=he;A;A=Er(A))D++;for(A=0,te=z;te;te=Er(te))A++;for(;0<D-A;)he=Er(he),D--;for(;0<A-D;)z=Er(z),A--;for(;D--;){if(he===z||z!==null&&he===z.alternate)break t;he=Er(he),z=Er(z)}he=null}else he=null;oe!==null&&Nh(J,K,oe,he,!1),ue!==null&&et!==null&&Nh(J,et,ue,he,!0)}}e:{if(K=F?Rr(F):window,oe=K.nodeName&&K.nodeName.toLowerCase(),oe==="select"||oe==="input"&&K.type==="file")var me=Iy;else if(sh(K))if(rh)me=By;else{me=Uy;var ye=$y}else(oe=K.nodeName)&&oe.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(me=qy);if(me&&(me=me(s,F))){nh(J,me,i,Y);break e}ye&&ye(s,K,F),s==="focusout"&&(ye=K._wrapperState)&&ye.controlled&&K.type==="number"&&Uo(K,"number",K.value)}switch(ye=F?Rr(F):window,s){case"focusin":(sh(ye)||ye.contentEditable==="true")&&(Cr=ye,xc=F,Ia=null);break;case"focusout":Ia=xc=Cr=null;break;case"mousedown":gc=!0;break;case"contextmenu":case"mouseup":case"dragend":gc=!1,hh(J,i,Y);break;case"selectionchange":if(Qy)break;case"keydown":case"keyup":hh(J,i,Y)}var ve;if(hc)e:{switch(s){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Sr?eh(s,i)&&(ke="onCompositionEnd"):s==="keydown"&&i.keyCode===229&&(ke="onCompositionStart");ke&&(J0&&i.locale!=="ko"&&(Sr||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Sr&&(ve=Q0()):(Js=Y,lc="value"in Js?Js.value:Js.textContent,Sr=!0)),ye=hi(F,ke),0<ye.length&&(ke=new G0(ke,s,null,i,Y),J.push({event:ke,listeners:ye}),ve?ke.data=ve:(ve=th(i),ve!==null&&(ke.data=ve)))),(ve=Dy?zy(s,i):Ay(s,i))&&(F=hi(F,"onBeforeInput"),0<F.length&&(Y=new G0("onBeforeInput","beforeinput",null,i,Y),J.push({event:Y,listeners:F}),Y.data=ve))}jh(J,r)})}function qa(s,r,i){return{instance:s,listener:r,currentTarget:i}}function hi(s,r){for(var i=r+"Capture",c=[];s!==null;){var h=s,f=h.stateNode;h.tag===5&&f!==null&&(h=f,f=Na(s,i),f!=null&&c.unshift(qa(s,f,h)),f=Na(s,r),f!=null&&c.push(qa(s,f,h))),s=s.return}return c}function Er(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Nh(s,r,i,c,h){for(var f=r._reactName,w=[];i!==null&&i!==c;){var E=i,T=E.alternate,F=E.stateNode;if(T!==null&&T===c)break;E.tag===5&&F!==null&&(E=F,h?(T=Na(i,f),T!=null&&w.unshift(qa(i,T,E))):h||(T=Na(i,f),T!=null&&w.push(qa(i,T,E)))),i=i.return}w.length!==0&&s.push({event:r,listeners:w})}var Yy=/\r\n?/g,Jy=/\u0000|\uFFFD/g;function kh(s){return(typeof s=="string"?s:""+s).replace(Yy,`
`).replace(Jy,"")}function mi(s,r,i){if(r=kh(r),kh(s)!==r&&i)throw Error(a(425))}function fi(){}var Nc=null,kc=null;function Sc(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cc=typeof setTimeout=="function"?setTimeout:void 0,Xy=typeof clearTimeout=="function"?clearTimeout:void 0,Sh=typeof Promise=="function"?Promise:void 0,Zy=typeof queueMicrotask=="function"?queueMicrotask:typeof Sh<"u"?function(s){return Sh.resolve(null).then(s).catch(ev)}:Cc;function ev(s){setTimeout(function(){throw s})}function _c(s,r){var i=r,c=0;do{var h=i.nextSibling;if(s.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(c===0){s.removeChild(h),Oa(r);return}c--}else i!=="$"&&i!=="$?"&&i!=="$!"||c++;i=h}while(i);Oa(r)}function Zs(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return s}function Ch(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var i=s.data;if(i==="$"||i==="$!"||i==="$?"){if(r===0)return s;r--}else i==="/$"&&r++}s=s.previousSibling}return null}var Pr=Math.random().toString(36).slice(2),ys="__reactFiber$"+Pr,Ba="__reactProps$"+Pr,Ps="__reactContainer$"+Pr,Ec="__reactEvents$"+Pr,tv="__reactListeners$"+Pr,sv="__reactHandles$"+Pr;function $n(s){var r=s[ys];if(r)return r;for(var i=s.parentNode;i;){if(r=i[Ps]||i[ys]){if(i=r.alternate,r.child!==null||i!==null&&i.child!==null)for(s=Ch(s);s!==null;){if(i=s[ys])return i;s=Ch(s)}return r}s=i,i=s.parentNode}return null}function Wa(s){return s=s[ys]||s[Ps],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Rr(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(a(33))}function pi(s){return s[Ba]||null}var Pc=[],Tr=-1;function en(s){return{current:s}}function qe(s){0>Tr||(s.current=Pc[Tr],Pc[Tr]=null,Tr--)}function $e(s,r){Tr++,Pc[Tr]=s.current,s.current=r}var tn={},xt=en(tn),_t=en(!1),Un=tn;function Or(s,r){var i=s.type.contextTypes;if(!i)return tn;var c=s.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var h={},f;for(f in i)h[f]=r[f];return c&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=r,s.__reactInternalMemoizedMaskedChildContext=h),h}function Et(s){return s=s.childContextTypes,s!=null}function xi(){qe(_t),qe(xt)}function _h(s,r,i){if(xt.current!==tn)throw Error(a(168));$e(xt,r),$e(_t,i)}function Eh(s,r,i){var c=s.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return i;c=c.getChildContext();for(var h in c)if(!(h in r))throw Error(a(108,be(s)||"Unknown",h));return re({},i,c)}function gi(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||tn,Un=xt.current,$e(xt,s),$e(_t,_t.current),!0}function Ph(s,r,i){var c=s.stateNode;if(!c)throw Error(a(169));i?(s=Eh(s,r,Un),c.__reactInternalMemoizedMergedChildContext=s,qe(_t),qe(xt),$e(xt,s)):qe(_t),$e(_t,i)}var Rs=null,yi=!1,Rc=!1;function Rh(s){Rs===null?Rs=[s]:Rs.push(s)}function nv(s){yi=!0,Rh(s)}function sn(){if(!Rc&&Rs!==null){Rc=!0;var s=0,r=Ae;try{var i=Rs;for(Ae=1;s<i.length;s++){var c=i[s];do c=c(!0);while(c!==null)}Rs=null,yi=!1}catch(h){throw Rs!==null&&(Rs=Rs.slice(s+1)),O0(Xo,sn),h}finally{Ae=r,Rc=!1}}return null}var Mr=[],Dr=0,vi=null,bi=0,Vt=[],Kt=0,qn=null,Ts=1,Os="";function Bn(s,r){Mr[Dr++]=bi,Mr[Dr++]=vi,vi=s,bi=r}function Th(s,r,i){Vt[Kt++]=Ts,Vt[Kt++]=Os,Vt[Kt++]=qn,qn=s;var c=Ts;s=Os;var h=32-ls(c)-1;c&=~(1<<h),i+=1;var f=32-ls(r)+h;if(30<f){var w=h-h%5;f=(c&(1<<w)-1).toString(32),c>>=w,h-=w,Ts=1<<32-ls(r)+h|i<<h|c,Os=f+s}else Ts=1<<f|i<<h|c,Os=s}function Tc(s){s.return!==null&&(Bn(s,1),Th(s,1,0))}function Oc(s){for(;s===vi;)vi=Mr[--Dr],Mr[Dr]=null,bi=Mr[--Dr],Mr[Dr]=null;for(;s===qn;)qn=Vt[--Kt],Vt[Kt]=null,Os=Vt[--Kt],Vt[Kt]=null,Ts=Vt[--Kt],Vt[Kt]=null}var It=null,$t=null,Qe=!1,os=null;function Oh(s,r){var i=Xt(5,null,null,0);i.elementType="DELETED",i.stateNode=r,i.return=s,r=s.deletions,r===null?(s.deletions=[i],s.flags|=16):r.push(i)}function Mh(s,r){switch(s.tag){case 5:var i=s.type;return r=r.nodeType!==1||i.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(s.stateNode=r,It=s,$t=Zs(r.firstChild),!0):!1;case 6:return r=s.pendingProps===""||r.nodeType!==3?null:r,r!==null?(s.stateNode=r,It=s,$t=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(i=qn!==null?{id:Ts,overflow:Os}:null,s.memoizedState={dehydrated:r,treeContext:i,retryLane:1073741824},i=Xt(18,null,null,0),i.stateNode=r,i.return=s,s.child=i,It=s,$t=null,!0):!1;default:return!1}}function Mc(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Dc(s){if(Qe){var r=$t;if(r){var i=r;if(!Mh(s,r)){if(Mc(s))throw Error(a(418));r=Zs(i.nextSibling);var c=It;r&&Mh(s,r)?Oh(c,i):(s.flags=s.flags&-4097|2,Qe=!1,It=s)}}else{if(Mc(s))throw Error(a(418));s.flags=s.flags&-4097|2,Qe=!1,It=s}}}function Dh(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;It=s}function ji(s){if(s!==It)return!1;if(!Qe)return Dh(s),Qe=!0,!1;var r;if((r=s.tag!==3)&&!(r=s.tag!==5)&&(r=s.type,r=r!=="head"&&r!=="body"&&!Sc(s.type,s.memoizedProps)),r&&(r=$t)){if(Mc(s))throw zh(),Error(a(418));for(;r;)Oh(s,r),r=Zs(r.nextSibling)}if(Dh(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(a(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8){var i=s.data;if(i==="/$"){if(r===0){$t=Zs(s.nextSibling);break e}r--}else i!=="$"&&i!=="$!"&&i!=="$?"||r++}s=s.nextSibling}$t=null}}else $t=It?Zs(s.stateNode.nextSibling):null;return!0}function zh(){for(var s=$t;s;)s=Zs(s.nextSibling)}function zr(){$t=It=null,Qe=!1}function zc(s){os===null?os=[s]:os.push(s)}var rv=R.ReactCurrentBatchConfig;function Ha(s,r,i){if(s=i.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(a(309));var c=i.stateNode}if(!c)throw Error(a(147,s));var h=c,f=""+s;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===f?r.ref:(r=function(w){var E=h.refs;w===null?delete E[f]:E[f]=w},r._stringRef=f,r)}if(typeof s!="string")throw Error(a(284));if(!i._owner)throw Error(a(290,s))}return s}function wi(s,r){throw s=Object.prototype.toString.call(r),Error(a(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s))}function Ah(s){var r=s._init;return r(s._payload)}function Fh(s){function r(z,D){if(s){var A=z.deletions;A===null?(z.deletions=[D],z.flags|=16):A.push(D)}}function i(z,D){if(!s)return null;for(;D!==null;)r(z,D),D=D.sibling;return null}function c(z,D){for(z=new Map;D!==null;)D.key!==null?z.set(D.key,D):z.set(D.index,D),D=D.sibling;return z}function h(z,D){return z=un(z,D),z.index=0,z.sibling=null,z}function f(z,D,A){return z.index=A,s?(A=z.alternate,A!==null?(A=A.index,A<D?(z.flags|=2,D):A):(z.flags|=2,D)):(z.flags|=1048576,D)}function w(z){return s&&z.alternate===null&&(z.flags|=2),z}function E(z,D,A,te){return D===null||D.tag!==6?(D=Cd(A,z.mode,te),D.return=z,D):(D=h(D,A),D.return=z,D)}function T(z,D,A,te){var me=A.type;return me===L?Y(z,D,A.props.children,te,A.key):D!==null&&(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ae&&Ah(me)===D.type)?(te=h(D,A.props),te.ref=Ha(z,D,A),te.return=z,te):(te=Qi(A.type,A.key,A.props,null,z.mode,te),te.ref=Ha(z,D,A),te.return=z,te)}function F(z,D,A,te){return D===null||D.tag!==4||D.stateNode.containerInfo!==A.containerInfo||D.stateNode.implementation!==A.implementation?(D=_d(A,z.mode,te),D.return=z,D):(D=h(D,A.children||[]),D.return=z,D)}function Y(z,D,A,te,me){return D===null||D.tag!==7?(D=Jn(A,z.mode,te,me),D.return=z,D):(D=h(D,A),D.return=z,D)}function J(z,D,A){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Cd(""+D,z.mode,A),D.return=z,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case U:return A=Qi(D.type,D.key,D.props,null,z.mode,A),A.ref=Ha(z,null,D),A.return=z,A;case B:return D=_d(D,z.mode,A),D.return=z,D;case ae:var te=D._init;return J(z,te(D._payload),A)}if(ba(D)||Z(D))return D=Jn(D,z.mode,A,null),D.return=z,D;wi(z,D)}return null}function K(z,D,A,te){var me=D!==null?D.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return me!==null?null:E(z,D,""+A,te);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case U:return A.key===me?T(z,D,A,te):null;case B:return A.key===me?F(z,D,A,te):null;case ae:return me=A._init,K(z,D,me(A._payload),te)}if(ba(A)||Z(A))return me!==null?null:Y(z,D,A,te,null);wi(z,A)}return null}function oe(z,D,A,te,me){if(typeof te=="string"&&te!==""||typeof te=="number")return z=z.get(A)||null,E(D,z,""+te,me);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case U:return z=z.get(te.key===null?A:te.key)||null,T(D,z,te,me);case B:return z=z.get(te.key===null?A:te.key)||null,F(D,z,te,me);case ae:var ye=te._init;return oe(z,D,A,ye(te._payload),me)}if(ba(te)||Z(te))return z=z.get(A)||null,Y(D,z,te,me,null);wi(D,te)}return null}function ue(z,D,A,te){for(var me=null,ye=null,ve=D,ke=D=0,ct=null;ve!==null&&ke<A.length;ke++){ve.index>ke?(ct=ve,ve=null):ct=ve.sibling;var De=K(z,ve,A[ke],te);if(De===null){ve===null&&(ve=ct);break}s&&ve&&De.alternate===null&&r(z,ve),D=f(De,D,ke),ye===null?me=De:ye.sibling=De,ye=De,ve=ct}if(ke===A.length)return i(z,ve),Qe&&Bn(z,ke),me;if(ve===null){for(;ke<A.length;ke++)ve=J(z,A[ke],te),ve!==null&&(D=f(ve,D,ke),ye===null?me=ve:ye.sibling=ve,ye=ve);return Qe&&Bn(z,ke),me}for(ve=c(z,ve);ke<A.length;ke++)ct=oe(ve,z,ke,A[ke],te),ct!==null&&(s&&ct.alternate!==null&&ve.delete(ct.key===null?ke:ct.key),D=f(ct,D,ke),ye===null?me=ct:ye.sibling=ct,ye=ct);return s&&ve.forEach(function(hn){return r(z,hn)}),Qe&&Bn(z,ke),me}function he(z,D,A,te){var me=Z(A);if(typeof me!="function")throw Error(a(150));if(A=me.call(A),A==null)throw Error(a(151));for(var ye=me=null,ve=D,ke=D=0,ct=null,De=A.next();ve!==null&&!De.done;ke++,De=A.next()){ve.index>ke?(ct=ve,ve=null):ct=ve.sibling;var hn=K(z,ve,De.value,te);if(hn===null){ve===null&&(ve=ct);break}s&&ve&&hn.alternate===null&&r(z,ve),D=f(hn,D,ke),ye===null?me=hn:ye.sibling=hn,ye=hn,ve=ct}if(De.done)return i(z,ve),Qe&&Bn(z,ke),me;if(ve===null){for(;!De.done;ke++,De=A.next())De=J(z,De.value,te),De!==null&&(D=f(De,D,ke),ye===null?me=De:ye.sibling=De,ye=De);return Qe&&Bn(z,ke),me}for(ve=c(z,ve);!De.done;ke++,De=A.next())De=oe(ve,z,ke,De.value,te),De!==null&&(s&&De.alternate!==null&&ve.delete(De.key===null?ke:De.key),D=f(De,D,ke),ye===null?me=De:ye.sibling=De,ye=De);return s&&ve.forEach(function(Fv){return r(z,Fv)}),Qe&&Bn(z,ke),me}function et(z,D,A,te){if(typeof A=="object"&&A!==null&&A.type===L&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case U:e:{for(var me=A.key,ye=D;ye!==null;){if(ye.key===me){if(me=A.type,me===L){if(ye.tag===7){i(z,ye.sibling),D=h(ye,A.props.children),D.return=z,z=D;break e}}else if(ye.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ae&&Ah(me)===ye.type){i(z,ye.sibling),D=h(ye,A.props),D.ref=Ha(z,ye,A),D.return=z,z=D;break e}i(z,ye);break}else r(z,ye);ye=ye.sibling}A.type===L?(D=Jn(A.props.children,z.mode,te,A.key),D.return=z,z=D):(te=Qi(A.type,A.key,A.props,null,z.mode,te),te.ref=Ha(z,D,A),te.return=z,z=te)}return w(z);case B:e:{for(ye=A.key;D!==null;){if(D.key===ye)if(D.tag===4&&D.stateNode.containerInfo===A.containerInfo&&D.stateNode.implementation===A.implementation){i(z,D.sibling),D=h(D,A.children||[]),D.return=z,z=D;break e}else{i(z,D);break}else r(z,D);D=D.sibling}D=_d(A,z.mode,te),D.return=z,z=D}return w(z);case ae:return ye=A._init,et(z,D,ye(A._payload),te)}if(ba(A))return ue(z,D,A,te);if(Z(A))return he(z,D,A,te);wi(z,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,D!==null&&D.tag===6?(i(z,D.sibling),D=h(D,A),D.return=z,z=D):(i(z,D),D=Cd(A,z.mode,te),D.return=z,z=D),w(z)):i(z,D)}return et}var Ar=Fh(!0),Lh=Fh(!1),Ni=en(null),ki=null,Fr=null,Ac=null;function Fc(){Ac=Fr=ki=null}function Lc(s){var r=Ni.current;qe(Ni),s._currentValue=r}function Ic(s,r,i){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===i)break;s=s.return}}function Lr(s,r){ki=s,Ac=Fr=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&r)!==0&&(Pt=!0),s.firstContext=null)}function Gt(s){var r=s._currentValue;if(Ac!==s)if(s={context:s,memoizedValue:r,next:null},Fr===null){if(ki===null)throw Error(a(308));Fr=s,ki.dependencies={lanes:0,firstContext:s}}else Fr=Fr.next=s;return r}var Wn=null;function $c(s){Wn===null?Wn=[s]:Wn.push(s)}function Ih(s,r,i,c){var h=r.interleaved;return h===null?(i.next=i,$c(r)):(i.next=h.next,h.next=i),r.interleaved=i,Ms(s,c)}function Ms(s,r){s.lanes|=r;var i=s.alternate;for(i!==null&&(i.lanes|=r),i=s,s=s.return;s!==null;)s.childLanes|=r,i=s.alternate,i!==null&&(i.childLanes|=r),i=s,s=s.return;return i.tag===3?i.stateNode:null}var nn=!1;function Uc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $h(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ds(s,r){return{eventTime:s,lane:r,tag:0,payload:null,callback:null,next:null}}function rn(s,r,i){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Me&2)!==0){var h=c.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),c.pending=r,Ms(s,i)}return h=c.interleaved,h===null?(r.next=r,$c(c)):(r.next=h.next,h.next=r),c.interleaved=r,Ms(s,i)}function Si(s,r,i){if(r=r.updateQueue,r!==null&&(r=r.shared,(i&4194240)!==0)){var c=r.lanes;c&=s.pendingLanes,i|=c,r.lanes=i,tc(s,i)}}function Uh(s,r){var i=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var h=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var w={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?h=f=w:f=f.next=w,i=i.next}while(i!==null);f===null?h=f=r:f=f.next=r}else h=f=r;i={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:c.shared,effects:c.effects},s.updateQueue=i;return}s=i.lastBaseUpdate,s===null?i.firstBaseUpdate=r:s.next=r,i.lastBaseUpdate=r}function Ci(s,r,i,c){var h=s.updateQueue;nn=!1;var f=h.firstBaseUpdate,w=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var T=E,F=T.next;T.next=null,w===null?f=F:w.next=F,w=T;var Y=s.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==w&&(E===null?Y.firstBaseUpdate=F:E.next=F,Y.lastBaseUpdate=T))}if(f!==null){var J=h.baseState;w=0,Y=F=T=null,E=f;do{var K=E.lane,oe=E.eventTime;if((c&K)===K){Y!==null&&(Y=Y.next={eventTime:oe,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var ue=s,he=E;switch(K=r,oe=i,he.tag){case 1:if(ue=he.payload,typeof ue=="function"){J=ue.call(oe,J,K);break e}J=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=he.payload,K=typeof ue=="function"?ue.call(oe,J,K):ue,K==null)break e;J=re({},J,K);break e;case 2:nn=!0}}E.callback!==null&&E.lane!==0&&(s.flags|=64,K=h.effects,K===null?h.effects=[E]:K.push(E))}else oe={eventTime:oe,lane:K,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(F=Y=oe,T=J):Y=Y.next=oe,w|=K;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;K=E,E=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);if(Y===null&&(T=J),h.baseState=T,h.firstBaseUpdate=F,h.lastBaseUpdate=Y,r=h.shared.interleaved,r!==null){h=r;do w|=h.lane,h=h.next;while(h!==r)}else f===null&&(h.shared.lanes=0);Vn|=w,s.lanes=w,s.memoizedState=J}}function qh(s,r,i){if(s=r.effects,r.effects=null,s!==null)for(r=0;r<s.length;r++){var c=s[r],h=c.callback;if(h!==null){if(c.callback=null,c=i,typeof h!="function")throw Error(a(191,h));h.call(c)}}}var Qa={},vs=en(Qa),Va=en(Qa),Ka=en(Qa);function Hn(s){if(s===Qa)throw Error(a(174));return s}function qc(s,r){switch($e(Ka,r),$e(Va,s),$e(vs,Qa),s=r.nodeType,s){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Bo(null,"");break;default:s=s===8?r.parentNode:r,r=s.namespaceURI||null,s=s.tagName,r=Bo(r,s)}qe(vs),$e(vs,r)}function Ir(){qe(vs),qe(Va),qe(Ka)}function Bh(s){Hn(Ka.current);var r=Hn(vs.current),i=Bo(r,s.type);r!==i&&($e(Va,s),$e(vs,i))}function Bc(s){Va.current===s&&(qe(vs),qe(Va))}var Ve=en(0);function _i(s){for(var r=s;r!==null;){if(r.tag===13){var i=r.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Wc=[];function Hc(){for(var s=0;s<Wc.length;s++)Wc[s]._workInProgressVersionPrimary=null;Wc.length=0}var Ei=R.ReactCurrentDispatcher,Qc=R.ReactCurrentBatchConfig,Qn=0,Ke=null,rt=null,it=null,Pi=!1,Ga=!1,Ya=0,av=0;function gt(){throw Error(a(321))}function Vc(s,r){if(r===null)return!1;for(var i=0;i<r.length&&i<s.length;i++)if(!is(s[i],r[i]))return!1;return!0}function Kc(s,r,i,c,h,f){if(Qn=f,Ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ei.current=s===null||s.memoizedState===null?cv:dv,s=i(c,h),Ga){f=0;do{if(Ga=!1,Ya=0,25<=f)throw Error(a(301));f+=1,it=rt=null,r.updateQueue=null,Ei.current=uv,s=i(c,h)}while(Ga)}if(Ei.current=Oi,r=rt!==null&&rt.next!==null,Qn=0,it=rt=Ke=null,Pi=!1,r)throw Error(a(300));return s}function Gc(){var s=Ya!==0;return Ya=0,s}function bs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Ke.memoizedState=it=s:it=it.next=s,it}function Yt(){if(rt===null){var s=Ke.alternate;s=s!==null?s.memoizedState:null}else s=rt.next;var r=it===null?Ke.memoizedState:it.next;if(r!==null)it=r,rt=s;else{if(s===null)throw Error(a(310));rt=s,s={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},it===null?Ke.memoizedState=it=s:it=it.next=s}return it}function Ja(s,r){return typeof r=="function"?r(s):r}function Yc(s){var r=Yt(),i=r.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=s;var c=rt,h=c.baseQueue,f=i.pending;if(f!==null){if(h!==null){var w=h.next;h.next=f.next,f.next=w}c.baseQueue=h=f,i.pending=null}if(h!==null){f=h.next,c=c.baseState;var E=w=null,T=null,F=f;do{var Y=F.lane;if((Qn&Y)===Y)T!==null&&(T=T.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),c=F.hasEagerState?F.eagerState:s(c,F.action);else{var J={lane:Y,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};T===null?(E=T=J,w=c):T=T.next=J,Ke.lanes|=Y,Vn|=Y}F=F.next}while(F!==null&&F!==f);T===null?w=c:T.next=E,is(c,r.memoizedState)||(Pt=!0),r.memoizedState=c,r.baseState=w,r.baseQueue=T,i.lastRenderedState=c}if(s=i.interleaved,s!==null){h=s;do f=h.lane,Ke.lanes|=f,Vn|=f,h=h.next;while(h!==s)}else h===null&&(i.lanes=0);return[r.memoizedState,i.dispatch]}function Jc(s){var r=Yt(),i=r.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=s;var c=i.dispatch,h=i.pending,f=r.memoizedState;if(h!==null){i.pending=null;var w=h=h.next;do f=s(f,w.action),w=w.next;while(w!==h);is(f,r.memoizedState)||(Pt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),i.lastRenderedState=f}return[f,c]}function Wh(){}function Hh(s,r){var i=Ke,c=Yt(),h=r(),f=!is(c.memoizedState,h);if(f&&(c.memoizedState=h,Pt=!0),c=c.queue,Xc(Kh.bind(null,i,c,s),[s]),c.getSnapshot!==r||f||it!==null&&it.memoizedState.tag&1){if(i.flags|=2048,Xa(9,Vh.bind(null,i,c,h,r),void 0,null),ot===null)throw Error(a(349));(Qn&30)!==0||Qh(i,r,h)}return h}function Qh(s,r,i){s.flags|=16384,s={getSnapshot:r,value:i},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.stores=[s]):(i=r.stores,i===null?r.stores=[s]:i.push(s))}function Vh(s,r,i,c){r.value=i,r.getSnapshot=c,Gh(r)&&Yh(s)}function Kh(s,r,i){return i(function(){Gh(r)&&Yh(s)})}function Gh(s){var r=s.getSnapshot;s=s.value;try{var i=r();return!is(s,i)}catch{return!0}}function Yh(s){var r=Ms(s,1);r!==null&&hs(r,s,1,-1)}function Jh(s){var r=bs();return typeof s=="function"&&(s=s()),r.memoizedState=r.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ja,lastRenderedState:s},r.queue=s,s=s.dispatch=ov.bind(null,Ke,s),[r.memoizedState,s]}function Xa(s,r,i,c){return s={tag:s,create:r,destroy:i,deps:c,next:null},r=Ke.updateQueue,r===null?(r={lastEffect:null,stores:null},Ke.updateQueue=r,r.lastEffect=s.next=s):(i=r.lastEffect,i===null?r.lastEffect=s.next=s:(c=i.next,i.next=s,s.next=c,r.lastEffect=s)),s}function Xh(){return Yt().memoizedState}function Ri(s,r,i,c){var h=bs();Ke.flags|=s,h.memoizedState=Xa(1|r,i,void 0,c===void 0?null:c)}function Ti(s,r,i,c){var h=Yt();c=c===void 0?null:c;var f=void 0;if(rt!==null){var w=rt.memoizedState;if(f=w.destroy,c!==null&&Vc(c,w.deps)){h.memoizedState=Xa(r,i,f,c);return}}Ke.flags|=s,h.memoizedState=Xa(1|r,i,f,c)}function Zh(s,r){return Ri(8390656,8,s,r)}function Xc(s,r){return Ti(2048,8,s,r)}function em(s,r){return Ti(4,2,s,r)}function tm(s,r){return Ti(4,4,s,r)}function sm(s,r){if(typeof r=="function")return s=s(),r(s),function(){r(null)};if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function nm(s,r,i){return i=i!=null?i.concat([s]):null,Ti(4,4,sm.bind(null,r,s),i)}function Zc(){}function rm(s,r){var i=Yt();r=r===void 0?null:r;var c=i.memoizedState;return c!==null&&r!==null&&Vc(r,c[1])?c[0]:(i.memoizedState=[s,r],s)}function am(s,r){var i=Yt();r=r===void 0?null:r;var c=i.memoizedState;return c!==null&&r!==null&&Vc(r,c[1])?c[0]:(s=s(),i.memoizedState=[s,r],s)}function lm(s,r,i){return(Qn&21)===0?(s.baseState&&(s.baseState=!1,Pt=!0),s.memoizedState=i):(is(i,r)||(i=A0(),Ke.lanes|=i,Vn|=i,s.baseState=!0),r)}function lv(s,r){var i=Ae;Ae=i!==0&&4>i?i:4,s(!0);var c=Qc.transition;Qc.transition={};try{s(!1),r()}finally{Ae=i,Qc.transition=c}}function im(){return Yt().memoizedState}function iv(s,r,i){var c=cn(s);if(i={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null},om(s))cm(r,i);else if(i=Ih(s,r,i,c),i!==null){var h=St();hs(i,s,c,h),dm(i,r,c)}}function ov(s,r,i){var c=cn(s),h={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null};if(om(s))cm(r,h);else{var f=s.alternate;if(s.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var w=r.lastRenderedState,E=f(w,i);if(h.hasEagerState=!0,h.eagerState=E,is(E,w)){var T=r.interleaved;T===null?(h.next=h,$c(r)):(h.next=T.next,T.next=h),r.interleaved=h;return}}catch{}finally{}i=Ih(s,r,h,c),i!==null&&(h=St(),hs(i,s,c,h),dm(i,r,c))}}function om(s){var r=s.alternate;return s===Ke||r!==null&&r===Ke}function cm(s,r){Ga=Pi=!0;var i=s.pending;i===null?r.next=r:(r.next=i.next,i.next=r),s.pending=r}function dm(s,r,i){if((i&4194240)!==0){var c=r.lanes;c&=s.pendingLanes,i|=c,r.lanes=i,tc(s,i)}}var Oi={readContext:Gt,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},cv={readContext:Gt,useCallback:function(s,r){return bs().memoizedState=[s,r===void 0?null:r],s},useContext:Gt,useEffect:Zh,useImperativeHandle:function(s,r,i){return i=i!=null?i.concat([s]):null,Ri(4194308,4,sm.bind(null,r,s),i)},useLayoutEffect:function(s,r){return Ri(4194308,4,s,r)},useInsertionEffect:function(s,r){return Ri(4,2,s,r)},useMemo:function(s,r){var i=bs();return r=r===void 0?null:r,s=s(),i.memoizedState=[s,r],s},useReducer:function(s,r,i){var c=bs();return r=i!==void 0?i(r):r,c.memoizedState=c.baseState=r,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:r},c.queue=s,s=s.dispatch=iv.bind(null,Ke,s),[c.memoizedState,s]},useRef:function(s){var r=bs();return s={current:s},r.memoizedState=s},useState:Jh,useDebugValue:Zc,useDeferredValue:function(s){return bs().memoizedState=s},useTransition:function(){var s=Jh(!1),r=s[0];return s=lv.bind(null,s[1]),bs().memoizedState=s,[r,s]},useMutableSource:function(){},useSyncExternalStore:function(s,r,i){var c=Ke,h=bs();if(Qe){if(i===void 0)throw Error(a(407));i=i()}else{if(i=r(),ot===null)throw Error(a(349));(Qn&30)!==0||Qh(c,r,i)}h.memoizedState=i;var f={value:i,getSnapshot:r};return h.queue=f,Zh(Kh.bind(null,c,f,s),[s]),c.flags|=2048,Xa(9,Vh.bind(null,c,f,i,r),void 0,null),i},useId:function(){var s=bs(),r=ot.identifierPrefix;if(Qe){var i=Os,c=Ts;i=(c&~(1<<32-ls(c)-1)).toString(32)+i,r=":"+r+"R"+i,i=Ya++,0<i&&(r+="H"+i.toString(32)),r+=":"}else i=av++,r=":"+r+"r"+i.toString(32)+":";return s.memoizedState=r},unstable_isNewReconciler:!1},dv={readContext:Gt,useCallback:rm,useContext:Gt,useEffect:Xc,useImperativeHandle:nm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:am,useReducer:Yc,useRef:Xh,useState:function(){return Yc(Ja)},useDebugValue:Zc,useDeferredValue:function(s){var r=Yt();return lm(r,rt.memoizedState,s)},useTransition:function(){var s=Yc(Ja)[0],r=Yt().memoizedState;return[s,r]},useMutableSource:Wh,useSyncExternalStore:Hh,useId:im,unstable_isNewReconciler:!1},uv={readContext:Gt,useCallback:rm,useContext:Gt,useEffect:Xc,useImperativeHandle:nm,useInsertionEffect:em,useLayoutEffect:tm,useMemo:am,useReducer:Jc,useRef:Xh,useState:function(){return Jc(Ja)},useDebugValue:Zc,useDeferredValue:function(s){var r=Yt();return rt===null?r.memoizedState=s:lm(r,rt.memoizedState,s)},useTransition:function(){var s=Jc(Ja)[0],r=Yt().memoizedState;return[s,r]},useMutableSource:Wh,useSyncExternalStore:Hh,useId:im,unstable_isNewReconciler:!1};function cs(s,r){if(s&&s.defaultProps){r=re({},r),s=s.defaultProps;for(var i in s)r[i]===void 0&&(r[i]=s[i]);return r}return r}function ed(s,r,i,c){r=s.memoizedState,i=i(c,r),i=i==null?r:re({},r,i),s.memoizedState=i,s.lanes===0&&(s.updateQueue.baseState=i)}var Mi={isMounted:function(s){return(s=s._reactInternals)?In(s)===s:!1},enqueueSetState:function(s,r,i){s=s._reactInternals;var c=St(),h=cn(s),f=Ds(c,h);f.payload=r,i!=null&&(f.callback=i),r=rn(s,f,h),r!==null&&(hs(r,s,h,c),Si(r,s,h))},enqueueReplaceState:function(s,r,i){s=s._reactInternals;var c=St(),h=cn(s),f=Ds(c,h);f.tag=1,f.payload=r,i!=null&&(f.callback=i),r=rn(s,f,h),r!==null&&(hs(r,s,h,c),Si(r,s,h))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var i=St(),c=cn(s),h=Ds(i,c);h.tag=2,r!=null&&(h.callback=r),r=rn(s,h,c),r!==null&&(hs(r,s,c,i),Si(r,s,c))}};function um(s,r,i,c,h,f,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,f,w):r.prototype&&r.prototype.isPureReactComponent?!La(i,c)||!La(h,f):!0}function hm(s,r,i){var c=!1,h=tn,f=r.contextType;return typeof f=="object"&&f!==null?f=Gt(f):(h=Et(r)?Un:xt.current,c=r.contextTypes,f=(c=c!=null)?Or(s,h):tn),r=new r(i,f),s.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Mi,s.stateNode=r,r._reactInternals=s,c&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=h,s.__reactInternalMemoizedMaskedChildContext=f),r}function mm(s,r,i,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(i,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(i,c),r.state!==s&&Mi.enqueueReplaceState(r,r.state,null)}function td(s,r,i,c){var h=s.stateNode;h.props=i,h.state=s.memoizedState,h.refs={},Uc(s);var f=r.contextType;typeof f=="object"&&f!==null?h.context=Gt(f):(f=Et(r)?Un:xt.current,h.context=Or(s,f)),h.state=s.memoizedState,f=r.getDerivedStateFromProps,typeof f=="function"&&(ed(s,r,f,i),h.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&Mi.enqueueReplaceState(h,h.state,null),Ci(s,i,h,c),h.state=s.memoizedState),typeof h.componentDidMount=="function"&&(s.flags|=4194308)}function $r(s,r){try{var i="",c=r;do i+=_e(c),c=c.return;while(c);var h=i}catch(f){h=`
Error generating stack: `+f.message+`
`+f.stack}return{value:s,source:r,stack:h,digest:null}}function sd(s,r,i){return{value:s,source:null,stack:i??null,digest:r??null}}function nd(s,r){try{console.error(r.value)}catch(i){setTimeout(function(){throw i})}}var hv=typeof WeakMap=="function"?WeakMap:Map;function fm(s,r,i){i=Ds(-1,i),i.tag=3,i.payload={element:null};var c=r.value;return i.callback=function(){$i||($i=!0,yd=c),nd(s,r)},i}function pm(s,r,i){i=Ds(-1,i),i.tag=3;var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var h=r.value;i.payload=function(){return c(h)},i.callback=function(){nd(s,r)}}var f=s.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){nd(s,r),typeof c!="function"&&(ln===null?ln=new Set([this]):ln.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})}),i}function xm(s,r,i){var c=s.pingCache;if(c===null){c=s.pingCache=new hv;var h=new Set;c.set(r,h)}else h=c.get(r),h===void 0&&(h=new Set,c.set(r,h));h.has(i)||(h.add(i),s=Cv.bind(null,s,r,i),r.then(s,s))}function gm(s){do{var r;if((r=s.tag===13)&&(r=s.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return s;s=s.return}while(s!==null);return null}function ym(s,r,i,c,h){return(s.mode&1)===0?(s===r?s.flags|=65536:(s.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(r=Ds(-1,1),r.tag=2,rn(i,r,1))),i.lanes|=1),s):(s.flags|=65536,s.lanes=h,s)}var mv=R.ReactCurrentOwner,Pt=!1;function kt(s,r,i,c){r.child=s===null?Lh(r,null,i,c):Ar(r,s.child,i,c)}function vm(s,r,i,c,h){i=i.render;var f=r.ref;return Lr(r,h),c=Kc(s,r,i,c,f,h),i=Gc(),s!==null&&!Pt?(r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~h,zs(s,r,h)):(Qe&&i&&Tc(r),r.flags|=1,kt(s,r,c,h),r.child)}function bm(s,r,i,c,h){if(s===null){var f=i.type;return typeof f=="function"&&!Sd(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(r.tag=15,r.type=f,jm(s,r,f,c,h)):(s=Qi(i.type,null,c,r,r.mode,h),s.ref=r.ref,s.return=r,r.child=s)}if(f=s.child,(s.lanes&h)===0){var w=f.memoizedProps;if(i=i.compare,i=i!==null?i:La,i(w,c)&&s.ref===r.ref)return zs(s,r,h)}return r.flags|=1,s=un(f,c),s.ref=r.ref,s.return=r,r.child=s}function jm(s,r,i,c,h){if(s!==null){var f=s.memoizedProps;if(La(f,c)&&s.ref===r.ref)if(Pt=!1,r.pendingProps=c=f,(s.lanes&h)!==0)(s.flags&131072)!==0&&(Pt=!0);else return r.lanes=s.lanes,zs(s,r,h)}return rd(s,r,i,c,h)}function wm(s,r,i){var c=r.pendingProps,h=c.children,f=s!==null?s.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(qr,Ut),Ut|=i;else{if((i&1073741824)===0)return s=f!==null?f.baseLanes|i:i,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:s,cachePool:null,transitions:null},r.updateQueue=null,$e(qr,Ut),Ut|=s,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=f!==null?f.baseLanes:i,$e(qr,Ut),Ut|=c}else f!==null?(c=f.baseLanes|i,r.memoizedState=null):c=i,$e(qr,Ut),Ut|=c;return kt(s,r,h,i),r.child}function Nm(s,r){var i=r.ref;(s===null&&i!==null||s!==null&&s.ref!==i)&&(r.flags|=512,r.flags|=2097152)}function rd(s,r,i,c,h){var f=Et(i)?Un:xt.current;return f=Or(r,f),Lr(r,h),i=Kc(s,r,i,c,f,h),c=Gc(),s!==null&&!Pt?(r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~h,zs(s,r,h)):(Qe&&c&&Tc(r),r.flags|=1,kt(s,r,i,h),r.child)}function km(s,r,i,c,h){if(Et(i)){var f=!0;gi(r)}else f=!1;if(Lr(r,h),r.stateNode===null)zi(s,r),hm(r,i,c),td(r,i,c,h),c=!0;else if(s===null){var w=r.stateNode,E=r.memoizedProps;w.props=E;var T=w.context,F=i.contextType;typeof F=="object"&&F!==null?F=Gt(F):(F=Et(i)?Un:xt.current,F=Or(r,F));var Y=i.getDerivedStateFromProps,J=typeof Y=="function"||typeof w.getSnapshotBeforeUpdate=="function";J||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(E!==c||T!==F)&&mm(r,w,c,F),nn=!1;var K=r.memoizedState;w.state=K,Ci(r,c,w,h),T=r.memoizedState,E!==c||K!==T||_t.current||nn?(typeof Y=="function"&&(ed(r,i,Y,c),T=r.memoizedState),(E=nn||um(r,i,E,c,K,T,F))?(J||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(r.flags|=4194308)):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=T),w.props=c,w.state=T,w.context=F,c=E):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{w=r.stateNode,$h(s,r),E=r.memoizedProps,F=r.type===r.elementType?E:cs(r.type,E),w.props=F,J=r.pendingProps,K=w.context,T=i.contextType,typeof T=="object"&&T!==null?T=Gt(T):(T=Et(i)?Un:xt.current,T=Or(r,T));var oe=i.getDerivedStateFromProps;(Y=typeof oe=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(E!==J||K!==T)&&mm(r,w,c,T),nn=!1,K=r.memoizedState,w.state=K,Ci(r,c,w,h);var ue=r.memoizedState;E!==J||K!==ue||_t.current||nn?(typeof oe=="function"&&(ed(r,i,oe,c),ue=r.memoizedState),(F=nn||um(r,i,F,c,K,ue,T)||!1)?(Y||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(c,ue,T),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(c,ue,T)),typeof w.componentDidUpdate=="function"&&(r.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof w.componentDidUpdate!="function"||E===s.memoizedProps&&K===s.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&K===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ue),w.props=c,w.state=ue,w.context=T,c=F):(typeof w.componentDidUpdate!="function"||E===s.memoizedProps&&K===s.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&K===s.memoizedState||(r.flags|=1024),c=!1)}return ad(s,r,i,c,f,h)}function ad(s,r,i,c,h,f){Nm(s,r);var w=(r.flags&128)!==0;if(!c&&!w)return h&&Ph(r,i,!1),zs(s,r,f);c=r.stateNode,mv.current=r;var E=w&&typeof i.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,s!==null&&w?(r.child=Ar(r,s.child,null,f),r.child=Ar(r,null,E,f)):kt(s,r,E,f),r.memoizedState=c.state,h&&Ph(r,i,!0),r.child}function Sm(s){var r=s.stateNode;r.pendingContext?_h(s,r.pendingContext,r.pendingContext!==r.context):r.context&&_h(s,r.context,!1),qc(s,r.containerInfo)}function Cm(s,r,i,c,h){return zr(),zc(h),r.flags|=256,kt(s,r,i,c),r.child}var ld={dehydrated:null,treeContext:null,retryLane:0};function id(s){return{baseLanes:s,cachePool:null,transitions:null}}function _m(s,r,i){var c=r.pendingProps,h=Ve.current,f=!1,w=(r.flags&128)!==0,E;if((E=w)||(E=s!==null&&s.memoizedState===null?!1:(h&2)!==0),E?(f=!0,r.flags&=-129):(s===null||s.memoizedState!==null)&&(h|=1),$e(Ve,h&1),s===null)return Dc(r),s=r.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((r.mode&1)===0?r.lanes=1:s.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(w=c.children,s=c.fallback,f?(c=r.mode,f=r.child,w={mode:"hidden",children:w},(c&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=w):f=Vi(w,c,0,null),s=Jn(s,c,i,null),f.return=r,s.return=r,f.sibling=s,r.child=f,r.child.memoizedState=id(i),r.memoizedState=ld,s):od(r,w));if(h=s.memoizedState,h!==null&&(E=h.dehydrated,E!==null))return fv(s,r,w,c,E,h,i);if(f){f=c.fallback,w=r.mode,h=s.child,E=h.sibling;var T={mode:"hidden",children:c.children};return(w&1)===0&&r.child!==h?(c=r.child,c.childLanes=0,c.pendingProps=T,r.deletions=null):(c=un(h,T),c.subtreeFlags=h.subtreeFlags&14680064),E!==null?f=un(E,f):(f=Jn(f,w,i,null),f.flags|=2),f.return=r,c.return=r,c.sibling=f,r.child=c,c=f,f=r.child,w=s.child.memoizedState,w=w===null?id(i):{baseLanes:w.baseLanes|i,cachePool:null,transitions:w.transitions},f.memoizedState=w,f.childLanes=s.childLanes&~i,r.memoizedState=ld,c}return f=s.child,s=f.sibling,c=un(f,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=i),c.return=r,c.sibling=null,s!==null&&(i=r.deletions,i===null?(r.deletions=[s],r.flags|=16):i.push(s)),r.child=c,r.memoizedState=null,c}function od(s,r){return r=Vi({mode:"visible",children:r},s.mode,0,null),r.return=s,s.child=r}function Di(s,r,i,c){return c!==null&&zc(c),Ar(r,s.child,null,i),s=od(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function fv(s,r,i,c,h,f,w){if(i)return r.flags&256?(r.flags&=-257,c=sd(Error(a(422))),Di(s,r,w,c)):r.memoizedState!==null?(r.child=s.child,r.flags|=128,null):(f=c.fallback,h=r.mode,c=Vi({mode:"visible",children:c.children},h,0,null),f=Jn(f,h,w,null),f.flags|=2,c.return=r,f.return=r,c.sibling=f,r.child=c,(r.mode&1)!==0&&Ar(r,s.child,null,w),r.child.memoizedState=id(w),r.memoizedState=ld,f);if((r.mode&1)===0)return Di(s,r,w,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var E=c.dgst;return c=E,f=Error(a(419)),c=sd(f,c,void 0),Di(s,r,w,c)}if(E=(w&s.childLanes)!==0,Pt||E){if(c=ot,c!==null){switch(w&-w){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|w))!==0?0:h,h!==0&&h!==f.retryLane&&(f.retryLane=h,Ms(s,h),hs(c,s,h,-1))}return kd(),c=sd(Error(a(421))),Di(s,r,w,c)}return h.data==="$?"?(r.flags|=128,r.child=s.child,r=_v.bind(null,s),h._reactRetry=r,null):(s=f.treeContext,$t=Zs(h.nextSibling),It=r,Qe=!0,os=null,s!==null&&(Vt[Kt++]=Ts,Vt[Kt++]=Os,Vt[Kt++]=qn,Ts=s.id,Os=s.overflow,qn=r),r=od(r,c.children),r.flags|=4096,r)}function Em(s,r,i){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),Ic(s.return,r,i)}function cd(s,r,i,c,h){var f=s.memoizedState;f===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:h}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=c,f.tail=i,f.tailMode=h)}function Pm(s,r,i){var c=r.pendingProps,h=c.revealOrder,f=c.tail;if(kt(s,r,c.children,i),c=Ve.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Em(s,i,r);else if(s.tag===19)Em(s,i,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}if($e(Ve,c),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(i=r.child,h=null;i!==null;)s=i.alternate,s!==null&&_i(s)===null&&(h=i),i=i.sibling;i=h,i===null?(h=r.child,r.child=null):(h=i.sibling,i.sibling=null),cd(r,!1,h,i,f);break;case"backwards":for(i=null,h=r.child,r.child=null;h!==null;){if(s=h.alternate,s!==null&&_i(s)===null){r.child=h;break}s=h.sibling,h.sibling=i,i=h,h=s}cd(r,!0,i,null,f);break;case"together":cd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function zi(s,r){(r.mode&1)===0&&s!==null&&(s.alternate=null,r.alternate=null,r.flags|=2)}function zs(s,r,i){if(s!==null&&(r.dependencies=s.dependencies),Vn|=r.lanes,(i&r.childLanes)===0)return null;if(s!==null&&r.child!==s.child)throw Error(a(153));if(r.child!==null){for(s=r.child,i=un(s,s.pendingProps),r.child=i,i.return=r;s.sibling!==null;)s=s.sibling,i=i.sibling=un(s,s.pendingProps),i.return=r;i.sibling=null}return r.child}function pv(s,r,i){switch(r.tag){case 3:Sm(r),zr();break;case 5:Bh(r);break;case 1:Et(r.type)&&gi(r);break;case 4:qc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,h=r.memoizedProps.value;$e(Ni,c._currentValue),c._currentValue=h;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?($e(Ve,Ve.current&1),r.flags|=128,null):(i&r.child.childLanes)!==0?_m(s,r,i):($e(Ve,Ve.current&1),s=zs(s,r,i),s!==null?s.sibling:null);$e(Ve,Ve.current&1);break;case 19:if(c=(i&r.childLanes)!==0,(s.flags&128)!==0){if(c)return Pm(s,r,i);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$e(Ve,Ve.current),c)break;return null;case 22:case 23:return r.lanes=0,wm(s,r,i)}return zs(s,r,i)}var Rm,dd,Tm,Om;Rm=function(s,r){for(var i=r.child;i!==null;){if(i.tag===5||i.tag===6)s.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},dd=function(){},Tm=function(s,r,i,c){var h=s.memoizedProps;if(h!==c){s=r.stateNode,Hn(vs.current);var f=null;switch(i){case"input":h=Ln(s,h),c=Ln(s,c),f=[];break;case"select":h=re({},h,{value:void 0}),c=re({},c,{value:void 0}),f=[];break;case"textarea":h=qo(s,h),c=qo(s,c),f=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(s.onclick=fi)}Wo(i,c);var w;i=null;for(F in h)if(!c.hasOwnProperty(F)&&h.hasOwnProperty(F)&&h[F]!=null)if(F==="style"){var E=h[F];for(w in E)E.hasOwnProperty(w)&&(i||(i={}),i[w]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(o.hasOwnProperty(F)?f||(f=[]):(f=f||[]).push(F,null));for(F in c){var T=c[F];if(E=h!=null?h[F]:void 0,c.hasOwnProperty(F)&&T!==E&&(T!=null||E!=null))if(F==="style")if(E){for(w in E)!E.hasOwnProperty(w)||T&&T.hasOwnProperty(w)||(i||(i={}),i[w]="");for(w in T)T.hasOwnProperty(w)&&E[w]!==T[w]&&(i||(i={}),i[w]=T[w])}else i||(f||(f=[]),f.push(F,i)),i=T;else F==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,E=E?E.__html:void 0,T!=null&&E!==T&&(f=f||[]).push(F,T)):F==="children"?typeof T!="string"&&typeof T!="number"||(f=f||[]).push(F,""+T):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(o.hasOwnProperty(F)?(T!=null&&F==="onScroll"&&Ue("scroll",s),f||E===T||(f=[])):(f=f||[]).push(F,T))}i&&(f=f||[]).push("style",i);var F=f;(r.updateQueue=F)&&(r.flags|=4)}},Om=function(s,r,i,c){i!==c&&(r.flags|=4)};function Za(s,r){if(!Qe)switch(s.tailMode){case"hidden":r=s.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?s.tail=null:i.sibling=null;break;case"collapsed":i=s.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function yt(s){var r=s.alternate!==null&&s.alternate.child===s.child,i=0,c=0;if(r)for(var h=s.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=s,h=h.sibling;else for(h=s.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=s,h=h.sibling;return s.subtreeFlags|=c,s.childLanes=i,r}function xv(s,r,i){var c=r.pendingProps;switch(Oc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(r),null;case 1:return Et(r.type)&&xi(),yt(r),null;case 3:return c=r.stateNode,Ir(),qe(_t),qe(xt),Hc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(ji(r)?r.flags|=4:s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,os!==null&&(jd(os),os=null))),dd(s,r),yt(r),null;case 5:Bc(r);var h=Hn(Ka.current);if(i=r.type,s!==null&&r.stateNode!=null)Tm(s,r,i,c,h),s.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(a(166));return yt(r),null}if(s=Hn(vs.current),ji(r)){c=r.stateNode,i=r.type;var f=r.memoizedProps;switch(c[ys]=r,c[Ba]=f,s=(r.mode&1)!==0,i){case"dialog":Ue("cancel",c),Ue("close",c);break;case"iframe":case"object":case"embed":Ue("load",c);break;case"video":case"audio":for(h=0;h<$a.length;h++)Ue($a[h],c);break;case"source":Ue("error",c);break;case"img":case"image":case"link":Ue("error",c),Ue("load",c);break;case"details":Ue("toggle",c);break;case"input":va(c,f),Ue("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!f.multiple},Ue("invalid",c);break;case"textarea":p0(c,f),Ue("invalid",c)}Wo(i,f),h=null;for(var w in f)if(f.hasOwnProperty(w)){var E=f[w];w==="children"?typeof E=="string"?c.textContent!==E&&(f.suppressHydrationWarning!==!0&&mi(c.textContent,E,s),h=["children",E]):typeof E=="number"&&c.textContent!==""+E&&(f.suppressHydrationWarning!==!0&&mi(c.textContent,E,s),h=["children",""+E]):o.hasOwnProperty(w)&&E!=null&&w==="onScroll"&&Ue("scroll",c)}switch(i){case"input":Ge(c),f0(c,f,!0);break;case"textarea":Ge(c),g0(c);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(c.onclick=fi)}c=h,r.updateQueue=c,c!==null&&(r.flags|=4)}else{w=h.nodeType===9?h:h.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=y0(i)),s==="http://www.w3.org/1999/xhtml"?i==="script"?(s=w.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof c.is=="string"?s=w.createElement(i,{is:c.is}):(s=w.createElement(i),i==="select"&&(w=s,c.multiple?w.multiple=!0:c.size&&(w.size=c.size))):s=w.createElementNS(s,i),s[ys]=r,s[Ba]=c,Rm(s,r,!1,!1),r.stateNode=s;e:{switch(w=Ho(i,c),i){case"dialog":Ue("cancel",s),Ue("close",s),h=c;break;case"iframe":case"object":case"embed":Ue("load",s),h=c;break;case"video":case"audio":for(h=0;h<$a.length;h++)Ue($a[h],s);h=c;break;case"source":Ue("error",s),h=c;break;case"img":case"image":case"link":Ue("error",s),Ue("load",s),h=c;break;case"details":Ue("toggle",s),h=c;break;case"input":va(s,c),h=Ln(s,c),Ue("invalid",s);break;case"option":h=c;break;case"select":s._wrapperState={wasMultiple:!!c.multiple},h=re({},c,{value:void 0}),Ue("invalid",s);break;case"textarea":p0(s,c),h=qo(s,c),Ue("invalid",s);break;default:h=c}Wo(i,h),E=h;for(f in E)if(E.hasOwnProperty(f)){var T=E[f];f==="style"?j0(s,T):f==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&v0(s,T)):f==="children"?typeof T=="string"?(i!=="textarea"||T!=="")&&ja(s,T):typeof T=="number"&&ja(s,""+T):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(o.hasOwnProperty(f)?T!=null&&f==="onScroll"&&Ue("scroll",s):T!=null&&C(s,f,T,w))}switch(i){case"input":Ge(s),f0(s,c,!1);break;case"textarea":Ge(s),g0(s);break;case"option":c.value!=null&&s.setAttribute("value",""+Oe(c.value));break;case"select":s.multiple=!!c.multiple,f=c.value,f!=null?br(s,!!c.multiple,f,!1):c.defaultValue!=null&&br(s,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(s.onclick=fi)}switch(i){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return yt(r),null;case 6:if(s&&r.stateNode!=null)Om(s,r,s.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(a(166));if(i=Hn(Ka.current),Hn(vs.current),ji(r)){if(c=r.stateNode,i=r.memoizedProps,c[ys]=r,(f=c.nodeValue!==i)&&(s=It,s!==null))switch(s.tag){case 3:mi(c.nodeValue,i,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&mi(c.nodeValue,i,(s.mode&1)!==0)}f&&(r.flags|=4)}else c=(i.nodeType===9?i:i.ownerDocument).createTextNode(c),c[ys]=r,r.stateNode=c}return yt(r),null;case 13:if(qe(Ve),c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Qe&&$t!==null&&(r.mode&1)!==0&&(r.flags&128)===0)zh(),zr(),r.flags|=98560,f=!1;else if(f=ji(r),c!==null&&c.dehydrated!==null){if(s===null){if(!f)throw Error(a(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[ys]=r}else zr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;yt(r),f=!1}else os!==null&&(jd(os),os=null),f=!0;if(!f)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=i,r):(c=c!==null,c!==(s!==null&&s.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(s===null||(Ve.current&1)!==0?at===0&&(at=3):kd())),r.updateQueue!==null&&(r.flags|=4),yt(r),null);case 4:return Ir(),dd(s,r),s===null&&Ua(r.stateNode.containerInfo),yt(r),null;case 10:return Lc(r.type._context),yt(r),null;case 17:return Et(r.type)&&xi(),yt(r),null;case 19:if(qe(Ve),f=r.memoizedState,f===null)return yt(r),null;if(c=(r.flags&128)!==0,w=f.rendering,w===null)if(c)Za(f,!1);else{if(at!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(w=_i(s),w!==null){for(r.flags|=128,Za(f,!1),c=w.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=i,i=r.child;i!==null;)f=i,s=c,f.flags&=14680066,w=f.alternate,w===null?(f.childLanes=0,f.lanes=s,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=w.childLanes,f.lanes=w.lanes,f.child=w.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=w.memoizedProps,f.memoizedState=w.memoizedState,f.updateQueue=w.updateQueue,f.type=w.type,s=w.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i=i.sibling;return $e(Ve,Ve.current&1|2),r.child}s=s.sibling}f.tail!==null&&Ze()>Br&&(r.flags|=128,c=!0,Za(f,!1),r.lanes=4194304)}else{if(!c)if(s=_i(w),s!==null){if(r.flags|=128,c=!0,i=s.updateQueue,i!==null&&(r.updateQueue=i,r.flags|=4),Za(f,!0),f.tail===null&&f.tailMode==="hidden"&&!w.alternate&&!Qe)return yt(r),null}else 2*Ze()-f.renderingStartTime>Br&&i!==1073741824&&(r.flags|=128,c=!0,Za(f,!1),r.lanes=4194304);f.isBackwards?(w.sibling=r.child,r.child=w):(i=f.last,i!==null?i.sibling=w:r.child=w,f.last=w)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Ze(),r.sibling=null,i=Ve.current,$e(Ve,c?i&1|2:i&1),r):(yt(r),null);case 22:case 23:return Nd(),c=r.memoizedState!==null,s!==null&&s.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(Ut&1073741824)!==0&&(yt(r),r.subtreeFlags&6&&(r.flags|=8192)):yt(r),null;case 24:return null;case 25:return null}throw Error(a(156,r.tag))}function gv(s,r){switch(Oc(r),r.tag){case 1:return Et(r.type)&&xi(),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Ir(),qe(_t),qe(xt),Hc(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 5:return Bc(r),null;case 13:if(qe(Ve),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(a(340));zr()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return qe(Ve),null;case 4:return Ir(),null;case 10:return Lc(r.type._context),null;case 22:case 23:return Nd(),null;case 24:return null;default:return null}}var Ai=!1,vt=!1,yv=typeof WeakSet=="function"?WeakSet:Set,de=null;function Ur(s,r){var i=s.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(c){Ye(s,r,c)}else i.current=null}function ud(s,r,i){try{i()}catch(c){Ye(s,r,c)}}var Mm=!1;function vv(s,r){if(Nc=si,s=uh(),pc(s)){if("selectionStart"in s)var i={start:s.selectionStart,end:s.selectionEnd};else e:{i=(i=s.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var h=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var w=0,E=-1,T=-1,F=0,Y=0,J=s,K=null;t:for(;;){for(var oe;J!==i||h!==0&&J.nodeType!==3||(E=w+h),J!==f||c!==0&&J.nodeType!==3||(T=w+c),J.nodeType===3&&(w+=J.nodeValue.length),(oe=J.firstChild)!==null;)K=J,J=oe;for(;;){if(J===s)break t;if(K===i&&++F===h&&(E=w),K===f&&++Y===c&&(T=w),(oe=J.nextSibling)!==null)break;J=K,K=J.parentNode}J=oe}i=E===-1||T===-1?null:{start:E,end:T}}else i=null}i=i||{start:0,end:0}}else i=null;for(kc={focusedElem:s,selectionRange:i},si=!1,de=r;de!==null;)if(r=de,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,de=s;else for(;de!==null;){r=de;try{var ue=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var he=ue.memoizedProps,et=ue.memoizedState,z=r.stateNode,D=z.getSnapshotBeforeUpdate(r.elementType===r.type?he:cs(r.type,he),et);z.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var A=r.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(te){Ye(r,r.return,te)}if(s=r.sibling,s!==null){s.return=r.return,de=s;break}de=r.return}return ue=Mm,Mm=!1,ue}function el(s,r,i){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&s)===s){var f=h.destroy;h.destroy=void 0,f!==void 0&&ud(r,i,f)}h=h.next}while(h!==c)}}function Fi(s,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&s)===s){var c=i.create;i.destroy=c()}i=i.next}while(i!==r)}}function hd(s){var r=s.ref;if(r!==null){var i=s.stateNode;switch(s.tag){case 5:s=i;break;default:s=i}typeof r=="function"?r(s):r.current=s}}function Dm(s){var r=s.alternate;r!==null&&(s.alternate=null,Dm(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&(delete r[ys],delete r[Ba],delete r[Ec],delete r[tv],delete r[sv])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function zm(s){return s.tag===5||s.tag===3||s.tag===4}function Am(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||zm(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function md(s,r,i){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?i.nodeType===8?i.parentNode.insertBefore(s,r):i.insertBefore(s,r):(i.nodeType===8?(r=i.parentNode,r.insertBefore(s,i)):(r=i,r.appendChild(s)),i=i._reactRootContainer,i!=null||r.onclick!==null||(r.onclick=fi));else if(c!==4&&(s=s.child,s!==null))for(md(s,r,i),s=s.sibling;s!==null;)md(s,r,i),s=s.sibling}function fd(s,r,i){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?i.insertBefore(s,r):i.appendChild(s);else if(c!==4&&(s=s.child,s!==null))for(fd(s,r,i),s=s.sibling;s!==null;)fd(s,r,i),s=s.sibling}var ht=null,ds=!1;function an(s,r,i){for(i=i.child;i!==null;)Fm(s,r,i),i=i.sibling}function Fm(s,r,i){if(gs&&typeof gs.onCommitFiberUnmount=="function")try{gs.onCommitFiberUnmount(Yl,i)}catch{}switch(i.tag){case 5:vt||Ur(i,r);case 6:var c=ht,h=ds;ht=null,an(s,r,i),ht=c,ds=h,ht!==null&&(ds?(s=ht,i=i.stateNode,s.nodeType===8?s.parentNode.removeChild(i):s.removeChild(i)):ht.removeChild(i.stateNode));break;case 18:ht!==null&&(ds?(s=ht,i=i.stateNode,s.nodeType===8?_c(s.parentNode,i):s.nodeType===1&&_c(s,i),Oa(s)):_c(ht,i.stateNode));break;case 4:c=ht,h=ds,ht=i.stateNode.containerInfo,ds=!0,an(s,r,i),ht=c,ds=h;break;case 0:case 11:case 14:case 15:if(!vt&&(c=i.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var f=h,w=f.destroy;f=f.tag,w!==void 0&&((f&2)!==0||(f&4)!==0)&&ud(i,r,w),h=h.next}while(h!==c)}an(s,r,i);break;case 1:if(!vt&&(Ur(i,r),c=i.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=i.memoizedProps,c.state=i.memoizedState,c.componentWillUnmount()}catch(E){Ye(i,r,E)}an(s,r,i);break;case 21:an(s,r,i);break;case 22:i.mode&1?(vt=(c=vt)||i.memoizedState!==null,an(s,r,i),vt=c):an(s,r,i);break;default:an(s,r,i)}}function Lm(s){var r=s.updateQueue;if(r!==null){s.updateQueue=null;var i=s.stateNode;i===null&&(i=s.stateNode=new yv),r.forEach(function(c){var h=Ev.bind(null,s,c);i.has(c)||(i.add(c),c.then(h,h))})}}function us(s,r){var i=r.deletions;if(i!==null)for(var c=0;c<i.length;c++){var h=i[c];try{var f=s,w=r,E=w;e:for(;E!==null;){switch(E.tag){case 5:ht=E.stateNode,ds=!1;break e;case 3:ht=E.stateNode.containerInfo,ds=!0;break e;case 4:ht=E.stateNode.containerInfo,ds=!0;break e}E=E.return}if(ht===null)throw Error(a(160));Fm(f,w,h),ht=null,ds=!1;var T=h.alternate;T!==null&&(T.return=null),h.return=null}catch(F){Ye(h,r,F)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Im(r,s),r=r.sibling}function Im(s,r){var i=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(us(r,s),js(s),c&4){try{el(3,s,s.return),Fi(3,s)}catch(he){Ye(s,s.return,he)}try{el(5,s,s.return)}catch(he){Ye(s,s.return,he)}}break;case 1:us(r,s),js(s),c&512&&i!==null&&Ur(i,i.return);break;case 5:if(us(r,s),js(s),c&512&&i!==null&&Ur(i,i.return),s.flags&32){var h=s.stateNode;try{ja(h,"")}catch(he){Ye(s,s.return,he)}}if(c&4&&(h=s.stateNode,h!=null)){var f=s.memoizedProps,w=i!==null?i.memoizedProps:f,E=s.type,T=s.updateQueue;if(s.updateQueue=null,T!==null)try{E==="input"&&f.type==="radio"&&f.name!=null&&Hl(h,f),Ho(E,w);var F=Ho(E,f);for(w=0;w<T.length;w+=2){var Y=T[w],J=T[w+1];Y==="style"?j0(h,J):Y==="dangerouslySetInnerHTML"?v0(h,J):Y==="children"?ja(h,J):C(h,Y,J,F)}switch(E){case"input":$o(h,f);break;case"textarea":x0(h,f);break;case"select":var K=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!f.multiple;var oe=f.value;oe!=null?br(h,!!f.multiple,oe,!1):K!==!!f.multiple&&(f.defaultValue!=null?br(h,!!f.multiple,f.defaultValue,!0):br(h,!!f.multiple,f.multiple?[]:"",!1))}h[Ba]=f}catch(he){Ye(s,s.return,he)}}break;case 6:if(us(r,s),js(s),c&4){if(s.stateNode===null)throw Error(a(162));h=s.stateNode,f=s.memoizedProps;try{h.nodeValue=f}catch(he){Ye(s,s.return,he)}}break;case 3:if(us(r,s),js(s),c&4&&i!==null&&i.memoizedState.isDehydrated)try{Oa(r.containerInfo)}catch(he){Ye(s,s.return,he)}break;case 4:us(r,s),js(s);break;case 13:us(r,s),js(s),h=s.child,h.flags&8192&&(f=h.memoizedState!==null,h.stateNode.isHidden=f,!f||h.alternate!==null&&h.alternate.memoizedState!==null||(gd=Ze())),c&4&&Lm(s);break;case 22:if(Y=i!==null&&i.memoizedState!==null,s.mode&1?(vt=(F=vt)||Y,us(r,s),vt=F):us(r,s),js(s),c&8192){if(F=s.memoizedState!==null,(s.stateNode.isHidden=F)&&!Y&&(s.mode&1)!==0)for(de=s,Y=s.child;Y!==null;){for(J=de=Y;de!==null;){switch(K=de,oe=K.child,K.tag){case 0:case 11:case 14:case 15:el(4,K,K.return);break;case 1:Ur(K,K.return);var ue=K.stateNode;if(typeof ue.componentWillUnmount=="function"){c=K,i=K.return;try{r=c,ue.props=r.memoizedProps,ue.state=r.memoizedState,ue.componentWillUnmount()}catch(he){Ye(c,i,he)}}break;case 5:Ur(K,K.return);break;case 22:if(K.memoizedState!==null){qm(J);continue}}oe!==null?(oe.return=K,de=oe):qm(J)}Y=Y.sibling}e:for(Y=null,J=s;;){if(J.tag===5){if(Y===null){Y=J;try{h=J.stateNode,F?(f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(E=J.stateNode,T=J.memoizedProps.style,w=T!=null&&T.hasOwnProperty("display")?T.display:null,E.style.display=b0("display",w))}catch(he){Ye(s,s.return,he)}}}else if(J.tag===6){if(Y===null)try{J.stateNode.nodeValue=F?"":J.memoizedProps}catch(he){Ye(s,s.return,he)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===s)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===s)break e;for(;J.sibling===null;){if(J.return===null||J.return===s)break e;Y===J&&(Y=null),J=J.return}Y===J&&(Y=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:us(r,s),js(s),c&4&&Lm(s);break;case 21:break;default:us(r,s),js(s)}}function js(s){var r=s.flags;if(r&2){try{e:{for(var i=s.return;i!==null;){if(zm(i)){var c=i;break e}i=i.return}throw Error(a(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(ja(h,""),c.flags&=-33);var f=Am(s);fd(s,f,h);break;case 3:case 4:var w=c.stateNode.containerInfo,E=Am(s);md(s,E,w);break;default:throw Error(a(161))}}catch(T){Ye(s,s.return,T)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function bv(s,r,i){de=s,$m(s)}function $m(s,r,i){for(var c=(s.mode&1)!==0;de!==null;){var h=de,f=h.child;if(h.tag===22&&c){var w=h.memoizedState!==null||Ai;if(!w){var E=h.alternate,T=E!==null&&E.memoizedState!==null||vt;E=Ai;var F=vt;if(Ai=w,(vt=T)&&!F)for(de=h;de!==null;)w=de,T=w.child,w.tag===22&&w.memoizedState!==null?Bm(h):T!==null?(T.return=w,de=T):Bm(h);for(;f!==null;)de=f,$m(f),f=f.sibling;de=h,Ai=E,vt=F}Um(s)}else(h.subtreeFlags&8772)!==0&&f!==null?(f.return=h,de=f):Um(s)}}function Um(s){for(;de!==null;){var r=de;if((r.flags&8772)!==0){var i=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:vt||Fi(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!vt)if(i===null)c.componentDidMount();else{var h=r.elementType===r.type?i.memoizedProps:cs(r.type,i.memoizedProps);c.componentDidUpdate(h,i.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var f=r.updateQueue;f!==null&&qh(r,f,c);break;case 3:var w=r.updateQueue;if(w!==null){if(i=null,r.child!==null)switch(r.child.tag){case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}qh(r,w,i)}break;case 5:var E=r.stateNode;if(i===null&&r.flags&4){i=E;var T=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&i.focus();break;case"img":T.src&&(i.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var F=r.alternate;if(F!==null){var Y=F.memoizedState;if(Y!==null){var J=Y.dehydrated;J!==null&&Oa(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}vt||r.flags&512&&hd(r)}catch(K){Ye(r,r.return,K)}}if(r===s){de=null;break}if(i=r.sibling,i!==null){i.return=r.return,de=i;break}de=r.return}}function qm(s){for(;de!==null;){var r=de;if(r===s){de=null;break}var i=r.sibling;if(i!==null){i.return=r.return,de=i;break}de=r.return}}function Bm(s){for(;de!==null;){var r=de;try{switch(r.tag){case 0:case 11:case 15:var i=r.return;try{Fi(4,r)}catch(T){Ye(r,i,T)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var h=r.return;try{c.componentDidMount()}catch(T){Ye(r,h,T)}}var f=r.return;try{hd(r)}catch(T){Ye(r,f,T)}break;case 5:var w=r.return;try{hd(r)}catch(T){Ye(r,w,T)}}}catch(T){Ye(r,r.return,T)}if(r===s){de=null;break}var E=r.sibling;if(E!==null){E.return=r.return,de=E;break}de=r.return}}var jv=Math.ceil,Li=R.ReactCurrentDispatcher,pd=R.ReactCurrentOwner,Jt=R.ReactCurrentBatchConfig,Me=0,ot=null,st=null,mt=0,Ut=0,qr=en(0),at=0,tl=null,Vn=0,Ii=0,xd=0,sl=null,Rt=null,gd=0,Br=1/0,As=null,$i=!1,yd=null,ln=null,Ui=!1,on=null,qi=0,nl=0,vd=null,Bi=-1,Wi=0;function St(){return(Me&6)!==0?Ze():Bi!==-1?Bi:Bi=Ze()}function cn(s){return(s.mode&1)===0?1:(Me&2)!==0&&mt!==0?mt&-mt:rv.transition!==null?(Wi===0&&(Wi=A0()),Wi):(s=Ae,s!==0||(s=window.event,s=s===void 0?16:H0(s.type)),s)}function hs(s,r,i,c){if(50<nl)throw nl=0,vd=null,Error(a(185));_a(s,i,c),((Me&2)===0||s!==ot)&&(s===ot&&((Me&2)===0&&(Ii|=i),at===4&&dn(s,mt)),Tt(s,c),i===1&&Me===0&&(r.mode&1)===0&&(Br=Ze()+500,yi&&sn()))}function Tt(s,r){var i=s.callbackNode;ry(s,r);var c=Zl(s,s===ot?mt:0);if(c===0)i!==null&&M0(i),s.callbackNode=null,s.callbackPriority=0;else if(r=c&-c,s.callbackPriority!==r){if(i!=null&&M0(i),r===1)s.tag===0?nv(Hm.bind(null,s)):Rh(Hm.bind(null,s)),Zy(function(){(Me&6)===0&&sn()}),i=null;else{switch(F0(c)){case 1:i=Xo;break;case 4:i=D0;break;case 16:i=Gl;break;case 536870912:i=z0;break;default:i=Gl}i=Zm(i,Wm.bind(null,s))}s.callbackPriority=r,s.callbackNode=i}}function Wm(s,r){if(Bi=-1,Wi=0,(Me&6)!==0)throw Error(a(327));var i=s.callbackNode;if(Wr()&&s.callbackNode!==i)return null;var c=Zl(s,s===ot?mt:0);if(c===0)return null;if((c&30)!==0||(c&s.expiredLanes)!==0||r)r=Hi(s,c);else{r=c;var h=Me;Me|=2;var f=Vm();(ot!==s||mt!==r)&&(As=null,Br=Ze()+500,Gn(s,r));do try{kv();break}catch(E){Qm(s,E)}while(!0);Fc(),Li.current=f,Me=h,st!==null?r=0:(ot=null,mt=0,r=at)}if(r!==0){if(r===2&&(h=Zo(s),h!==0&&(c=h,r=bd(s,h))),r===1)throw i=tl,Gn(s,0),dn(s,c),Tt(s,Ze()),i;if(r===6)dn(s,c);else{if(h=s.current.alternate,(c&30)===0&&!wv(h)&&(r=Hi(s,c),r===2&&(f=Zo(s),f!==0&&(c=f,r=bd(s,f))),r===1))throw i=tl,Gn(s,0),dn(s,c),Tt(s,Ze()),i;switch(s.finishedWork=h,s.finishedLanes=c,r){case 0:case 1:throw Error(a(345));case 2:Yn(s,Rt,As);break;case 3:if(dn(s,c),(c&130023424)===c&&(r=gd+500-Ze(),10<r)){if(Zl(s,0)!==0)break;if(h=s.suspendedLanes,(h&c)!==c){St(),s.pingedLanes|=s.suspendedLanes&h;break}s.timeoutHandle=Cc(Yn.bind(null,s,Rt,As),r);break}Yn(s,Rt,As);break;case 4:if(dn(s,c),(c&4194240)===c)break;for(r=s.eventTimes,h=-1;0<c;){var w=31-ls(c);f=1<<w,w=r[w],w>h&&(h=w),c&=~f}if(c=h,c=Ze()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*jv(c/1960))-c,10<c){s.timeoutHandle=Cc(Yn.bind(null,s,Rt,As),c);break}Yn(s,Rt,As);break;case 5:Yn(s,Rt,As);break;default:throw Error(a(329))}}}return Tt(s,Ze()),s.callbackNode===i?Wm.bind(null,s):null}function bd(s,r){var i=sl;return s.current.memoizedState.isDehydrated&&(Gn(s,r).flags|=256),s=Hi(s,r),s!==2&&(r=Rt,Rt=i,r!==null&&jd(r)),s}function jd(s){Rt===null?Rt=s:Rt.push.apply(Rt,s)}function wv(s){for(var r=s;;){if(r.flags&16384){var i=r.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var c=0;c<i.length;c++){var h=i[c],f=h.getSnapshot;h=h.value;try{if(!is(f(),h))return!1}catch{return!1}}}if(i=r.child,r.subtreeFlags&16384&&i!==null)i.return=r,r=i;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function dn(s,r){for(r&=~xd,r&=~Ii,s.suspendedLanes|=r,s.pingedLanes&=~r,s=s.expirationTimes;0<r;){var i=31-ls(r),c=1<<i;s[i]=-1,r&=~c}}function Hm(s){if((Me&6)!==0)throw Error(a(327));Wr();var r=Zl(s,0);if((r&1)===0)return Tt(s,Ze()),null;var i=Hi(s,r);if(s.tag!==0&&i===2){var c=Zo(s);c!==0&&(r=c,i=bd(s,c))}if(i===1)throw i=tl,Gn(s,0),dn(s,r),Tt(s,Ze()),i;if(i===6)throw Error(a(345));return s.finishedWork=s.current.alternate,s.finishedLanes=r,Yn(s,Rt,As),Tt(s,Ze()),null}function wd(s,r){var i=Me;Me|=1;try{return s(r)}finally{Me=i,Me===0&&(Br=Ze()+500,yi&&sn())}}function Kn(s){on!==null&&on.tag===0&&(Me&6)===0&&Wr();var r=Me;Me|=1;var i=Jt.transition,c=Ae;try{if(Jt.transition=null,Ae=1,s)return s()}finally{Ae=c,Jt.transition=i,Me=r,(Me&6)===0&&sn()}}function Nd(){Ut=qr.current,qe(qr)}function Gn(s,r){s.finishedWork=null,s.finishedLanes=0;var i=s.timeoutHandle;if(i!==-1&&(s.timeoutHandle=-1,Xy(i)),st!==null)for(i=st.return;i!==null;){var c=i;switch(Oc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&xi();break;case 3:Ir(),qe(_t),qe(xt),Hc();break;case 5:Bc(c);break;case 4:Ir();break;case 13:qe(Ve);break;case 19:qe(Ve);break;case 10:Lc(c.type._context);break;case 22:case 23:Nd()}i=i.return}if(ot=s,st=s=un(s.current,null),mt=Ut=r,at=0,tl=null,xd=Ii=Vn=0,Rt=sl=null,Wn!==null){for(r=0;r<Wn.length;r++)if(i=Wn[r],c=i.interleaved,c!==null){i.interleaved=null;var h=c.next,f=i.pending;if(f!==null){var w=f.next;f.next=h,c.next=w}i.pending=c}Wn=null}return s}function Qm(s,r){do{var i=st;try{if(Fc(),Ei.current=Oi,Pi){for(var c=Ke.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Pi=!1}if(Qn=0,it=rt=Ke=null,Ga=!1,Ya=0,pd.current=null,i===null||i.return===null){at=1,tl=r,st=null;break}e:{var f=s,w=i.return,E=i,T=r;if(r=mt,E.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var F=T,Y=E,J=Y.tag;if((Y.mode&1)===0&&(J===0||J===11||J===15)){var K=Y.alternate;K?(Y.updateQueue=K.updateQueue,Y.memoizedState=K.memoizedState,Y.lanes=K.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var oe=gm(w);if(oe!==null){oe.flags&=-257,ym(oe,w,E,f,r),oe.mode&1&&xm(f,F,r),r=oe,T=F;var ue=r.updateQueue;if(ue===null){var he=new Set;he.add(T),r.updateQueue=he}else ue.add(T);break e}else{if((r&1)===0){xm(f,F,r),kd();break e}T=Error(a(426))}}else if(Qe&&E.mode&1){var et=gm(w);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),ym(et,w,E,f,r),zc($r(T,E));break e}}f=T=$r(T,E),at!==4&&(at=2),sl===null?sl=[f]:sl.push(f),f=w;do{switch(f.tag){case 3:f.flags|=65536,r&=-r,f.lanes|=r;var z=fm(f,T,r);Uh(f,z);break e;case 1:E=T;var D=f.type,A=f.stateNode;if((f.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ln===null||!ln.has(A)))){f.flags|=65536,r&=-r,f.lanes|=r;var te=pm(f,E,r);Uh(f,te);break e}}f=f.return}while(f!==null)}Gm(i)}catch(me){r=me,st===i&&i!==null&&(st=i=i.return);continue}break}while(!0)}function Vm(){var s=Li.current;return Li.current=Oi,s===null?Oi:s}function kd(){(at===0||at===3||at===2)&&(at=4),ot===null||(Vn&268435455)===0&&(Ii&268435455)===0||dn(ot,mt)}function Hi(s,r){var i=Me;Me|=2;var c=Vm();(ot!==s||mt!==r)&&(As=null,Gn(s,r));do try{Nv();break}catch(h){Qm(s,h)}while(!0);if(Fc(),Me=i,Li.current=c,st!==null)throw Error(a(261));return ot=null,mt=0,at}function Nv(){for(;st!==null;)Km(st)}function kv(){for(;st!==null&&!Gg();)Km(st)}function Km(s){var r=Xm(s.alternate,s,Ut);s.memoizedProps=s.pendingProps,r===null?Gm(s):st=r,pd.current=null}function Gm(s){var r=s;do{var i=r.alternate;if(s=r.return,(r.flags&32768)===0){if(i=xv(i,r,Ut),i!==null){st=i;return}}else{if(i=gv(i,r),i!==null){i.flags&=32767,st=i;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{at=6,st=null;return}}if(r=r.sibling,r!==null){st=r;return}st=r=s}while(r!==null);at===0&&(at=5)}function Yn(s,r,i){var c=Ae,h=Jt.transition;try{Jt.transition=null,Ae=1,Sv(s,r,i,c)}finally{Jt.transition=h,Ae=c}return null}function Sv(s,r,i,c){do Wr();while(on!==null);if((Me&6)!==0)throw Error(a(327));i=s.finishedWork;var h=s.finishedLanes;if(i===null)return null;if(s.finishedWork=null,s.finishedLanes=0,i===s.current)throw Error(a(177));s.callbackNode=null,s.callbackPriority=0;var f=i.lanes|i.childLanes;if(ay(s,f),s===ot&&(st=ot=null,mt=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Ui||(Ui=!0,Zm(Gl,function(){return Wr(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=Jt.transition,Jt.transition=null;var w=Ae;Ae=1;var E=Me;Me|=4,pd.current=null,vv(s,i),Im(i,s),Hy(kc),si=!!Nc,kc=Nc=null,s.current=i,bv(i),Yg(),Me=E,Ae=w,Jt.transition=f}else s.current=i;if(Ui&&(Ui=!1,on=s,qi=h),f=s.pendingLanes,f===0&&(ln=null),Zg(i.stateNode),Tt(s,Ze()),r!==null)for(c=s.onRecoverableError,i=0;i<r.length;i++)h=r[i],c(h.value,{componentStack:h.stack,digest:h.digest});if($i)throw $i=!1,s=yd,yd=null,s;return(qi&1)!==0&&s.tag!==0&&Wr(),f=s.pendingLanes,(f&1)!==0?s===vd?nl++:(nl=0,vd=s):nl=0,sn(),null}function Wr(){if(on!==null){var s=F0(qi),r=Jt.transition,i=Ae;try{if(Jt.transition=null,Ae=16>s?16:s,on===null)var c=!1;else{if(s=on,on=null,qi=0,(Me&6)!==0)throw Error(a(331));var h=Me;for(Me|=4,de=s.current;de!==null;){var f=de,w=f.child;if((de.flags&16)!==0){var E=f.deletions;if(E!==null){for(var T=0;T<E.length;T++){var F=E[T];for(de=F;de!==null;){var Y=de;switch(Y.tag){case 0:case 11:case 15:el(8,Y,f)}var J=Y.child;if(J!==null)J.return=Y,de=J;else for(;de!==null;){Y=de;var K=Y.sibling,oe=Y.return;if(Dm(Y),Y===F){de=null;break}if(K!==null){K.return=oe,de=K;break}de=oe}}}var ue=f.alternate;if(ue!==null){var he=ue.child;if(he!==null){ue.child=null;do{var et=he.sibling;he.sibling=null,he=et}while(he!==null)}}de=f}}if((f.subtreeFlags&2064)!==0&&w!==null)w.return=f,de=w;else e:for(;de!==null;){if(f=de,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:el(9,f,f.return)}var z=f.sibling;if(z!==null){z.return=f.return,de=z;break e}de=f.return}}var D=s.current;for(de=D;de!==null;){w=de;var A=w.child;if((w.subtreeFlags&2064)!==0&&A!==null)A.return=w,de=A;else e:for(w=D;de!==null;){if(E=de,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Fi(9,E)}}catch(me){Ye(E,E.return,me)}if(E===w){de=null;break e}var te=E.sibling;if(te!==null){te.return=E.return,de=te;break e}de=E.return}}if(Me=h,sn(),gs&&typeof gs.onPostCommitFiberRoot=="function")try{gs.onPostCommitFiberRoot(Yl,s)}catch{}c=!0}return c}finally{Ae=i,Jt.transition=r}}return!1}function Ym(s,r,i){r=$r(i,r),r=fm(s,r,1),s=rn(s,r,1),r=St(),s!==null&&(_a(s,1,r),Tt(s,r))}function Ye(s,r,i){if(s.tag===3)Ym(s,s,i);else for(;r!==null;){if(r.tag===3){Ym(r,s,i);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ln===null||!ln.has(c))){s=$r(i,s),s=pm(r,s,1),r=rn(r,s,1),s=St(),r!==null&&(_a(r,1,s),Tt(r,s));break}}r=r.return}}function Cv(s,r,i){var c=s.pingCache;c!==null&&c.delete(r),r=St(),s.pingedLanes|=s.suspendedLanes&i,ot===s&&(mt&i)===i&&(at===4||at===3&&(mt&130023424)===mt&&500>Ze()-gd?Gn(s,0):xd|=i),Tt(s,r)}function Jm(s,r){r===0&&((s.mode&1)===0?r=1:(r=Xl,Xl<<=1,(Xl&130023424)===0&&(Xl=4194304)));var i=St();s=Ms(s,r),s!==null&&(_a(s,r,i),Tt(s,i))}function _v(s){var r=s.memoizedState,i=0;r!==null&&(i=r.retryLane),Jm(s,i)}function Ev(s,r){var i=0;switch(s.tag){case 13:var c=s.stateNode,h=s.memoizedState;h!==null&&(i=h.retryLane);break;case 19:c=s.stateNode;break;default:throw Error(a(314))}c!==null&&c.delete(r),Jm(s,i)}var Xm;Xm=function(s,r,i){if(s!==null)if(s.memoizedProps!==r.pendingProps||_t.current)Pt=!0;else{if((s.lanes&i)===0&&(r.flags&128)===0)return Pt=!1,pv(s,r,i);Pt=(s.flags&131072)!==0}else Pt=!1,Qe&&(r.flags&1048576)!==0&&Th(r,bi,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;zi(s,r),s=r.pendingProps;var h=Or(r,xt.current);Lr(r,i),h=Kc(null,r,c,s,h,i);var f=Gc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Et(c)?(f=!0,gi(r)):f=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Uc(r),h.updater=Mi,r.stateNode=h,h._reactInternals=r,td(r,c,s,i),r=ad(null,r,c,!0,f,i)):(r.tag=0,Qe&&f&&Tc(r),kt(null,r,h,i),r=r.child),r;case 16:c=r.elementType;e:{switch(zi(s,r),s=r.pendingProps,h=c._init,c=h(c._payload),r.type=c,h=r.tag=Rv(c),s=cs(c,s),h){case 0:r=rd(null,r,c,s,i);break e;case 1:r=km(null,r,c,s,i);break e;case 11:r=vm(null,r,c,s,i);break e;case 14:r=bm(null,r,c,cs(c.type,s),i);break e}throw Error(a(306,c,""))}return r;case 0:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:cs(c,h),rd(s,r,c,h,i);case 1:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:cs(c,h),km(s,r,c,h,i);case 3:e:{if(Sm(r),s===null)throw Error(a(387));c=r.pendingProps,f=r.memoizedState,h=f.element,$h(s,r),Ci(r,c,null,i);var w=r.memoizedState;if(c=w.element,f.isDehydrated)if(f={element:c,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){h=$r(Error(a(423)),r),r=Cm(s,r,c,i,h);break e}else if(c!==h){h=$r(Error(a(424)),r),r=Cm(s,r,c,i,h);break e}else for($t=Zs(r.stateNode.containerInfo.firstChild),It=r,Qe=!0,os=null,i=Lh(r,null,c,i),r.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(zr(),c===h){r=zs(s,r,i);break e}kt(s,r,c,i)}r=r.child}return r;case 5:return Bh(r),s===null&&Dc(r),c=r.type,h=r.pendingProps,f=s!==null?s.memoizedProps:null,w=h.children,Sc(c,h)?w=null:f!==null&&Sc(c,f)&&(r.flags|=32),Nm(s,r),kt(s,r,w,i),r.child;case 6:return s===null&&Dc(r),null;case 13:return _m(s,r,i);case 4:return qc(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=Ar(r,null,c,i):kt(s,r,c,i),r.child;case 11:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:cs(c,h),vm(s,r,c,h,i);case 7:return kt(s,r,r.pendingProps,i),r.child;case 8:return kt(s,r,r.pendingProps.children,i),r.child;case 12:return kt(s,r,r.pendingProps.children,i),r.child;case 10:e:{if(c=r.type._context,h=r.pendingProps,f=r.memoizedProps,w=h.value,$e(Ni,c._currentValue),c._currentValue=w,f!==null)if(is(f.value,w)){if(f.children===h.children&&!_t.current){r=zs(s,r,i);break e}}else for(f=r.child,f!==null&&(f.return=r);f!==null;){var E=f.dependencies;if(E!==null){w=f.child;for(var T=E.firstContext;T!==null;){if(T.context===c){if(f.tag===1){T=Ds(-1,i&-i),T.tag=2;var F=f.updateQueue;if(F!==null){F=F.shared;var Y=F.pending;Y===null?T.next=T:(T.next=Y.next,Y.next=T),F.pending=T}}f.lanes|=i,T=f.alternate,T!==null&&(T.lanes|=i),Ic(f.return,i,r),E.lanes|=i;break}T=T.next}}else if(f.tag===10)w=f.type===r.type?null:f.child;else if(f.tag===18){if(w=f.return,w===null)throw Error(a(341));w.lanes|=i,E=w.alternate,E!==null&&(E.lanes|=i),Ic(w,i,r),w=f.sibling}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===r){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}kt(s,r,h.children,i),r=r.child}return r;case 9:return h=r.type,c=r.pendingProps.children,Lr(r,i),h=Gt(h),c=c(h),r.flags|=1,kt(s,r,c,i),r.child;case 14:return c=r.type,h=cs(c,r.pendingProps),h=cs(c.type,h),bm(s,r,c,h,i);case 15:return jm(s,r,r.type,r.pendingProps,i);case 17:return c=r.type,h=r.pendingProps,h=r.elementType===c?h:cs(c,h),zi(s,r),r.tag=1,Et(c)?(s=!0,gi(r)):s=!1,Lr(r,i),hm(r,c,h),td(r,c,h,i),ad(null,r,c,!0,s,i);case 19:return Pm(s,r,i);case 22:return wm(s,r,i)}throw Error(a(156,r.tag))};function Zm(s,r){return O0(s,r)}function Pv(s,r,i,c){this.tag=s,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(s,r,i,c){return new Pv(s,r,i,c)}function Sd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Rv(s){if(typeof s=="function")return Sd(s)?1:0;if(s!=null){if(s=s.$$typeof,s===G)return 11;if(s===ie)return 14}return 2}function un(s,r){var i=s.alternate;return i===null?(i=Xt(s.tag,r,s.key,s.mode),i.elementType=s.elementType,i.type=s.type,i.stateNode=s.stateNode,i.alternate=s,s.alternate=i):(i.pendingProps=r,i.type=s.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=s.flags&14680064,i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,r=s.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},i.sibling=s.sibling,i.index=s.index,i.ref=s.ref,i}function Qi(s,r,i,c,h,f){var w=2;if(c=s,typeof s=="function")Sd(s)&&(w=1);else if(typeof s=="string")w=5;else e:switch(s){case L:return Jn(i.children,h,f,r);case W:w=8,h|=8;break;case H:return s=Xt(12,i,r,h|2),s.elementType=H,s.lanes=f,s;case ne:return s=Xt(13,i,r,h),s.elementType=ne,s.lanes=f,s;case xe:return s=Xt(19,i,r,h),s.elementType=xe,s.lanes=f,s;case pe:return Vi(i,h,f,r);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Q:w=10;break e;case le:w=9;break e;case G:w=11;break e;case ie:w=14;break e;case ae:w=16,c=null;break e}throw Error(a(130,s==null?s:typeof s,""))}return r=Xt(w,i,r,h),r.elementType=s,r.type=c,r.lanes=f,r}function Jn(s,r,i,c){return s=Xt(7,s,c,r),s.lanes=i,s}function Vi(s,r,i,c){return s=Xt(22,s,c,r),s.elementType=pe,s.lanes=i,s.stateNode={isHidden:!1},s}function Cd(s,r,i){return s=Xt(6,s,null,r),s.lanes=i,s}function _d(s,r,i){return r=Xt(4,s.children!==null?s.children:[],s.key,r),r.lanes=i,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}function Tv(s,r,i,c,h){this.tag=r,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ec(0),this.expirationTimes=ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Ed(s,r,i,c,h,f,w,E,T){return s=new Tv(s,r,i,E,T),r===1?(r=1,f===!0&&(r|=8)):r=0,f=Xt(3,null,null,r),s.current=f,f.stateNode=s,f.memoizedState={element:c,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uc(f),s}function Ov(s,r,i){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:c==null?null:""+c,children:s,containerInfo:r,implementation:i}}function ef(s){if(!s)return tn;s=s._reactInternals;e:{if(In(s)!==s||s.tag!==1)throw Error(a(170));var r=s;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Et(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(a(171))}if(s.tag===1){var i=s.type;if(Et(i))return Eh(s,i,r)}return r}function tf(s,r,i,c,h,f,w,E,T){return s=Ed(i,c,!0,s,h,f,w,E,T),s.context=ef(null),i=s.current,c=St(),h=cn(i),f=Ds(c,h),f.callback=r??null,rn(i,f,h),s.current.lanes=h,_a(s,h,c),Tt(s,c),s}function Ki(s,r,i,c){var h=r.current,f=St(),w=cn(h);return i=ef(i),r.context===null?r.context=i:r.pendingContext=i,r=Ds(f,w),r.payload={element:s},c=c===void 0?null:c,c!==null&&(r.callback=c),s=rn(h,r,w),s!==null&&(hs(s,h,w,f),Si(s,h,w)),w}function Gi(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function sf(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var i=s.retryLane;s.retryLane=i!==0&&i<r?i:r}}function Pd(s,r){sf(s,r),(s=s.alternate)&&sf(s,r)}function Mv(){return null}var nf=typeof reportError=="function"?reportError:function(s){console.error(s)};function Rd(s){this._internalRoot=s}Yi.prototype.render=Rd.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(a(409));Ki(s,r,null,null)},Yi.prototype.unmount=Rd.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Kn(function(){Ki(null,s,null,null)}),r[Ps]=null}};function Yi(s){this._internalRoot=s}Yi.prototype.unstable_scheduleHydration=function(s){if(s){var r=$0();s={blockedOn:null,target:s,priority:r};for(var i=0;i<Ys.length&&r!==0&&r<Ys[i].priority;i++);Ys.splice(i,0,s),i===0&&B0(s)}};function Td(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ji(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function rf(){}function Dv(s,r,i,c,h){if(h){if(typeof c=="function"){var f=c;c=function(){var F=Gi(w);f.call(F)}}var w=tf(r,c,s,0,null,!1,!1,"",rf);return s._reactRootContainer=w,s[Ps]=w.current,Ua(s.nodeType===8?s.parentNode:s),Kn(),w}for(;h=s.lastChild;)s.removeChild(h);if(typeof c=="function"){var E=c;c=function(){var F=Gi(T);E.call(F)}}var T=Ed(s,0,!1,null,null,!1,!1,"",rf);return s._reactRootContainer=T,s[Ps]=T.current,Ua(s.nodeType===8?s.parentNode:s),Kn(function(){Ki(r,T,i,c)}),T}function Xi(s,r,i,c,h){var f=i._reactRootContainer;if(f){var w=f;if(typeof h=="function"){var E=h;h=function(){var T=Gi(w);E.call(T)}}Ki(r,w,s,h)}else w=Dv(i,r,s,h,c);return Gi(w)}L0=function(s){switch(s.tag){case 3:var r=s.stateNode;if(r.current.memoizedState.isDehydrated){var i=Ca(r.pendingLanes);i!==0&&(tc(r,i|1),Tt(r,Ze()),(Me&6)===0&&(Br=Ze()+500,sn()))}break;case 13:Kn(function(){var c=Ms(s,1);if(c!==null){var h=St();hs(c,s,1,h)}}),Pd(s,1)}},sc=function(s){if(s.tag===13){var r=Ms(s,134217728);if(r!==null){var i=St();hs(r,s,134217728,i)}Pd(s,134217728)}},I0=function(s){if(s.tag===13){var r=cn(s),i=Ms(s,r);if(i!==null){var c=St();hs(i,s,r,c)}Pd(s,r)}},$0=function(){return Ae},U0=function(s,r){var i=Ae;try{return Ae=s,r()}finally{Ae=i}},Ko=function(s,r,i){switch(r){case"input":if($o(s,i),r=i.name,i.type==="radio"&&r!=null){for(i=s;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<i.length;r++){var c=i[r];if(c!==s&&c.form===s.form){var h=pi(c);if(!h)throw Error(a(90));xs(c),$o(c,h)}}}break;case"textarea":x0(s,i);break;case"select":r=i.value,r!=null&&br(s,!!i.multiple,r,!1)}},S0=wd,C0=Kn;var zv={usingClientEntryPoint:!1,Events:[Wa,Rr,pi,N0,k0,wd]},rl={findFiberByHostInstance:$n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Av={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=R0(s),s===null?null:s.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||Mv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zi.isDisabled&&Zi.supportsFiber)try{Yl=Zi.inject(Av),gs=Zi}catch{}}return Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zv,Ot.createPortal=function(s,r){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Td(r))throw Error(a(200));return Ov(s,r,null,i)},Ot.createRoot=function(s,r){if(!Td(s))throw Error(a(299));var i=!1,c="",h=nf;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Ed(s,1,!1,null,null,i,!1,c,h),s[Ps]=r.current,Ua(s.nodeType===8?s.parentNode:s),new Rd(r)},Ot.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(a(188)):(s=Object.keys(s).join(","),Error(a(268,s)));return s=R0(r),s=s===null?null:s.stateNode,s},Ot.flushSync=function(s){return Kn(s)},Ot.hydrate=function(s,r,i){if(!Ji(r))throw Error(a(200));return Xi(null,s,r,!0,i)},Ot.hydrateRoot=function(s,r,i){if(!Td(s))throw Error(a(405));var c=i!=null&&i.hydratedSources||null,h=!1,f="",w=nf;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),r=tf(r,null,s,1,i??null,h,!1,f,w),s[Ps]=r.current,Ua(s),c)for(s=0;s<c.length;s++)i=c[s],h=i._getVersion,h=h(i._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[i,h]:r.mutableSourceEagerHydrationData.push(i,h);return new Yi(r)},Ot.render=function(s,r,i){if(!Ji(r))throw Error(a(200));return Xi(null,s,r,!1,i)},Ot.unmountComponentAtNode=function(s){if(!Ji(s))throw Error(a(40));return s._reactRootContainer?(Kn(function(){Xi(null,null,s,!1,function(){s._reactRootContainer=null,s[Ps]=null})}),!0):!1},Ot.unstable_batchedUpdates=wd,Ot.unstable_renderSubtreeIntoContainer=function(s,r,i,c){if(!Ji(i))throw Error(a(200));if(s==null||s._reactInternals===void 0)throw Error(a(38));return Xi(s,r,i,!1,c)},Ot.version="18.3.1-next-f1338f8080-20240426",Ot}var ff;function Wp(){if(ff)return Ad.exports;ff=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),Ad.exports=Vv(),Ad.exports}var pf;function Kv(){if(pf)return to;pf=1;var t=Wp();return to.createRoot=t.createRoot,to.hydrateRoot=t.hydrateRoot,to}var Gv=Kv();const Yv=Uu(Gv);var gr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Jv={setTimeout:(t,n)=>setTimeout(t,n),clearTimeout:t=>clearTimeout(t),setInterval:(t,n)=>setInterval(t,n),clearInterval:t=>clearInterval(t)},yn,$u,Op,Xv=(Op=class{constructor(){ce(this,yn,Jv);ce(this,$u,!1)}setTimeoutProvider(t){se(this,yn,t)}setTimeout(t,n){return _(this,yn).setTimeout(t,n)}clearTimeout(t){_(this,yn).clearTimeout(t)}setInterval(t,n){return _(this,yn).setInterval(t,n)}clearInterval(t){_(this,yn).clearInterval(t)}},yn=new WeakMap,$u=new WeakMap,Op),Zn=new Xv;function Zv(t){setTimeout(t,0)}var ur=typeof window>"u"||"Deno"in globalThis;function jt(){}function eb(t,n){return typeof t=="function"?t(n):t}function ru(t){return typeof t=="number"&&t>=0&&t!==1/0}function Hp(t,n){return Math.max(t+(n||0)-Date.now(),0)}function Pn(t,n){return typeof t=="function"?t(n):t}function ss(t,n){return typeof t=="function"?t(n):t}function xf(t,n){const{type:a="all",exact:l,fetchStatus:o,predicate:d,queryKey:u,stale:m}=t;if(u){if(l){if(n.queryHash!==qu(u,n.options))return!1}else if(!pl(n.queryKey,u))return!1}if(a!=="all"){const p=n.isActive();if(a==="active"&&!p||a==="inactive"&&p)return!1}return!(typeof m=="boolean"&&n.isStale()!==m||o&&o!==n.state.fetchStatus||d&&!d(n))}function gf(t,n){const{exact:a,status:l,predicate:o,mutationKey:d}=t;if(d){if(!n.options.mutationKey)return!1;if(a){if(hr(n.options.mutationKey)!==hr(d))return!1}else if(!pl(n.options.mutationKey,d))return!1}return!(l&&n.state.status!==l||o&&!o(n))}function qu(t,n){return((n==null?void 0:n.queryKeyHashFn)||hr)(t)}function hr(t){return JSON.stringify(t,(n,a)=>au(a)?Object.keys(a).sort().reduce((l,o)=>(l[o]=a[o],l),{}):a)}function pl(t,n){return t===n?!0:typeof t!=typeof n?!1:t&&n&&typeof t=="object"&&typeof n=="object"?Object.keys(n).every(a=>pl(t[a],n[a])):!1}var tb=Object.prototype.hasOwnProperty;function Bu(t,n,a=0){if(t===n)return t;if(a>500)return n;const l=yf(t)&&yf(n);if(!l&&!(au(t)&&au(n)))return n;const d=(l?t:Object.keys(t)).length,u=l?n:Object.keys(n),m=u.length,p=l?new Array(m):{};let x=0;for(let v=0;v<m;v++){const y=l?v:u[v],N=t[y],k=n[y];if(N===k){p[y]=N,(l?v<d:tb.call(t,y))&&x++;continue}if(N===null||k===null||typeof N!="object"||typeof k!="object"){p[y]=k;continue}const j=Bu(N,k,a+1);p[y]=j,j===N&&x++}return d===m&&x===d?t:p}function xl(t,n){if(!n||Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}function yf(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function au(t){if(!vf(t))return!1;const n=t.constructor;if(n===void 0)return!0;const a=n.prototype;return!(!vf(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function vf(t){return Object.prototype.toString.call(t)==="[object Object]"}function sb(t){return new Promise(n=>{Zn.setTimeout(n,t)})}function lu(t,n,a){return typeof a.structuralSharing=="function"?a.structuralSharing(t,n):a.structuralSharing!==!1?Bu(t,n):n}function nb(t,n,a=0){const l=[...t,n];return a&&l.length>a?l.slice(1):l}function rb(t,n,a=0){const l=[n,...t];return a&&l.length>a?l.slice(0,-1):l}var Wu=Symbol();function Qp(t,n){return!t.queryFn&&(n!=null&&n.initialPromise)?()=>n.initialPromise:!t.queryFn||t.queryFn===Wu?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Hu(t,n){return typeof t=="function"?t(...n):!!t}function ab(t,n,a){let l=!1,o;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(o??(o=n()),l||(l=!0,o.aborted?a():o.addEventListener("abort",a,{once:!0})),o)}),t}var tr,vn,Vr,Mp,lb=(Mp=class extends gr{constructor(){super();ce(this,tr);ce(this,vn);ce(this,Vr);se(this,Vr,n=>{if(!ur&&window.addEventListener){const a=()=>n();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}})}onSubscribe(){_(this,vn)||this.setEventListener(_(this,Vr))}onUnsubscribe(){var n;this.hasListeners()||((n=_(this,vn))==null||n.call(this),se(this,vn,void 0))}setEventListener(n){var a;se(this,Vr,n),(a=_(this,vn))==null||a.call(this),se(this,vn,n(l=>{typeof l=="boolean"?this.setFocused(l):this.onFocus()}))}setFocused(n){_(this,tr)!==n&&(se(this,tr,n),this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(a=>{a(n)})}isFocused(){var n;return typeof _(this,tr)=="boolean"?_(this,tr):((n=globalThis.document)==null?void 0:n.visibilityState)!=="hidden"}},tr=new WeakMap,vn=new WeakMap,Vr=new WeakMap,Mp),Qu=new lb;function iu(){let t,n;const a=new Promise((o,d)=>{t=o,n=d});a.status="pending",a.catch(()=>{});function l(o){Object.assign(a,o),delete a.resolve,delete a.reject}return a.resolve=o=>{l({status:"fulfilled",value:o}),t(o)},a.reject=o=>{l({status:"rejected",reason:o}),n(o)},a}var ib=Zv;function ob(){let t=[],n=0,a=m=>{m()},l=m=>{m()},o=ib;const d=m=>{n?t.push(m):o(()=>{a(m)})},u=()=>{const m=t;t=[],m.length&&o(()=>{l(()=>{m.forEach(p=>{a(p)})})})};return{batch:m=>{let p;n++;try{p=m()}finally{n--,n||u()}return p},batchCalls:m=>(...p)=>{d(()=>{m(...p)})},schedule:d,setNotifyFunction:m=>{a=m},setBatchNotifyFunction:m=>{l=m},setScheduler:m=>{o=m}}}var Xe=ob(),Kr,bn,Gr,Dp,cb=(Dp=class extends gr{constructor(){super();ce(this,Kr,!0);ce(this,bn);ce(this,Gr);se(this,Gr,n=>{if(!ur&&window.addEventListener){const a=()=>n(!0),l=()=>n(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",l,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",l)}}})}onSubscribe(){_(this,bn)||this.setEventListener(_(this,Gr))}onUnsubscribe(){var n;this.hasListeners()||((n=_(this,bn))==null||n.call(this),se(this,bn,void 0))}setEventListener(n){var a;se(this,Gr,n),(a=_(this,bn))==null||a.call(this),se(this,bn,n(this.setOnline.bind(this)))}setOnline(n){_(this,Kr)!==n&&(se(this,Kr,n),this.listeners.forEach(l=>{l(n)}))}isOnline(){return _(this,Kr)}},Kr=new WeakMap,bn=new WeakMap,Gr=new WeakMap,Dp),yo=new cb;function db(t){return Math.min(1e3*2**t,3e4)}function Vp(t){return(t??"online")==="online"?yo.isOnline():!0}var ou=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Kp(t){let n=!1,a=0,l;const o=iu(),d=()=>o.status!=="pending",u=b=>{var g;if(!d()){const P=new ou(b);N(P),(g=t.onCancel)==null||g.call(t,P)}},m=()=>{n=!0},p=()=>{n=!1},x=()=>Qu.isFocused()&&(t.networkMode==="always"||yo.isOnline())&&t.canRun(),v=()=>Vp(t.networkMode)&&t.canRun(),y=b=>{d()||(l==null||l(),o.resolve(b))},N=b=>{d()||(l==null||l(),o.reject(b))},k=()=>new Promise(b=>{var g;l=P=>{(d()||x())&&b(P)},(g=t.onPause)==null||g.call(t)}).then(()=>{var b;l=void 0,d()||(b=t.onContinue)==null||b.call(t)}),j=()=>{if(d())return;let b;const g=a===0?t.initialPromise:void 0;try{b=g??t.fn()}catch(P){b=Promise.reject(P)}Promise.resolve(b).then(y).catch(P=>{var B;if(d())return;const O=t.retry??(ur?0:3),C=t.retryDelay??db,R=typeof C=="function"?C(a,P):C,U=O===!0||typeof O=="number"&&a<O||typeof O=="function"&&O(a,P);if(n||!U){N(P);return}a++,(B=t.onFail)==null||B.call(t,a,P),sb(R).then(()=>x()?void 0:k()).then(()=>{n?N(P):j()})})};return{promise:o,status:()=>o.status,cancel:u,continue:()=>(l==null||l(),o),cancelRetry:m,continueRetry:p,canStart:v,start:()=>(v()?j():k().then(j),o)}}var sr,zp,Gp=(zp=class{constructor(){ce(this,sr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ru(this.gcTime)&&se(this,sr,Zn.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ur?1/0:300*1e3))}clearGcTimeout(){_(this,sr)&&(Zn.clearTimeout(_(this,sr)),se(this,sr,void 0))}},sr=new WeakMap,zp),nr,Yr,es,rr,dt,kl,ar,ms,Ls,Ap,ub=(Ap=class extends Gp{constructor(n){super();ce(this,ms);ce(this,nr);ce(this,Yr);ce(this,es);ce(this,rr);ce(this,dt);ce(this,kl);ce(this,ar);se(this,ar,!1),se(this,kl,n.defaultOptions),this.setOptions(n.options),this.observers=[],se(this,rr,n.client),se(this,es,_(this,rr).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,se(this,nr,jf(this.options)),this.state=n.state??_(this,nr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=_(this,dt))==null?void 0:n.promise}setOptions(n){if(this.options={..._(this,kl),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=jf(this.options);a.data!==void 0&&(this.setState(bf(a.data,a.dataUpdatedAt)),se(this,nr,a))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,es).remove(this)}setData(n,a){const l=lu(this.state.data,n,this.options);return je(this,ms,Ls).call(this,{data:l,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt,manual:a==null?void 0:a.manual}),l}setState(n,a){je(this,ms,Ls).call(this,{type:"setState",state:n,setStateOptions:a})}cancel(n){var l,o;const a=(l=_(this,dt))==null?void 0:l.promise;return(o=_(this,dt))==null||o.cancel(n),a?a.then(jt).catch(jt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,nr))}isActive(){return this.observers.some(n=>ss(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Wu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Pn(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!Hp(this.state.dataUpdatedAt,n)}onFocus(){var a;const n=this.observers.find(l=>l.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(a=_(this,dt))==null||a.continue()}onOnline(){var a;const n=this.observers.find(l=>l.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(a=_(this,dt))==null||a.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),_(this,es).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(a=>a!==n),this.observers.length||(_(this,dt)&&(_(this,ar)?_(this,dt).cancel({revert:!0}):_(this,dt).cancelRetry()),this.scheduleGc()),_(this,es).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||je(this,ms,Ls).call(this,{type:"invalidate"})}async fetch(n,a){var p,x,v,y,N,k,j,b,g,P,O,C;if(this.state.fetchStatus!=="idle"&&((p=_(this,dt))==null?void 0:p.status())!=="rejected"){if(this.state.data!==void 0&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(_(this,dt))return _(this,dt).continueRetry(),_(this,dt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const R=this.observers.find(U=>U.options.queryFn);R&&this.setOptions(R.options)}const l=new AbortController,o=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(se(this,ar,!0),l.signal)})},d=()=>{const R=Qp(this.options,a),B=(()=>{const L={client:_(this,rr),queryKey:this.queryKey,meta:this.meta};return o(L),L})();return se(this,ar,!1),this.options.persister?this.options.persister(R,B,this):R(B)},m=(()=>{const R={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:_(this,rr),state:this.state,fetchFn:d};return o(R),R})();(x=this.options.behavior)==null||x.onFetch(m,this),se(this,Yr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((v=m.fetchOptions)==null?void 0:v.meta))&&je(this,ms,Ls).call(this,{type:"fetch",meta:(y=m.fetchOptions)==null?void 0:y.meta}),se(this,dt,Kp({initialPromise:a==null?void 0:a.initialPromise,fn:m.fetchFn,onCancel:R=>{R instanceof ou&&R.revert&&this.setState({..._(this,Yr),fetchStatus:"idle"}),l.abort()},onFail:(R,U)=>{je(this,ms,Ls).call(this,{type:"failed",failureCount:R,error:U})},onPause:()=>{je(this,ms,Ls).call(this,{type:"pause"})},onContinue:()=>{je(this,ms,Ls).call(this,{type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0}));try{const R=await _(this,dt).start();if(R===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(R),(k=(N=_(this,es).config).onSuccess)==null||k.call(N,R,this),(b=(j=_(this,es).config).onSettled)==null||b.call(j,R,this.state.error,this),R}catch(R){if(R instanceof ou){if(R.silent)return _(this,dt).promise;if(R.revert){if(this.state.data===void 0)throw R;return this.state.data}}throw je(this,ms,Ls).call(this,{type:"error",error:R}),(P=(g=_(this,es).config).onError)==null||P.call(g,R,this),(C=(O=_(this,es).config).onSettled)==null||C.call(O,this.state.data,R,this),R}finally{this.scheduleGc()}}},nr=new WeakMap,Yr=new WeakMap,es=new WeakMap,rr=new WeakMap,dt=new WeakMap,kl=new WeakMap,ar=new WeakMap,ms=new WeakSet,Ls=function(n){const a=l=>{switch(n.type){case"failed":return{...l,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,...Yp(l.data,this.options),fetchMeta:n.meta??null};case"success":const o={...l,...bf(n.data,n.dataUpdatedAt),dataUpdateCount:l.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return se(this,Yr,n.manual?o:void 0),o;case"error":const d=n.error;return{...l,error:d,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:d,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...n.state}}};this.state=a(this.state),Xe.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate()}),_(this,es).notify({query:this,type:"updated",action:n})})},Ap);function Yp(t,n){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Vp(n.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function bf(t,n){return{data:t,dataUpdatedAt:n??Date.now(),error:null,isInvalidated:!1,status:"success"}}function jf(t){const n=typeof t.initialData=="function"?t.initialData():t.initialData,a=n!==void 0,l=a?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:n,dataUpdateCount:0,dataUpdatedAt:a?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var Dt,Re,Sl,Ct,lr,Jr,Is,jn,Cl,Xr,Zr,ir,or,wn,ea,ze,ml,cu,du,uu,hu,mu,fu,pu,Jp,Fp,Vu=(Fp=class extends gr{constructor(n,a){super();ce(this,ze);ce(this,Dt);ce(this,Re);ce(this,Sl);ce(this,Ct);ce(this,lr);ce(this,Jr);ce(this,Is);ce(this,jn);ce(this,Cl);ce(this,Xr);ce(this,Zr);ce(this,ir);ce(this,or);ce(this,wn);ce(this,ea,new Set);this.options=a,se(this,Dt,n),se(this,jn,null),se(this,Is,iu()),this.bindMethods(),this.setOptions(a)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,Re).addObserver(this),wf(_(this,Re),this.options)?je(this,ze,ml).call(this):this.updateResult(),je(this,ze,hu).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xu(_(this,Re),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xu(_(this,Re),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,je(this,ze,mu).call(this),je(this,ze,fu).call(this),_(this,Re).removeObserver(this)}setOptions(n){const a=this.options,l=_(this,Re);if(this.options=_(this,Dt).defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ss(this.options.enabled,_(this,Re))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");je(this,ze,pu).call(this),_(this,Re).setOptions(this.options),a._defaulted&&!xl(this.options,a)&&_(this,Dt).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,Re),observer:this});const o=this.hasListeners();o&&Nf(_(this,Re),l,this.options,a)&&je(this,ze,ml).call(this),this.updateResult(),o&&(_(this,Re)!==l||ss(this.options.enabled,_(this,Re))!==ss(a.enabled,_(this,Re))||Pn(this.options.staleTime,_(this,Re))!==Pn(a.staleTime,_(this,Re)))&&je(this,ze,cu).call(this);const d=je(this,ze,du).call(this);o&&(_(this,Re)!==l||ss(this.options.enabled,_(this,Re))!==ss(a.enabled,_(this,Re))||d!==_(this,wn))&&je(this,ze,uu).call(this,d)}getOptimisticResult(n){const a=_(this,Dt).getQueryCache().build(_(this,Dt),n),l=this.createResult(a,n);return mb(this,l)&&(se(this,Ct,l),se(this,Jr,this.options),se(this,lr,_(this,Re).state)),l}getCurrentResult(){return _(this,Ct)}trackResult(n,a){return new Proxy(n,{get:(l,o)=>(this.trackProp(o),a==null||a(o),o==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&_(this,Is).status==="pending"&&_(this,Is).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(l,o))})}trackProp(n){_(this,ea).add(n)}getCurrentQuery(){return _(this,Re)}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const a=_(this,Dt).defaultQueryOptions(n),l=_(this,Dt).getQueryCache().build(_(this,Dt),a);return l.fetch().then(()=>this.createResult(l,a))}fetch(n){return je(this,ze,ml).call(this,{...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,Ct)))}createResult(n,a){var H;const l=_(this,Re),o=this.options,d=_(this,Ct),u=_(this,lr),m=_(this,Jr),x=n!==l?n.state:_(this,Sl),{state:v}=n;let y={...v},N=!1,k;if(a._optimisticResults){const Q=this.hasListeners(),le=!Q&&wf(n,a),G=Q&&Nf(n,l,a,o);(le||G)&&(y={...y,...Yp(v.data,n.options)}),a._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:j,errorUpdatedAt:b,status:g}=y;k=y.data;let P=!1;if(a.placeholderData!==void 0&&k===void 0&&g==="pending"){let Q;d!=null&&d.isPlaceholderData&&a.placeholderData===(m==null?void 0:m.placeholderData)?(Q=d.data,P=!0):Q=typeof a.placeholderData=="function"?a.placeholderData((H=_(this,Zr))==null?void 0:H.state.data,_(this,Zr)):a.placeholderData,Q!==void 0&&(g="success",k=lu(d==null?void 0:d.data,Q,a),N=!0)}if(a.select&&k!==void 0&&!P)if(d&&k===(u==null?void 0:u.data)&&a.select===_(this,Cl))k=_(this,Xr);else try{se(this,Cl,a.select),k=a.select(k),k=lu(d==null?void 0:d.data,k,a),se(this,Xr,k),se(this,jn,null)}catch(Q){se(this,jn,Q)}_(this,jn)&&(j=_(this,jn),k=_(this,Xr),b=Date.now(),g="error");const O=y.fetchStatus==="fetching",C=g==="pending",R=g==="error",U=C&&O,B=k!==void 0,W={status:g,fetchStatus:y.fetchStatus,isPending:C,isSuccess:g==="success",isError:R,isInitialLoading:U,isLoading:U,data:k,dataUpdatedAt:y.dataUpdatedAt,error:j,errorUpdatedAt:b,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>x.dataUpdateCount||y.errorUpdateCount>x.errorUpdateCount,isFetching:O,isRefetching:O&&!C,isLoadingError:R&&!B,isPaused:y.fetchStatus==="paused",isPlaceholderData:N,isRefetchError:R&&B,isStale:Ku(n,a),refetch:this.refetch,promise:_(this,Is),isEnabled:ss(a.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const Q=W.data!==void 0,le=W.status==="error"&&!Q,G=ie=>{le?ie.reject(W.error):Q&&ie.resolve(W.data)},ne=()=>{const ie=se(this,Is,W.promise=iu());G(ie)},xe=_(this,Is);switch(xe.status){case"pending":n.queryHash===l.queryHash&&G(xe);break;case"fulfilled":(le||W.data!==xe.value)&&ne();break;case"rejected":(!le||W.error!==xe.reason)&&ne();break}}return W}updateResult(){const n=_(this,Ct),a=this.createResult(_(this,Re),this.options);if(se(this,lr,_(this,Re).state),se(this,Jr,this.options),_(this,lr).data!==void 0&&se(this,Zr,_(this,Re)),xl(a,n))return;se(this,Ct,a);const l=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,d=typeof o=="function"?o():o;if(d==="all"||!d&&!_(this,ea).size)return!0;const u=new Set(d??_(this,ea));return this.options.throwOnError&&u.add("error"),Object.keys(_(this,Ct)).some(m=>{const p=m;return _(this,Ct)[p]!==n[p]&&u.has(p)})};je(this,ze,Jp).call(this,{listeners:l()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&je(this,ze,hu).call(this)}},Dt=new WeakMap,Re=new WeakMap,Sl=new WeakMap,Ct=new WeakMap,lr=new WeakMap,Jr=new WeakMap,Is=new WeakMap,jn=new WeakMap,Cl=new WeakMap,Xr=new WeakMap,Zr=new WeakMap,ir=new WeakMap,or=new WeakMap,wn=new WeakMap,ea=new WeakMap,ze=new WeakSet,ml=function(n){je(this,ze,pu).call(this);let a=_(this,Re).fetch(this.options,n);return n!=null&&n.throwOnError||(a=a.catch(jt)),a},cu=function(){je(this,ze,mu).call(this);const n=Pn(this.options.staleTime,_(this,Re));if(ur||_(this,Ct).isStale||!ru(n))return;const l=Hp(_(this,Ct).dataUpdatedAt,n)+1;se(this,ir,Zn.setTimeout(()=>{_(this,Ct).isStale||this.updateResult()},l))},du=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,Re)):this.options.refetchInterval)??!1},uu=function(n){je(this,ze,fu).call(this),se(this,wn,n),!(ur||ss(this.options.enabled,_(this,Re))===!1||!ru(_(this,wn))||_(this,wn)===0)&&se(this,or,Zn.setInterval(()=>{(this.options.refetchIntervalInBackground||Qu.isFocused())&&je(this,ze,ml).call(this)},_(this,wn)))},hu=function(){je(this,ze,cu).call(this),je(this,ze,uu).call(this,je(this,ze,du).call(this))},mu=function(){_(this,ir)&&(Zn.clearTimeout(_(this,ir)),se(this,ir,void 0))},fu=function(){_(this,or)&&(Zn.clearInterval(_(this,or)),se(this,or,void 0))},pu=function(){const n=_(this,Dt).getQueryCache().build(_(this,Dt),this.options);if(n===_(this,Re))return;const a=_(this,Re);se(this,Re,n),se(this,Sl,n.state),this.hasListeners()&&(a==null||a.removeObserver(this),n.addObserver(this))},Jp=function(n){Xe.batch(()=>{n.listeners&&this.listeners.forEach(a=>{a(_(this,Ct))}),_(this,Dt).getQueryCache().notify({query:_(this,Re),type:"observerResultsUpdated"})})},Fp);function hb(t,n){return ss(n.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&n.retryOnMount===!1)}function wf(t,n){return hb(t,n)||t.state.data!==void 0&&xu(t,n,n.refetchOnMount)}function xu(t,n,a){if(ss(n.enabled,t)!==!1&&Pn(n.staleTime,t)!=="static"){const l=typeof a=="function"?a(t):a;return l==="always"||l!==!1&&Ku(t,n)}return!1}function Nf(t,n,a,l){return(t!==n||ss(l.enabled,t)===!1)&&(!a.suspense||t.state.status!=="error")&&Ku(t,a)}function Ku(t,n){return ss(n.enabled,t)!==!1&&t.isStaleByTime(Pn(n.staleTime,t))}function mb(t,n){return!xl(t.getCurrentResult(),n)}function kf(t){return{onFetch:(n,a)=>{var v,y,N,k,j;const l=n.options,o=(N=(y=(v=n.fetchOptions)==null?void 0:v.meta)==null?void 0:y.fetchMore)==null?void 0:N.direction,d=((k=n.state.data)==null?void 0:k.pages)||[],u=((j=n.state.data)==null?void 0:j.pageParams)||[];let m={pages:[],pageParams:[]},p=0;const x=async()=>{let b=!1;const g=C=>{ab(C,()=>n.signal,()=>b=!0)},P=Qp(n.options,n.fetchOptions),O=async(C,R,U)=>{if(b)return Promise.reject();if(R==null&&C.pages.length)return Promise.resolve(C);const L=(()=>{const le={client:n.client,queryKey:n.queryKey,pageParam:R,direction:U?"backward":"forward",meta:n.options.meta};return g(le),le})(),W=await P(L),{maxPages:H}=n.options,Q=U?rb:nb;return{pages:Q(C.pages,W,H),pageParams:Q(C.pageParams,R,H)}};if(o&&d.length){const C=o==="backward",R=C?fb:Sf,U={pages:d,pageParams:u},B=R(l,U);m=await O(U,B,C)}else{const C=t??d.length;do{const R=p===0?u[0]??l.initialPageParam:Sf(l,m);if(p>0&&R==null)break;m=await O(m,R),p++}while(p<C)}return m};n.options.persister?n.fetchFn=()=>{var b,g;return(g=(b=n.options).persister)==null?void 0:g.call(b,x,{client:n.client,queryKey:n.queryKey,meta:n.options.meta,signal:n.signal},a)}:n.fetchFn=x}}}function Sf(t,{pages:n,pageParams:a}){const l=n.length-1;return n.length>0?t.getNextPageParam(n[l],n,a[l],a):void 0}function fb(t,{pages:n,pageParams:a}){var l;return n.length>0?(l=t.getPreviousPageParam)==null?void 0:l.call(t,n[0],n,a[0],a):void 0}var _l,ws,bt,cr,Ns,gn,Lp,pb=(Lp=class extends Gp{constructor(n){super();ce(this,Ns);ce(this,_l);ce(this,ws);ce(this,bt);ce(this,cr);se(this,_l,n.client),this.mutationId=n.mutationId,se(this,bt,n.mutationCache),se(this,ws,[]),this.state=n.state||Xp(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){_(this,ws).includes(n)||(_(this,ws).push(n),this.clearGcTimeout(),_(this,bt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){se(this,ws,_(this,ws).filter(a=>a!==n)),this.scheduleGc(),_(this,bt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){_(this,ws).length||(this.state.status==="pending"?this.scheduleGc():_(this,bt).remove(this))}continue(){var n;return((n=_(this,cr))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var u,m,p,x,v,y,N,k,j,b,g,P,O,C,R,U,B,L;const a=()=>{je(this,Ns,gn).call(this,{type:"continue"})},l={client:_(this,_l),meta:this.options.meta,mutationKey:this.options.mutationKey};se(this,cr,Kp({fn:()=>this.options.mutationFn?this.options.mutationFn(n,l):Promise.reject(new Error("No mutationFn found")),onFail:(W,H)=>{je(this,Ns,gn).call(this,{type:"failed",failureCount:W,error:H})},onPause:()=>{je(this,Ns,gn).call(this,{type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,bt).canRun(this)}));const o=this.state.status==="pending",d=!_(this,cr).canStart();try{if(o)a();else{je(this,Ns,gn).call(this,{type:"pending",variables:n,isPaused:d}),_(this,bt).config.onMutate&&await _(this,bt).config.onMutate(n,this,l);const H=await((m=(u=this.options).onMutate)==null?void 0:m.call(u,n,l));H!==this.state.context&&je(this,Ns,gn).call(this,{type:"pending",context:H,variables:n,isPaused:d})}const W=await _(this,cr).start();return await((x=(p=_(this,bt).config).onSuccess)==null?void 0:x.call(p,W,n,this.state.context,this,l)),await((y=(v=this.options).onSuccess)==null?void 0:y.call(v,W,n,this.state.context,l)),await((k=(N=_(this,bt).config).onSettled)==null?void 0:k.call(N,W,null,this.state.variables,this.state.context,this,l)),await((b=(j=this.options).onSettled)==null?void 0:b.call(j,W,null,n,this.state.context,l)),je(this,Ns,gn).call(this,{type:"success",data:W}),W}catch(W){try{await((P=(g=_(this,bt).config).onError)==null?void 0:P.call(g,W,n,this.state.context,this,l))}catch(H){Promise.reject(H)}try{await((C=(O=this.options).onError)==null?void 0:C.call(O,W,n,this.state.context,l))}catch(H){Promise.reject(H)}try{await((U=(R=_(this,bt).config).onSettled)==null?void 0:U.call(R,void 0,W,this.state.variables,this.state.context,this,l))}catch(H){Promise.reject(H)}try{await((L=(B=this.options).onSettled)==null?void 0:L.call(B,void 0,W,n,this.state.context,l))}catch(H){Promise.reject(H)}throw je(this,Ns,gn).call(this,{type:"error",error:W}),W}finally{_(this,bt).runNext(this)}}},_l=new WeakMap,ws=new WeakMap,bt=new WeakMap,cr=new WeakMap,Ns=new WeakSet,gn=function(n){const a=l=>{switch(n.type){case"failed":return{...l,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"pending":return{...l,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...l,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:n.error,failureCount:l.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=a(this.state),Xe.batch(()=>{_(this,ws).forEach(l=>{l.onMutationUpdate(n)}),_(this,bt).notify({mutation:this,type:"updated",action:n})})},Lp);function Xp(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $s,fs,El,Ip,xb=(Ip=class extends gr{constructor(n={}){super();ce(this,$s);ce(this,fs);ce(this,El);this.config=n,se(this,$s,new Set),se(this,fs,new Map),se(this,El,0)}build(n,a,l){const o=new pb({client:n,mutationCache:this,mutationId:++eo(this,El)._,options:n.defaultMutationOptions(a),state:l});return this.add(o),o}add(n){_(this,$s).add(n);const a=so(n);if(typeof a=="string"){const l=_(this,fs).get(a);l?l.push(n):_(this,fs).set(a,[n])}this.notify({type:"added",mutation:n})}remove(n){if(_(this,$s).delete(n)){const a=so(n);if(typeof a=="string"){const l=_(this,fs).get(a);if(l)if(l.length>1){const o=l.indexOf(n);o!==-1&&l.splice(o,1)}else l[0]===n&&_(this,fs).delete(a)}}this.notify({type:"removed",mutation:n})}canRun(n){const a=so(n);if(typeof a=="string"){const l=_(this,fs).get(a),o=l==null?void 0:l.find(d=>d.state.status==="pending");return!o||o===n}else return!0}runNext(n){var l;const a=so(n);if(typeof a=="string"){const o=(l=_(this,fs).get(a))==null?void 0:l.find(d=>d!==n&&d.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Xe.batch(()=>{_(this,$s).forEach(n=>{this.notify({type:"removed",mutation:n})}),_(this,$s).clear(),_(this,fs).clear()})}getAll(){return Array.from(_(this,$s))}find(n){const a={exact:!0,...n};return this.getAll().find(l=>gf(a,l))}findAll(n={}){return this.getAll().filter(a=>gf(n,a))}notify(n){Xe.batch(()=>{this.listeners.forEach(a=>{a(n)})})}resumePausedMutations(){const n=this.getAll().filter(a=>a.state.isPaused);return Xe.batch(()=>Promise.all(n.map(a=>a.continue().catch(jt))))}},$s=new WeakMap,fs=new WeakMap,El=new WeakMap,Ip);function so(t){var n;return(n=t.options.scope)==null?void 0:n.id}var Us,Nn,zt,qs,Bs,uo,gu,$p,gb=($p=class extends gr{constructor(a,l){super();ce(this,Bs);ce(this,Us);ce(this,Nn);ce(this,zt);ce(this,qs);se(this,Us,a),this.setOptions(l),this.bindMethods(),je(this,Bs,uo).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){var o;const l=this.options;this.options=_(this,Us).defaultMutationOptions(a),xl(this.options,l)||_(this,Us).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_(this,zt),observer:this}),l!=null&&l.mutationKey&&this.options.mutationKey&&hr(l.mutationKey)!==hr(this.options.mutationKey)?this.reset():((o=_(this,zt))==null?void 0:o.state.status)==="pending"&&_(this,zt).setOptions(this.options)}onUnsubscribe(){var a;this.hasListeners()||(a=_(this,zt))==null||a.removeObserver(this)}onMutationUpdate(a){je(this,Bs,uo).call(this),je(this,Bs,gu).call(this,a)}getCurrentResult(){return _(this,Nn)}reset(){var a;(a=_(this,zt))==null||a.removeObserver(this),se(this,zt,void 0),je(this,Bs,uo).call(this),je(this,Bs,gu).call(this)}mutate(a,l){var o;return se(this,qs,l),(o=_(this,zt))==null||o.removeObserver(this),se(this,zt,_(this,Us).getMutationCache().build(_(this,Us),this.options)),_(this,zt).addObserver(this),_(this,zt).execute(a)}},Us=new WeakMap,Nn=new WeakMap,zt=new WeakMap,qs=new WeakMap,Bs=new WeakSet,uo=function(){var l;const a=((l=_(this,zt))==null?void 0:l.state)??Xp();se(this,Nn,{...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset})},gu=function(a){Xe.batch(()=>{var l,o,d,u,m,p,x,v;if(_(this,qs)&&this.hasListeners()){const y=_(this,Nn).variables,N=_(this,Nn).context,k={client:_(this,Us),meta:this.options.meta,mutationKey:this.options.mutationKey};if((a==null?void 0:a.type)==="success"){try{(o=(l=_(this,qs)).onSuccess)==null||o.call(l,a.data,y,N,k)}catch(j){Promise.reject(j)}try{(u=(d=_(this,qs)).onSettled)==null||u.call(d,a.data,null,y,N,k)}catch(j){Promise.reject(j)}}else if((a==null?void 0:a.type)==="error"){try{(p=(m=_(this,qs)).onError)==null||p.call(m,a.error,y,N,k)}catch(j){Promise.reject(j)}try{(v=(x=_(this,qs)).onSettled)==null||v.call(x,void 0,a.error,y,N,k)}catch(j){Promise.reject(j)}}}this.listeners.forEach(y=>{y(_(this,Nn))})})},$p);function Cf(t,n){const a=new Set(n);return t.filter(l=>!a.has(l))}function yb(t,n,a){const l=t.slice(0);return l[n]=a,l}var ta,qt,sa,na,ts,kn,Pl,Rl,Tl,Ol,pt,yu,vu,bu,ju,wu,Up,vb=(Up=class extends gr{constructor(n,a,l){super();ce(this,pt);ce(this,ta);ce(this,qt);ce(this,sa);ce(this,na);ce(this,ts);ce(this,kn);ce(this,Pl);ce(this,Rl);ce(this,Tl);ce(this,Ol,[]);se(this,ta,n),se(this,na,l),se(this,sa,[]),se(this,ts,[]),se(this,qt,[]),this.setQueries(a)}onSubscribe(){this.listeners.size===1&&_(this,ts).forEach(n=>{n.subscribe(a=>{je(this,pt,ju).call(this,n,a)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,_(this,ts).forEach(n=>{n.destroy()})}setQueries(n,a){se(this,sa,n),se(this,na,a),Xe.batch(()=>{const l=_(this,ts),o=je(this,pt,bu).call(this,_(this,sa));o.forEach(y=>y.observer.setOptions(y.defaultedQueryOptions));const d=o.map(y=>y.observer),u=d.map(y=>y.getCurrentResult()),m=l.length!==d.length,p=d.some((y,N)=>y!==l[N]),x=m||p,v=x?!0:u.some((y,N)=>{const k=_(this,qt)[N];return!k||!xl(y,k)});!x&&!v||(x&&(se(this,Ol,o),se(this,ts,d)),se(this,qt,u),this.hasListeners()&&(x&&(Cf(l,d).forEach(y=>{y.destroy()}),Cf(d,l).forEach(y=>{y.subscribe(N=>{je(this,pt,ju).call(this,y,N)})})),je(this,pt,wu).call(this)))})}getCurrentResult(){return _(this,qt)}getQueries(){return _(this,ts).map(n=>n.getCurrentQuery())}getObservers(){return _(this,ts)}getOptimisticResult(n,a){const l=je(this,pt,bu).call(this,n),o=l.map(u=>u.observer.getOptimisticResult(u.defaultedQueryOptions)),d=l.map(u=>u.defaultedQueryOptions.queryHash);return[o,u=>je(this,pt,vu).call(this,u??o,a,d),()=>je(this,pt,yu).call(this,o,l)]}},ta=new WeakMap,qt=new WeakMap,sa=new WeakMap,na=new WeakMap,ts=new WeakMap,kn=new WeakMap,Pl=new WeakMap,Rl=new WeakMap,Tl=new WeakMap,Ol=new WeakMap,pt=new WeakSet,yu=function(n,a){return a.map((l,o)=>{const d=n[o];return l.defaultedQueryOptions.notifyOnChangeProps?d:l.observer.trackResult(d,u=>{a.forEach(m=>{m.observer.trackProp(u)})})})},vu=function(n,a,l){if(a){const o=_(this,Tl),d=l!==void 0&&o!==void 0&&(o.length!==l.length||l.some((u,m)=>u!==o[m]));return(!_(this,kn)||_(this,qt)!==_(this,Rl)||d||a!==_(this,Pl))&&(se(this,Pl,a),se(this,Rl,_(this,qt)),l!==void 0&&se(this,Tl,l),se(this,kn,Bu(_(this,kn),a(n)))),_(this,kn)}return n},bu=function(n){const a=new Map;_(this,ts).forEach(o=>{const d=o.options.queryHash;if(!d)return;const u=a.get(d);u?u.push(o):a.set(d,[o])});const l=[];return n.forEach(o=>{var p;const d=_(this,ta).defaultQueryOptions(o),m=((p=a.get(d.queryHash))==null?void 0:p.shift())??new Vu(_(this,ta),d);l.push({defaultedQueryOptions:d,observer:m})}),l},ju=function(n,a){const l=_(this,ts).indexOf(n);l!==-1&&(se(this,qt,yb(_(this,qt),l,a)),je(this,pt,wu).call(this))},wu=function(){var n;if(this.hasListeners()){const a=_(this,kn),l=je(this,pt,yu).call(this,_(this,qt),_(this,Ol)),o=je(this,pt,vu).call(this,l,(n=_(this,na))==null?void 0:n.combine);a!==o&&Xe.batch(()=>{this.listeners.forEach(d=>{d(_(this,qt))})})}},Up),ks,qp,bb=(qp=class extends gr{constructor(n={}){super();ce(this,ks);this.config=n,se(this,ks,new Map)}build(n,a,l){const o=a.queryKey,d=a.queryHash??qu(o,a);let u=this.get(d);return u||(u=new ub({client:n,queryKey:o,queryHash:d,options:n.defaultQueryOptions(a),state:l,defaultOptions:n.getQueryDefaults(o)}),this.add(u)),u}add(n){_(this,ks).has(n.queryHash)||(_(this,ks).set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const a=_(this,ks).get(n.queryHash);a&&(n.destroy(),a===n&&_(this,ks).delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){Xe.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return _(this,ks).get(n)}getAll(){return[..._(this,ks).values()]}find(n){const a={exact:!0,...n};return this.getAll().find(l=>xf(a,l))}findAll(n={}){const a=this.getAll();return Object.keys(n).length>0?a.filter(l=>xf(n,l)):a}notify(n){Xe.batch(()=>{this.listeners.forEach(a=>{a(n)})})}onFocus(){Xe.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){Xe.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},ks=new WeakMap,qp),Je,Sn,Cn,ra,aa,_n,la,ia,Bp,jb=(Bp=class{constructor(t={}){ce(this,Je);ce(this,Sn);ce(this,Cn);ce(this,ra);ce(this,aa);ce(this,_n);ce(this,la);ce(this,ia);se(this,Je,t.queryCache||new bb),se(this,Sn,t.mutationCache||new xb),se(this,Cn,t.defaultOptions||{}),se(this,ra,new Map),se(this,aa,new Map),se(this,_n,0)}mount(){eo(this,_n)._++,_(this,_n)===1&&(se(this,la,Qu.subscribe(async t=>{t&&(await this.resumePausedMutations(),_(this,Je).onFocus())})),se(this,ia,yo.subscribe(async t=>{t&&(await this.resumePausedMutations(),_(this,Je).onOnline())})))}unmount(){var t,n;eo(this,_n)._--,_(this,_n)===0&&((t=_(this,la))==null||t.call(this),se(this,la,void 0),(n=_(this,ia))==null||n.call(this),se(this,ia,void 0))}isFetching(t){return _(this,Je).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return _(this,Sn).findAll({...t,status:"pending"}).length}getQueryData(t){var a;const n=this.defaultQueryOptions({queryKey:t});return(a=_(this,Je).get(n.queryHash))==null?void 0:a.state.data}ensureQueryData(t){const n=this.defaultQueryOptions(t),a=_(this,Je).build(this,n),l=a.state.data;return l===void 0?this.fetchQuery(t):(t.revalidateIfStale&&a.isStaleByTime(Pn(n.staleTime,a))&&this.prefetchQuery(n),Promise.resolve(l))}getQueriesData(t){return _(this,Je).findAll(t).map(({queryKey:n,state:a})=>{const l=a.data;return[n,l]})}setQueryData(t,n,a){const l=this.defaultQueryOptions({queryKey:t}),o=_(this,Je).get(l.queryHash),d=o==null?void 0:o.state.data,u=eb(n,d);if(u!==void 0)return _(this,Je).build(this,l).setData(u,{...a,manual:!0})}setQueriesData(t,n,a){return Xe.batch(()=>_(this,Je).findAll(t).map(({queryKey:l})=>[l,this.setQueryData(l,n,a)]))}getQueryState(t){var a;const n=this.defaultQueryOptions({queryKey:t});return(a=_(this,Je).get(n.queryHash))==null?void 0:a.state}removeQueries(t){const n=_(this,Je);Xe.batch(()=>{n.findAll(t).forEach(a=>{n.remove(a)})})}resetQueries(t,n){const a=_(this,Je);return Xe.batch(()=>(a.findAll(t).forEach(l=>{l.reset()}),this.refetchQueries({type:"active",...t},n)))}cancelQueries(t,n={}){const a={revert:!0,...n},l=Xe.batch(()=>_(this,Je).findAll(t).map(o=>o.cancel(a)));return Promise.all(l).then(jt).catch(jt)}invalidateQueries(t,n={}){return Xe.batch(()=>(_(this,Je).findAll(t).forEach(a=>{a.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},n)))}refetchQueries(t,n={}){const a={...n,cancelRefetch:n.cancelRefetch??!0},l=Xe.batch(()=>_(this,Je).findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let d=o.fetch(void 0,a);return a.throwOnError||(d=d.catch(jt)),o.state.fetchStatus==="paused"?Promise.resolve():d}));return Promise.all(l).then(jt)}fetchQuery(t){const n=this.defaultQueryOptions(t);n.retry===void 0&&(n.retry=!1);const a=_(this,Je).build(this,n);return a.isStaleByTime(Pn(n.staleTime,a))?a.fetch(n):Promise.resolve(a.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(jt).catch(jt)}fetchInfiniteQuery(t){return t.behavior=kf(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(jt).catch(jt)}ensureInfiniteQueryData(t){return t.behavior=kf(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return yo.isOnline()?_(this,Sn).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,Je)}getMutationCache(){return _(this,Sn)}getDefaultOptions(){return _(this,Cn)}setDefaultOptions(t){se(this,Cn,t)}setQueryDefaults(t,n){_(this,ra).set(hr(t),{queryKey:t,defaultOptions:n})}getQueryDefaults(t){const n=[..._(this,ra).values()],a={};return n.forEach(l=>{pl(t,l.queryKey)&&Object.assign(a,l.defaultOptions)}),a}setMutationDefaults(t,n){_(this,aa).set(hr(t),{mutationKey:t,defaultOptions:n})}getMutationDefaults(t){const n=[..._(this,aa).values()],a={};return n.forEach(l=>{pl(t,l.mutationKey)&&Object.assign(a,l.defaultOptions)}),a}defaultQueryOptions(t){if(t._defaulted)return t;const n={..._(this,Cn).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return n.queryHash||(n.queryHash=qu(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===Wu&&(n.enabled=!1),n}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{..._(this,Cn).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){_(this,Je).clear(),_(this,Sn).clear()}},Je=new WeakMap,Sn=new WeakMap,Cn=new WeakMap,ra=new WeakMap,aa=new WeakMap,_n=new WeakMap,la=new WeakMap,ia=new WeakMap,Bp),Zp=S.createContext(void 0),tt=t=>{const n=S.useContext(Zp);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},wb=({client:t,children:n})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(Zp.Provider,{value:t,children:n})),ex=S.createContext(!1),tx=()=>S.useContext(ex);ex.Provider;function Nb(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var kb=S.createContext(Nb()),sx=()=>S.useContext(kb),nx=(t,n,a)=>{const l=a!=null&&a.state.error&&typeof t.throwOnError=="function"?Hu(t.throwOnError,[a.state.error,a]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||l)&&(n.isReset()||(t.retryOnMount=!1))},rx=t=>{S.useEffect(()=>{t.clearReset()},[t])},ax=({result:t,errorResetBoundary:n,throwOnError:a,query:l,suspense:o})=>t.isError&&!n.isReset()&&!t.isFetching&&l&&(o&&t.data===void 0||Hu(a,[t.error,l])),lx=t=>{if(t.suspense){const a=o=>o==="static"?o:Math.max(o??1e3,1e3),l=t.staleTime;t.staleTime=typeof l=="function"?(...o)=>a(l(...o)):a(l),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},ix=(t,n)=>t.isLoading&&t.isFetching&&!n,Nu=(t,n)=>(t==null?void 0:t.suspense)&&n.isPending,vo=(t,n,a)=>n.fetchOptimistic(t).catch(()=>{a.clearReset()});function Sb({queries:t,...n},a){const l=tt(),o=tx(),d=sx(),u=S.useMemo(()=>t.map(b=>{const g=l.defaultQueryOptions(b);return g._optimisticResults=o?"isRestoring":"optimistic",g}),[t,l,o]);u.forEach(b=>{lx(b);const g=l.getQueryCache().get(b.queryHash);nx(b,d,g)}),rx(d);const[m]=S.useState(()=>new vb(l,u,n)),[p,x,v]=m.getOptimisticResult(u,n.combine),y=!o&&n.subscribed!==!1;S.useSyncExternalStore(S.useCallback(b=>y?m.subscribe(Xe.batchCalls(b)):jt,[m,y]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),S.useEffect(()=>{m.setQueries(u,n)},[u,n,m]);const k=p.some((b,g)=>Nu(u[g],b))?p.flatMap((b,g)=>{const P=u[g];if(P){const O=new Vu(l,P);if(Nu(P,b))return vo(P,O,d);ix(b,o)&&vo(P,O,d)}return[]}):[];if(k.length>0)throw Promise.all(k);const j=p.find((b,g)=>{const P=u[g];return P&&ax({result:b,errorResetBoundary:d,throwOnError:P.throwOnError,query:l.getQueryCache().get(P.queryHash),suspense:P.suspense})});if(j!=null&&j.error)throw j.error;return x(v())}function Cb(t,n,a){var N,k,j,b;const l=tx(),o=sx(),d=tt(),u=d.defaultQueryOptions(t);(k=(N=d.getDefaultOptions().queries)==null?void 0:N._experimental_beforeQuery)==null||k.call(N,u);const m=d.getQueryCache().get(u.queryHash);u._optimisticResults=l?"isRestoring":"optimistic",lx(u),nx(u,o,m),rx(o);const p=!d.getQueryCache().get(u.queryHash),[x]=S.useState(()=>new n(d,u)),v=x.getOptimisticResult(u),y=!l&&t.subscribed!==!1;if(S.useSyncExternalStore(S.useCallback(g=>{const P=y?x.subscribe(Xe.batchCalls(g)):jt;return x.updateResult(),P},[x,y]),()=>x.getCurrentResult(),()=>x.getCurrentResult()),S.useEffect(()=>{x.setOptions(u)},[u,x]),Nu(u,v))throw vo(u,x,o);if(ax({result:v,errorResetBoundary:o,throwOnError:u.throwOnError,query:m,suspense:u.suspense}))throw v.error;if((b=(j=d.getDefaultOptions().queries)==null?void 0:j._experimental_afterQuery)==null||b.call(j,u,v),u.experimental_prefetchInRender&&!ur&&ix(v,l)){const g=p?vo(u,x,o):m==null?void 0:m.promise;g==null||g.catch(jt).finally(()=>{x.updateResult()})}return u.notifyOnChangeProps?v:x.trackResult(v)}function Le(t,n){return Cb(t,Vu)}function We(t,n){const a=tt(),[l]=S.useState(()=>new gb(a,t));S.useEffect(()=>{l.setOptions(t)},[l,t]);const o=S.useSyncExternalStore(S.useCallback(u=>l.subscribe(Xe.batchCalls(u)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),d=S.useCallback((u,m)=>{l.mutate(u,m).catch(jt)},[l]);if(o.error&&Hu(l.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:d,mutateAsync:o.mutate}}Wp();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},gl.apply(this,arguments)}var En;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(En||(En={}));const _f="popstate";function _b(t){t===void 0&&(t={});function n(l,o){let{pathname:d,search:u,hash:m}=l.location;return ku("",{pathname:d,search:u,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function a(l,o){return typeof o=="string"?o:bo(o)}return Pb(n,a,null,t)}function nt(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function Gu(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Eb(){return Math.random().toString(36).substr(2,8)}function Ef(t,n){return{usr:t.state,key:t.key,idx:n}}function ku(t,n,a,l){return a===void 0&&(a=null),gl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof n=="string"?ma(n):n,{state:a,key:n&&n.key||l||Eb()})}function bo(t){let{pathname:n="/",search:a="",hash:l=""}=t;return a&&a!=="?"&&(n+=a.charAt(0)==="?"?a:"?"+a),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function ma(t){let n={};if(t){let a=t.indexOf("#");a>=0&&(n.hash=t.substr(a),t=t.substr(0,a));let l=t.indexOf("?");l>=0&&(n.search=t.substr(l),t=t.substr(0,l)),t&&(n.pathname=t)}return n}function Pb(t,n,a,l){l===void 0&&(l={});let{window:o=document.defaultView,v5Compat:d=!1}=l,u=o.history,m=En.Pop,p=null,x=v();x==null&&(x=0,u.replaceState(gl({},u.state,{idx:x}),""));function v(){return(u.state||{idx:null}).idx}function y(){m=En.Pop;let g=v(),P=g==null?null:g-x;x=g,p&&p({action:m,location:b.location,delta:P})}function N(g,P){m=En.Push;let O=ku(b.location,g,P);x=v()+1;let C=Ef(O,x),R=b.createHref(O);try{u.pushState(C,"",R)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;o.location.assign(R)}d&&p&&p({action:m,location:b.location,delta:1})}function k(g,P){m=En.Replace;let O=ku(b.location,g,P);x=v();let C=Ef(O,x),R=b.createHref(O);u.replaceState(C,"",R),d&&p&&p({action:m,location:b.location,delta:0})}function j(g){let P=o.location.origin!=="null"?o.location.origin:o.location.href,O=typeof g=="string"?g:bo(g);return O=O.replace(/ $/,"%20"),nt(P,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,P)}let b={get action(){return m},get location(){return t(o,u)},listen(g){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(_f,y),p=g,()=>{o.removeEventListener(_f,y),p=null}},createHref(g){return n(o,g)},createURL:j,encodeLocation(g){let P=j(g);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:N,replace:k,go(g){return u.go(g)}};return b}var Pf;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Pf||(Pf={}));function Rb(t,n,a){return a===void 0&&(a="/"),Tb(t,n,a)}function Tb(t,n,a,l){let o=typeof n=="string"?ma(n):n,d=Yu(o.pathname||"/",a);if(d==null)return null;let u=ox(t);Ob(u);let m=null;for(let p=0;m==null&&p<u.length;++p){let x=Wb(d);m=Ub(u[p],x)}return m}function ox(t,n,a,l){n===void 0&&(n=[]),a===void 0&&(a=[]),l===void 0&&(l="");let o=(d,u,m)=>{let p={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:u,route:d};p.relativePath.startsWith("/")&&(nt(p.relativePath.startsWith(l),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+l+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(l.length));let x=Rn([l,p.relativePath]),v=a.concat(p);d.children&&d.children.length>0&&(nt(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),ox(d.children,n,v,x)),!(d.path==null&&!d.index)&&n.push({path:x,score:Ib(x,d.index),routesMeta:v})};return t.forEach((d,u)=>{var m;if(d.path===""||!((m=d.path)!=null&&m.includes("?")))o(d,u);else for(let p of cx(d.path))o(d,u,p)}),n}function cx(t){let n=t.split("/");if(n.length===0)return[];let[a,...l]=n,o=a.endsWith("?"),d=a.replace(/\?$/,"");if(l.length===0)return o?[d,""]:[d];let u=cx(l.join("/")),m=[];return m.push(...u.map(p=>p===""?d:[d,p].join("/"))),o&&m.push(...u),m.map(p=>t.startsWith("/")&&p===""?"/":p)}function Ob(t){t.sort((n,a)=>n.score!==a.score?a.score-n.score:$b(n.routesMeta.map(l=>l.childrenIndex),a.routesMeta.map(l=>l.childrenIndex)))}const Mb=/^:[\w-]+$/,Db=3,zb=2,Ab=1,Fb=10,Lb=-2,Rf=t=>t==="*";function Ib(t,n){let a=t.split("/"),l=a.length;return a.some(Rf)&&(l+=Lb),n&&(l+=zb),a.filter(o=>!Rf(o)).reduce((o,d)=>o+(Mb.test(d)?Db:d===""?Ab:Fb),l)}function $b(t,n){return t.length===n.length&&t.slice(0,-1).every((l,o)=>l===n[o])?t[t.length-1]-n[n.length-1]:0}function Ub(t,n,a){let{routesMeta:l}=t,o={},d="/",u=[];for(let m=0;m<l.length;++m){let p=l[m],x=m===l.length-1,v=d==="/"?n:n.slice(d.length)||"/",y=qb({path:p.relativePath,caseSensitive:p.caseSensitive,end:x},v),N=p.route;if(!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:Rn([d,y.pathname]),pathnameBase:Gb(Rn([d,y.pathnameBase])),route:N}),y.pathnameBase!=="/"&&(d=Rn([d,y.pathnameBase]))}return u}function qb(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,l]=Bb(t.path,t.caseSensitive,t.end),o=n.match(a);if(!o)return null;let d=o[0],u=d.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:l.reduce((x,v,y)=>{let{paramName:N,isOptional:k}=v;if(N==="*"){let b=m[y]||"";u=d.slice(0,d.length-b.length).replace(/(.)\/+$/,"$1")}const j=m[y];return k&&!j?x[N]=void 0:x[N]=(j||"").replace(/%2F/g,"/"),x},{}),pathname:d,pathnameBase:u,pattern:t}}function Bb(t,n,a){n===void 0&&(n=!1),a===void 0&&(a=!0),Gu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let l=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,p)=>(l.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(l.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),l]}function Wb(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Gu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),t}}function Yu(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let a=n.endsWith("/")?n.length-1:n.length,l=t.charAt(a);return l&&l!=="/"?null:t.slice(a)||"/"}const Hb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qb=t=>Hb.test(t);function Vb(t,n){n===void 0&&(n="/");let{pathname:a,search:l="",hash:o=""}=typeof t=="string"?ma(t):t,d;if(a)if(Qb(a))d=a;else{if(a.includes("//")){let u=a;a=a.replace(/\/\/+/g,"/"),Gu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+a))}a.startsWith("/")?d=Tf(a.substring(1),"/"):d=Tf(a,n)}else d=n;return{pathname:d,search:Yb(l),hash:Jb(o)}}function Tf(t,n){let a=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function Id(t,n,a,l){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(l)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kb(t){return t.filter((n,a)=>a===0||n.route.path&&n.route.path.length>0)}function dx(t,n){let a=Kb(t);return n?a.map((l,o)=>o===a.length-1?l.pathname:l.pathnameBase):a.map(l=>l.pathnameBase)}function ux(t,n,a,l){l===void 0&&(l=!1);let o;typeof t=="string"?o=ma(t):(o=gl({},t),nt(!o.pathname||!o.pathname.includes("?"),Id("?","pathname","search",o)),nt(!o.pathname||!o.pathname.includes("#"),Id("#","pathname","hash",o)),nt(!o.search||!o.search.includes("#"),Id("#","search","hash",o)));let d=t===""||o.pathname==="",u=d?"/":o.pathname,m;if(u==null)m=a;else{let y=n.length-1;if(!l&&u.startsWith("..")){let N=u.split("/");for(;N[0]==="..";)N.shift(),y-=1;o.pathname=N.join("/")}m=y>=0?n[y]:"/"}let p=Vb(o,m),x=u&&u!=="/"&&u.endsWith("/"),v=(d||u===".")&&a.endsWith("/");return!p.pathname.endsWith("/")&&(x||v)&&(p.pathname+="/"),p}const Rn=t=>t.join("/").replace(/\/\/+/g,"/"),Gb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Yb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Jb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Xb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const hx=["post","put","patch","delete"];new Set(hx);const Zb=["get",...hx];new Set(Zb);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},yl.apply(this,arguments)}const Ju=S.createContext(null),ej=S.createContext(null),yr=S.createContext(null),Ro=S.createContext(null),On=S.createContext({outlet:null,matches:[],isDataRoute:!1}),mx=S.createContext(null);function tj(t,n){let{relative:a}=n===void 0?{}:n;Dl()||nt(!1);let{basename:l,navigator:o}=S.useContext(yr),{hash:d,pathname:u,search:m}=px(t,{relative:a}),p=u;return l!=="/"&&(p=u==="/"?l:Rn([l,u])),o.createHref({pathname:p,search:m,hash:d})}function Dl(){return S.useContext(Ro)!=null}function Ws(){return Dl()||nt(!1),S.useContext(Ro).location}function fx(t){S.useContext(yr).static||S.useLayoutEffect(t)}function Mn(){let{isDataRoute:t}=S.useContext(On);return t?fj():sj()}function sj(){Dl()||nt(!1);let t=S.useContext(Ju),{basename:n,future:a,navigator:l}=S.useContext(yr),{matches:o}=S.useContext(On),{pathname:d}=Ws(),u=JSON.stringify(dx(o,a.v7_relativeSplatPath)),m=S.useRef(!1);return fx(()=>{m.current=!0}),S.useCallback(function(x,v){if(v===void 0&&(v={}),!m.current)return;if(typeof x=="number"){l.go(x);return}let y=ux(x,JSON.parse(u),d,v.relative==="path");t==null&&n!=="/"&&(y.pathname=y.pathname==="/"?n:Rn([n,y.pathname])),(v.replace?l.replace:l.push)(y,v.state,v)},[n,l,u,d,t])}function Dn(){let{matches:t}=S.useContext(On),n=t[t.length-1];return n?n.params:{}}function px(t,n){let{relative:a}=n===void 0?{}:n,{future:l}=S.useContext(yr),{matches:o}=S.useContext(On),{pathname:d}=Ws(),u=JSON.stringify(dx(o,l.v7_relativeSplatPath));return S.useMemo(()=>ux(t,JSON.parse(u),d,a==="path"),[t,u,d,a])}function nj(t,n){return rj(t,n)}function rj(t,n,a,l){Dl()||nt(!1);let{navigator:o}=S.useContext(yr),{matches:d}=S.useContext(On),u=d[d.length-1],m=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let x=Ws(),v;if(n){var y;let g=typeof n=="string"?ma(n):n;p==="/"||(y=g.pathname)!=null&&y.startsWith(p)||nt(!1),v=g}else v=x;let N=v.pathname||"/",k=N;if(p!=="/"){let g=p.replace(/^\//,"").split("/");k="/"+N.replace(/^\//,"").split("/").slice(g.length).join("/")}let j=Rb(t,{pathname:k}),b=cj(j&&j.map(g=>Object.assign({},g,{params:Object.assign({},m,g.params),pathname:Rn([p,o.encodeLocation?o.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?p:Rn([p,o.encodeLocation?o.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),d,a,l);return n&&b?S.createElement(Ro.Provider,{value:{location:yl({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:En.Pop}},b):b}function aj(){let t=mj(),n=Xb(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},n),a?S.createElement("pre",{style:o},a):null,null)}const lj=S.createElement(aj,null);class ij extends S.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,a){return a.location!==n.location||a.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:a.error,location:a.location,revalidation:n.revalidation||a.revalidation}}componentDidCatch(n,a){console.error("React Router caught the following error during render",n,a)}render(){return this.state.error!==void 0?S.createElement(On.Provider,{value:this.props.routeContext},S.createElement(mx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oj(t){let{routeContext:n,match:a,children:l}=t,o=S.useContext(Ju);return o&&o.static&&o.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=a.route.id),S.createElement(On.Provider,{value:n},l)}function cj(t,n,a,l){var o;if(n===void 0&&(n=[]),a===void 0&&(a=null),l===void 0&&(l=null),t==null){var d;if(!a)return null;if(a.errors)t=a.matches;else if((d=l)!=null&&d.v7_partialHydration&&n.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let u=t,m=(o=a)==null?void 0:o.errors;if(m!=null){let v=u.findIndex(y=>y.route.id&&(m==null?void 0:m[y.route.id])!==void 0);v>=0||nt(!1),u=u.slice(0,Math.min(u.length,v+1))}let p=!1,x=-1;if(a&&l&&l.v7_partialHydration)for(let v=0;v<u.length;v++){let y=u[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(x=v),y.route.id){let{loaderData:N,errors:k}=a,j=y.route.loader&&N[y.route.id]===void 0&&(!k||k[y.route.id]===void 0);if(y.route.lazy||j){p=!0,x>=0?u=u.slice(0,x+1):u=[u[0]];break}}}return u.reduceRight((v,y,N)=>{let k,j=!1,b=null,g=null;a&&(k=m&&y.route.id?m[y.route.id]:void 0,b=y.route.errorElement||lj,p&&(x<0&&N===0?(pj("route-fallback"),j=!0,g=null):x===N&&(j=!0,g=y.route.hydrateFallbackElement||null)));let P=n.concat(u.slice(0,N+1)),O=()=>{let C;return k?C=b:j?C=g:y.route.Component?C=S.createElement(y.route.Component,null):y.route.element?C=y.route.element:C=v,S.createElement(oj,{match:y,routeContext:{outlet:v,matches:P,isDataRoute:a!=null},children:C})};return a&&(y.route.ErrorBoundary||y.route.errorElement||N===0)?S.createElement(ij,{location:a.location,revalidation:a.revalidation,component:b,error:k,children:O(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):O()},null)}var xx=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(xx||{}),gx=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(gx||{});function dj(t){let n=S.useContext(Ju);return n||nt(!1),n}function uj(t){let n=S.useContext(ej);return n||nt(!1),n}function hj(t){let n=S.useContext(On);return n||nt(!1),n}function yx(t){let n=hj(),a=n.matches[n.matches.length-1];return a.route.id||nt(!1),a.route.id}function mj(){var t;let n=S.useContext(mx),a=uj(),l=yx();return n!==void 0?n:(t=a.errors)==null?void 0:t[l]}function fj(){let{router:t}=dj(xx.UseNavigateStable),n=yx(gx.UseNavigateStable),a=S.useRef(!1);return fx(()=>{a.current=!0}),S.useCallback(function(o,d){d===void 0&&(d={}),a.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,yl({fromRouteId:n},d)))},[t,n])}const Of={};function pj(t,n,a){Of[t]||(Of[t]=!0)}function xj(t,n){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Mt(t){nt(!1)}function gj(t){let{basename:n="/",children:a=null,location:l,navigationType:o=En.Pop,navigator:d,static:u=!1,future:m}=t;Dl()&&nt(!1);let p=n.replace(/^\/*/,"/"),x=S.useMemo(()=>({basename:p,navigator:d,static:u,future:yl({v7_relativeSplatPath:!1},m)}),[p,m,d,u]);typeof l=="string"&&(l=ma(l));let{pathname:v="/",search:y="",hash:N="",state:k=null,key:j="default"}=l,b=S.useMemo(()=>{let g=Yu(v,p);return g==null?null:{location:{pathname:g,search:y,hash:N,state:k,key:j},navigationType:o}},[p,v,y,N,k,j,o]);return b==null?null:S.createElement(yr.Provider,{value:x},S.createElement(Ro.Provider,{children:a,value:b}))}function yj(t){let{children:n,location:a}=t;return nj(Su(n),a)}new Promise(()=>{});function Su(t,n){n===void 0&&(n=[]);let a=[];return S.Children.forEach(t,(l,o)=>{if(!S.isValidElement(l))return;let d=[...n,o];if(l.type===S.Fragment){a.push.apply(a,Su(l.props.children,d));return}l.type!==Mt&&nt(!1),!l.props.index||!l.props.children||nt(!1);let u={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(u.children=Su(l.props.children,d)),a.push(u)}),a}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},Cu.apply(this,arguments)}function vj(t,n){if(t==null)return{};var a={},l=Object.keys(t),o,d;for(d=0;d<l.length;d++)o=l[d],!(n.indexOf(o)>=0)&&(a[o]=t[o]);return a}function bj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jj(t,n){return t.button===0&&(!n||n==="_self")&&!bj(t)}const wj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Nj="6";try{window.__reactRouterVersion=Nj}catch{}const kj="startTransition",Mf=Wv[kj];function Sj(t){let{basename:n,children:a,future:l,window:o}=t,d=S.useRef();d.current==null&&(d.current=_b({window:o,v5Compat:!0}));let u=d.current,[m,p]=S.useState({action:u.action,location:u.location}),{v7_startTransition:x}=l||{},v=S.useCallback(y=>{x&&Mf?Mf(()=>p(y)):p(y)},[p,x]);return S.useLayoutEffect(()=>u.listen(v),[u,v]),S.useEffect(()=>xj(l),[l]),S.createElement(gj,{basename:n,children:a,location:m.location,navigationType:m.action,navigator:u,future:l})}const Cj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_j=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=S.forwardRef(function(n,a){let{onClick:l,relative:o,reloadDocument:d,replace:u,state:m,target:p,to:x,preventScrollReset:v,viewTransition:y}=n,N=vj(n,wj),{basename:k}=S.useContext(yr),j,b=!1;if(typeof x=="string"&&_j.test(x)&&(j=x,Cj))try{let C=new URL(window.location.href),R=x.startsWith("//")?new URL(C.protocol+x):new URL(x),U=Yu(R.pathname,k);R.origin===C.origin&&U!=null?x=U+R.search+R.hash:b=!0}catch{}let g=tj(x,{relative:o}),P=Ej(x,{replace:u,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:y});function O(C){l&&l(C),C.defaultPrevented||P(C)}return S.createElement("a",Cu({},N,{href:j||g,onClick:b||d?l:O,ref:a,target:p}))});var Df;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Df||(Df={}));var zf;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zf||(zf={}));function Ej(t,n){let{target:a,replace:l,state:o,preventScrollReset:d,relative:u,viewTransition:m}=n===void 0?{}:n,p=Mn(),x=Ws(),v=px(t,{relative:u});return S.useCallback(y=>{if(jj(y,a)){y.preventDefault();let N=l!==void 0?l:bo(x)===bo(v);p(t,{replace:N,state:o,preventScrollReset:d,relative:u,viewTransition:m})}},[x,p,v,l,o,a,t,d,u,m])}/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),X=(t,n)=>{const a=S.forwardRef(({color:l="currentColor",size:o=24,strokeWidth:d=2,absoluteStrokeWidth:u,className:m="",children:p,...x},v)=>S.createElement("svg",{ref:v,...Pj,width:o,height:o,stroke:l,strokeWidth:u?Number(d)*24/Number(o):d,className:["lucide",`lucide-${Rj(t)}`,m].join(" "),...x},[...n.map(([y,N])=>S.createElement(y,N)),...Array.isArray(p)?p:[p]]));return a.displayName=`${t}`,a};/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=X("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=X("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=X("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=X("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=X("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=X("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=X("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=X("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=X("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=X("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=X("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=X("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=X("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=X("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=X("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=X("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=X("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=X("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=X("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=X("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=X("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=X("ChevronsUp",[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=X("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=X("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=X("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=X("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=X("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=X("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=X("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=X("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=X("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=X("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=X("FileQuestion",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M10 10.3c.2-.4.5-.8.9-1a2.1 2.1 0 0 1 2.6.4c.3.4.5.8.5 1.3 0 1.3-2 2-2 2",key:"1umxtm"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=X("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=X("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=X("FolderKanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=X("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=X("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=X("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=X("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=X("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=X("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=X("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=X("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=X("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=X("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=X("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=X("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=X("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=X("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=X("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=X("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=X("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=X("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=X("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=X("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=X("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=X("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=X("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=X("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=X("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=X("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=X("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=X("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=X("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=X("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=X("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=X("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=X("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=X("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=X("ShieldX",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m14.5 9-5 5",key:"1m49dw"}],["path",{d:"m9.5 9 5 5",key:"wyx7zg"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=X("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=X("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=X("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=X("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=X("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=X("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=X("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=X("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=X("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=X("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=X("Variable",[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=X("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.312.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=X("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Fx(t){var n,a,l="";if(typeof t=="string"||typeof t=="number")l+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(n=0;n<o;n++)t[n]&&(a=Fx(t[n]))&&(l&&(l+=" "),l+=a)}else for(a in t)t[a]&&(l&&(l+=" "),l+=a);return l}function a1(){for(var t,n,a=0,l="",o=arguments.length;a<o;a++)(t=arguments[a])&&(n=Fx(t))&&(l&&(l+=" "),l+=n);return l}const s0="-",l1=t=>{const n=o1(t),{conflictingClassGroups:a,conflictingClassGroupModifiers:l}=t;return{getClassGroupId:u=>{const m=u.split(s0);return m[0]===""&&m.length!==1&&m.shift(),Lx(m,n)||i1(u)},getConflictingClassGroupIds:(u,m)=>{const p=a[u]||[];return m&&l[u]?[...p,...l[u]]:p}}},Lx=(t,n)=>{var u;if(t.length===0)return n.classGroupId;const a=t[0],l=n.nextPart.get(a),o=l?Lx(t.slice(1),l):void 0;if(o)return o;if(n.validators.length===0)return;const d=t.join(s0);return(u=n.validators.find(({validator:m})=>m(d)))==null?void 0:u.classGroupId},If=/^\[(.+)\]$/,i1=t=>{if(If.test(t)){const n=If.exec(t)[1],a=n==null?void 0:n.substring(0,n.indexOf(":"));if(a)return"arbitrary.."+a}},o1=t=>{const{theme:n,prefix:a}=t,l={nextPart:new Map,validators:[]};return d1(Object.entries(t.classGroups),a).forEach(([d,u])=>{Tu(u,l,d,n)}),l},Tu=(t,n,a,l)=>{t.forEach(o=>{if(typeof o=="string"){const d=o===""?n:$f(n,o);d.classGroupId=a;return}if(typeof o=="function"){if(c1(o)){Tu(o(l),n,a,l);return}n.validators.push({validator:o,classGroupId:a});return}Object.entries(o).forEach(([d,u])=>{Tu(u,$f(n,d),a,l)})})},$f=(t,n)=>{let a=t;return n.split(s0).forEach(l=>{a.nextPart.has(l)||a.nextPart.set(l,{nextPart:new Map,validators:[]}),a=a.nextPart.get(l)}),a},c1=t=>t.isThemeGetter,d1=(t,n)=>n?t.map(([a,l])=>{const o=l.map(d=>typeof d=="string"?n+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(([u,m])=>[n+u,m])):d);return[a,o]}):t,u1=t=>{if(t<1)return{get:()=>{},set:()=>{}};let n=0,a=new Map,l=new Map;const o=(d,u)=>{a.set(d,u),n++,n>t&&(n=0,l=a,a=new Map)};return{get(d){let u=a.get(d);if(u!==void 0)return u;if((u=l.get(d))!==void 0)return o(d,u),u},set(d,u){a.has(d)?a.set(d,u):o(d,u)}}},Ix="!",h1=t=>{const{separator:n,experimentalParseClassName:a}=t,l=n.length===1,o=n[0],d=n.length,u=m=>{const p=[];let x=0,v=0,y;for(let g=0;g<m.length;g++){let P=m[g];if(x===0){if(P===o&&(l||m.slice(g,g+d)===n)){p.push(m.slice(v,g)),v=g+d;continue}if(P==="/"){y=g;continue}}P==="["?x++:P==="]"&&x--}const N=p.length===0?m:m.substring(v),k=N.startsWith(Ix),j=k?N.substring(1):N,b=y&&y>v?y-v:void 0;return{modifiers:p,hasImportantModifier:k,baseClassName:j,maybePostfixModifierPosition:b}};return a?m=>a({className:m,parseClassName:u}):u},m1=t=>{if(t.length<=1)return t;const n=[];let a=[];return t.forEach(l=>{l[0]==="["?(n.push(...a.sort(),l),a=[]):a.push(l)}),n.push(...a.sort()),n},f1=t=>({cache:u1(t.cacheSize),parseClassName:h1(t),...l1(t)}),p1=/\s+/,x1=(t,n)=>{const{parseClassName:a,getClassGroupId:l,getConflictingClassGroupIds:o}=n,d=[],u=t.trim().split(p1);let m="";for(let p=u.length-1;p>=0;p-=1){const x=u[p],{modifiers:v,hasImportantModifier:y,baseClassName:N,maybePostfixModifierPosition:k}=a(x);let j=!!k,b=l(j?N.substring(0,k):N);if(!b){if(!j){m=x+(m.length>0?" "+m:m);continue}if(b=l(N),!b){m=x+(m.length>0?" "+m:m);continue}j=!1}const g=m1(v).join(":"),P=y?g+Ix:g,O=P+b;if(d.includes(O))continue;d.push(O);const C=o(b,j);for(let R=0;R<C.length;++R){const U=C[R];d.push(P+U)}m=x+(m.length>0?" "+m:m)}return m};function g1(){let t=0,n,a,l="";for(;t<arguments.length;)(n=arguments[t++])&&(a=$x(n))&&(l&&(l+=" "),l+=a);return l}const $x=t=>{if(typeof t=="string")return t;let n,a="";for(let l=0;l<t.length;l++)t[l]&&(n=$x(t[l]))&&(a&&(a+=" "),a+=n);return a};function y1(t,...n){let a,l,o,d=u;function u(p){const x=n.reduce((v,y)=>y(v),t());return a=f1(x),l=a.cache.get,o=a.cache.set,d=m,m(p)}function m(p){const x=l(p);if(x)return x;const v=x1(p,a);return o(p,v),v}return function(){return d(g1.apply(null,arguments))}}const Be=t=>{const n=a=>a[t]||[];return n.isThemeGetter=!0,n},Ux=/^\[(?:([a-z-]+):)?(.+)\]$/i,v1=/^\d+\/\d+$/,b1=new Set(["px","full","screen"]),j1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,w1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,N1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,k1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,S1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fs=t=>Qr(t)||b1.has(t)||v1.test(t),mn=t=>ga(t,"length",M1),Qr=t=>!!t&&!Number.isNaN(Number(t)),Ud=t=>ga(t,"number",Qr),ll=t=>!!t&&Number.isInteger(Number(t)),C1=t=>t.endsWith("%")&&Qr(t.slice(0,-1)),Ce=t=>Ux.test(t),fn=t=>j1.test(t),_1=new Set(["length","size","percentage"]),E1=t=>ga(t,_1,qx),P1=t=>ga(t,"position",qx),R1=new Set(["image","url"]),T1=t=>ga(t,R1,z1),O1=t=>ga(t,"",D1),il=()=>!0,ga=(t,n,a)=>{const l=Ux.exec(t);return l?l[1]?typeof n=="string"?l[1]===n:n.has(l[1]):a(l[2]):!1},M1=t=>w1.test(t)&&!N1.test(t),qx=()=>!1,D1=t=>k1.test(t),z1=t=>S1.test(t),A1=()=>{const t=Be("colors"),n=Be("spacing"),a=Be("blur"),l=Be("brightness"),o=Be("borderColor"),d=Be("borderRadius"),u=Be("borderSpacing"),m=Be("borderWidth"),p=Be("contrast"),x=Be("grayscale"),v=Be("hueRotate"),y=Be("invert"),N=Be("gap"),k=Be("gradientColorStops"),j=Be("gradientColorStopPositions"),b=Be("inset"),g=Be("margin"),P=Be("opacity"),O=Be("padding"),C=Be("saturate"),R=Be("scale"),U=Be("sepia"),B=Be("skew"),L=Be("space"),W=Be("translate"),H=()=>["auto","contain","none"],Q=()=>["auto","hidden","clip","visible","scroll"],le=()=>["auto",Ce,n],G=()=>[Ce,n],ne=()=>["",Fs,mn],xe=()=>["auto",Qr,Ce],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ae=()=>["solid","dashed","dotted","double","none"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",Ce],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[Qr,Ce];return{cacheSize:500,separator:":",theme:{colors:[il],spacing:[Fs,mn],blur:["none","",fn,Ce],brightness:M(),borderColor:[t],borderRadius:["none","","full",fn,Ce],borderSpacing:G(),borderWidth:ne(),contrast:M(),grayscale:Z(),hueRotate:M(),invert:Z(),gap:G(),gradientColorStops:[t],gradientColorStopPositions:[C1,mn],inset:le(),margin:le(),opacity:M(),padding:G(),saturate:M(),scale:M(),sepia:Z(),skew:M(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[fn]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),Ce]}],overflow:[{overflow:Q()}],"overflow-x":[{"overflow-x":Q()}],"overflow-y":[{"overflow-y":Q()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ll,Ce]}],basis:[{basis:le()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",ll,Ce]}],"grid-cols":[{"grid-cols":[il]}],"col-start-end":[{col:["auto",{span:["full",ll,Ce]},Ce]}],"col-start":[{"col-start":xe()}],"col-end":[{"col-end":xe()}],"grid-rows":[{"grid-rows":[il]}],"row-start-end":[{row:["auto",{span:[ll,Ce]},Ce]}],"row-start":[{"row-start":xe()}],"row-end":[{"row-end":xe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[N]}],"gap-x":[{"gap-x":[N]}],"gap-y":[{"gap-y":[N]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[O]}],px:[{px:[O]}],py:[{py:[O]}],ps:[{ps:[O]}],pe:[{pe:[O]}],pt:[{pt:[O]}],pr:[{pr:[O]}],pb:[{pb:[O]}],pl:[{pl:[O]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,n]}],"min-w":[{"min-w":[Ce,n,"min","max","fit"]}],"max-w":[{"max-w":[Ce,n,"none","full","min","max","fit","prose",{screen:[fn]},fn]}],h:[{h:[Ce,n,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,n,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,n,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,n,"auto","min","max","fit"]}],"font-size":[{text:["base",fn,mn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ud]}],"font-family":[{font:[il]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",Qr,Ud]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Fs,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[P]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Fs,mn]}],"underline-offset":[{"underline-offset":["auto",Fs,Ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[P]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),P1]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",E1]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},T1]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[m]}],"border-w-x":[{"border-x":[m]}],"border-w-y":[{"border-y":[m]}],"border-w-s":[{"border-s":[m]}],"border-w-e":[{"border-e":[m]}],"border-w-t":[{"border-t":[m]}],"border-w-r":[{"border-r":[m]}],"border-w-b":[{"border-b":[m]}],"border-w-l":[{"border-l":[m]}],"border-opacity":[{"border-opacity":[P]}],"border-style":[{border:[...ae(),"hidden"]}],"divide-x":[{"divide-x":[m]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[m]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[P]}],"divide-style":[{divide:ae()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...ae()]}],"outline-offset":[{"outline-offset":[Fs,Ce]}],"outline-w":[{outline:[Fs,mn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[P]}],"ring-offset-w":[{"ring-offset":[Fs,mn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",fn,O1]}],"shadow-color":[{shadow:[il]}],opacity:[{opacity:[P]}],"mix-blend":[{"mix-blend":[...pe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":pe()}],filter:[{filter:["","none"]}],blur:[{blur:[a]}],brightness:[{brightness:[l]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",fn,Ce]}],grayscale:[{grayscale:[x]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[y]}],saturate:[{saturate:[C]}],sepia:[{sepia:[U]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[a]}],"backdrop-brightness":[{"backdrop-brightness":[l]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[x]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[P]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[ll,Ce]}],"translate-x":[{"translate-x":[W]}],"translate-y":[{"translate-y":[W]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Fs,mn,Ud]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},F1=y1(A1);function I(...t){return F1(a1(t))}const fl={Coordinator:"#8b5cf6",Analyst:"#14b8a6",Brainstorm:"#f97316",Runner:"#22c55e",Researcher:"#06b6d4",Architect:"#f59e0b",Executor:"#10b981",Reviewer:"#6366f1",Tester:"#ec4899",Revisionist:"#f97316",Archivist:"#64748b",Builder:"#3b82f6",SkillWriter:"#a855f7",Worker:"#a78bfa"},rs={Coordinator:"bg-violet-500/20 text-violet-300 border-violet-500/50",Analyst:"bg-teal-500/20 text-teal-300 border-teal-500/50",Brainstorm:"bg-orange-500/20 text-orange-300 border-orange-500/50",Runner:"bg-green-500/20 text-green-300 border-green-500/50",Researcher:"bg-cyan-500/20 text-cyan-300 border-cyan-500/50",Architect:"bg-amber-500/20 text-amber-300 border-amber-500/50",Executor:"bg-emerald-500/20 text-emerald-300 border-emerald-500/50",Reviewer:"bg-indigo-500/20 text-indigo-300 border-indigo-500/50",Tester:"bg-pink-500/20 text-pink-300 border-pink-500/50",Revisionist:"bg-orange-500/20 text-orange-300 border-orange-500/50",Archivist:"bg-slate-500/20 text-slate-300 border-slate-500/50",Builder:"bg-blue-500/20 text-blue-300 border-blue-500/50",SkillWriter:"bg-purple-500/20 text-purple-300 border-purple-500/50",Worker:"bg-purple-400/20 text-purple-300 border-purple-400/50"},Qt={Coordinator:"",Analyst:"",Brainstorm:"",Runner:"",Researcher:"",Architect:"",Executor:"",Reviewer:"",Tester:"",Revisionist:"",Archivist:"",Builder:"",SkillWriter:"",Worker:""},n0={pending:"bg-gray-500/20 text-gray-300 border-gray-500/50",active:"bg-blue-500/20 text-blue-300 border-blue-500/50",done:"bg-green-500/20 text-green-300 border-green-500/50",blocked:"bg-red-500/20 text-red-300 border-red-500/50"},Bx={pending:"",active:"",done:"",blocked:""},pr={active:"bg-blue-500/20 text-blue-300 border-blue-500/50",paused:"bg-yellow-500/20 text-yellow-300 border-yellow-500/50",completed:"bg-green-500/20 text-green-300 border-green-500/50",archived:"bg-slate-500/20 text-slate-300 border-slate-500/50",failed:"bg-red-500/20 text-red-300 border-red-500/50"},r0={low:"bg-green-500/20 text-green-300 border-green-500/50",medium:"bg-yellow-500/20 text-yellow-300 border-yellow-500/50",high:"bg-orange-500/20 text-orange-300 border-orange-500/50",critical:"bg-red-500/20 text-red-300 border-red-500/50"},Wx={low:"",medium:"",high:"",critical:""},L1={active:"bg-green-500",stale:"bg-yellow-500",blocked:"bg-red-500",idle:"bg-gray-500"},Mo={feature:"bg-blue-500/20 text-blue-300 border-blue-500/50",bug:"bg-red-500/20 text-red-300 border-red-500/50",change:"bg-purple-500/20 text-purple-300 border-purple-500/50",analysis:"bg-cyan-500/20 text-cyan-300 border-cyan-500/50",investigation:"bg-teal-500/20 text-teal-300 border-teal-500/50",debug:"bg-orange-500/20 text-orange-300 border-orange-500/50",refactor:"bg-yellow-500/20 text-yellow-300 border-yellow-500/50",documentation:"bg-slate-500/20 text-slate-300 border-slate-500/50"},a0={standard:"bg-slate-500/20 text-slate-300 border-slate-500/50",analysis:"bg-teal-500/20 text-teal-300 border-teal-500/50",validation:"bg-emerald-500/20 text-emerald-300 border-emerald-500/50",user_validation:"bg-amber-500/20 text-amber-300 border-amber-500/50",complex:"bg-purple-500/20 text-purple-300 border-purple-500/50",critical:"bg-red-500/20 text-red-300 border-red-500/50",build:"bg-blue-500/20 text-blue-300 border-blue-500/50",fix:"bg-rose-500/20 text-rose-300 border-rose-500/50",refactor:"bg-yellow-500/20 text-yellow-300 border-yellow-500/50",confirmation:"bg-orange-500/20 text-orange-300 border-orange-500/50",research:"bg-cyan-500/20 text-cyan-300 border-cyan-500/50",planning:"bg-indigo-500/20 text-indigo-300 border-indigo-500/50",code:"bg-emerald-500/20 text-emerald-300 border-emerald-500/50",test:"bg-pink-500/20 text-pink-300 border-pink-500/50",documentation:"bg-slate-500/20 text-slate-300 border-slate-500/50"},Fl={low:"bg-green-500/20 text-green-300 border-green-500/50",medium:"bg-yellow-500/20 text-yellow-300 border-yellow-500/50",high:"bg-orange-500/20 text-orange-300 border-orange-500/50",critical:"bg-red-500/20 text-red-300 border-red-500/50"},I1={trivial:"bg-gray-500/20 text-gray-300 border-gray-500/50",easy:"bg-green-500/20 text-green-300 border-green-500/50",moderate:"bg-yellow-500/20 text-yellow-300 border-yellow-500/50",hard:"bg-orange-500/20 text-orange-300 border-orange-500/50",extreme:"bg-red-500/20 text-red-300 border-red-500/50"},$1={resolved:"bg-green-500/20 text-green-300 border-green-500/50"},U1={active:"Active",stale:"Stale",blocked:"Blocked",idle:"Idle"};function bl({health:t,className:n,showLabel:a=!1}){return e.jsxs("div",{className:I("flex items-center gap-2",n),children:[e.jsx("span",{className:I("rounded-full",L1[t],n!=null&&n.includes("w-")?"":"w-3 h-3")}),a&&e.jsx("span",{className:"text-sm text-slate-400",children:U1[t]})]})}async function q1(){const t=await fetch("/api/workspaces");if(!t.ok)throw new Error("Failed to fetch workspaces");return t.json()}function B1({collapsed:t,onToggle:n}){const a=Ws(),{data:l,isLoading:o}=Le({queryKey:["workspaces"],queryFn:q1}),d=(l==null?void 0:l.workspaces)||[];return e.jsxs("aside",{className:I("bg-slate-800 border-r border-slate-700 flex flex-col transition-all duration-300",t?"w-16":"w-64"),role:"navigation","aria-label":"Main navigation",children:[e.jsx("div",{className:"h-14 flex items-center px-4 border-b border-slate-700",children:e.jsxs(Te,{to:"/",className:"flex items-center gap-2","aria-label":"Memory Observer home",children:[e.jsx("span",{className:"text-2xl","aria-hidden":"true",children:""}),!t&&e.jsx("span",{className:"font-semibold text-lg",children:"Memory Observer"})]})}),e.jsxs("nav",{className:"flex-1 overflow-y-auto py-4 scrollbar-thin","aria-label":"Primary",children:[e.jsxs(Te,{to:"/",className:I("flex items-center gap-3 px-4 py-2 mx-2 rounded-lg transition-colors",a.pathname==="/"?"bg-violet-500/20 text-violet-300":"text-slate-400 hover:bg-slate-700 hover:text-slate-200"),"aria-current":a.pathname==="/"?"page":void 0,children:[e.jsx(Vj,{size:20,"aria-hidden":"true"}),!t&&e.jsx("span",{children:"Dashboard"}),t&&e.jsx("span",{className:"sr-only",children:"Dashboard"})]}),e.jsxs("div",{className:"mt-6",role:"group","aria-label":"Workspaces",children:[!t&&e.jsx("h3",{className:"px-4 mb-2 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Workspaces"}),o?e.jsx("div",{className:"px-4 py-2 text-slate-500",role:"status","aria-label":"Loading workspaces",children:"Loading..."}):e.jsx("div",{className:"space-y-1",children:d.map(u=>e.jsxs(Te,{to:`/workspace/${u.workspace_id}`,className:I("flex items-center gap-3 px-4 py-2 mx-2 rounded-lg transition-colors",a.pathname.includes(u.workspace_id)?"bg-slate-700 text-slate-100":"text-slate-400 hover:bg-slate-700/50 hover:text-slate-200"),children:[e.jsxs("div",{className:"relative",children:[e.jsx(fa,{size:20}),e.jsx(bl,{health:u.health,className:"absolute -top-1 -right-1 w-2.5 h-2.5"})]}),!t&&e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"truncate font-medium",children:u.name}),e.jsxs("div",{className:"text-xs text-slate-500",children:[u.active_plan_count," active"]})]})]},u.workspace_id))})]}),e.jsxs("div",{className:"mt-6",children:[!t&&e.jsx("h3",{className:"px-4 mb-2 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Copilot Config"}),e.jsxs(Te,{to:"/agents",className:I("flex items-center gap-3 px-4 py-2 mx-2 rounded-lg transition-colors",a.pathname==="/agents"?"bg-violet-500/20 text-violet-300":"text-slate-400 hover:bg-slate-700 hover:text-slate-200"),children:[e.jsx(zj,{size:20}),!t&&e.jsx("span",{children:"Agents"})]}),e.jsxs(Te,{to:"/prompts",className:I("flex items-center gap-3 px-4 py-2 mx-2 rounded-lg transition-colors",a.pathname==="/prompts"?"bg-violet-500/20 text-violet-300":"text-slate-400 hover:bg-slate-700 hover:text-slate-200"),children:[e.jsx(lt,{size:20}),!t&&e.jsx("span",{children:"Prompts"})]}),e.jsxs(Te,{to:"/instructions",className:I("flex items-center gap-3 px-4 py-2 mx-2 rounded-lg transition-colors",a.pathname==="/instructions"?"bg-amber-500/20 text-amber-300":"text-slate-400 hover:bg-slate-700 hover:text-slate-200"),children:[e.jsx(Cs,{size:20}),!t&&e.jsx("span",{children:"Instructions"})]})]}),e.jsxs("div",{className:"mt-6",children:[!t&&e.jsx("h3",{className:"px-4 mb-2 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Analytics"}),e.jsxs(Te,{to:"/metrics",className:I("flex items-center gap-3 px-4 py-2 mx-2 rounded-lg transition-colors",a.pathname==="/metrics"?"bg-violet-500/20 text-violet-300":"text-slate-400 hover:bg-slate-700 hover:text-slate-200"),children:[e.jsx(vx,{size:20}),!t&&e.jsx("span",{children:"Performance Metrics"})]})]})]}),e.jsx("button",{onClick:n,className:"h-12 flex items-center justify-center border-t border-slate-700 text-slate-400 hover:text-slate-200 hover:bg-slate-700 transition-colors",children:t?e.jsx(Es,{size:20}):e.jsx(Fj,{size:20})})]})}function W1(){if(typeof window>"u")return"system";const t=localStorage.getItem("theme");return t==="light"||t==="dark"||t==="system"?t:"system"}function Uf(t){const n=document.documentElement,a=window.matchMedia("(prefers-color-scheme: dark)").matches;t==="dark"||t==="system"&&a?n.classList.add("dark"):n.classList.remove("dark")}function H1(){const[t,n]=S.useState(()=>W1());return S.useEffect(()=>{Uf(t)},[t]),S.useEffect(()=>{const l=window.matchMedia("(prefers-color-scheme: dark)"),o=()=>{t==="system"&&Uf("system")};return l.addEventListener("change",o),()=>l.removeEventListener("change",o)},[t]),{theme:t,setTheme:l=>{localStorage.setItem("theme",l),n(l)}}}function Q1({className:t,variant:n="icon"}){const{theme:a,setTheme:l}=H1(),[o,d]=S.useState(!1);if(n==="icon"){const u=()=>{l(a==="light"?"dark":a==="dark"?"system":"light")};return e.jsxs("button",{onClick:u,className:I("p-2 rounded-md text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",t),title:`Theme: ${a}`,"aria-label":`Current theme: ${a}. Click to change.`,children:[a==="light"&&e.jsx(ao,{className:"h-5 w-5"}),a==="dark"&&e.jsx(ro,{className:"h-5 w-5"}),a==="system"&&e.jsx(no,{className:"h-5 w-5"})]})}if(n==="buttons"){const u=[{value:"light",icon:e.jsx(ao,{className:"h-4 w-4"}),label:"Light"},{value:"dark",icon:e.jsx(ro,{className:"h-4 w-4"}),label:"Dark"},{value:"system",icon:e.jsx(no,{className:"h-4 w-4"}),label:"System"}];return e.jsx("div",{className:I("flex rounded-lg border border-gray-200 dark:border-gray-700 p-1",t),children:u.map(m=>e.jsxs("button",{onClick:()=>l(m.value),className:I("flex items-center gap-2 px-3 py-1.5 rounded-md text-sm font-medium transition-colors",a===m.value?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"),"aria-pressed":a===m.value,children:[m.icon,m.label]},m.value))})}return e.jsxs("div",{className:I("relative",t),children:[e.jsxs("button",{onClick:()=>d(!o),className:"flex items-center gap-2 px-3 py-2 rounded-md text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors","aria-expanded":o,"aria-haspopup":"listbox",children:[a==="light"&&e.jsx(ao,{className:"h-5 w-5"}),a==="dark"&&e.jsx(ro,{className:"h-5 w-5"}),a==="system"&&e.jsx(no,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm capitalize",children:a})]}),o&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>d(!1)}),e.jsxs("div",{className:"absolute right-0 mt-1 w-36 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-20 py-1",children:[e.jsxs("button",{onClick:()=>{l("light"),d(!1)},className:I("flex items-center gap-2 w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-gray-700",a==="light"&&"text-blue-600 dark:text-blue-400"),role:"option","aria-selected":a==="light",children:[e.jsx(ao,{className:"h-4 w-4"}),"Light"]}),e.jsxs("button",{onClick:()=>{l("dark"),d(!1)},className:I("flex items-center gap-2 w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-gray-700",a==="dark"&&"text-blue-600 dark:text-blue-400"),role:"option","aria-selected":a==="dark",children:[e.jsx(ro,{className:"h-4 w-4"}),"Dark"]}),e.jsxs("button",{onClick:()=>{l("system"),d(!1)},className:I("flex items-center gap-2 w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-gray-700",a==="system"&&"text-blue-600 dark:text-blue-400"),role:"option","aria-selected":a==="system",children:[e.jsx(no,{className:"h-4 w-4"}),"System"]})]})]})]})}const qf=["coordinator","analyst","researcher","architect","executor","reviewer","tester","archivist","revisionist","brainstorm"],Bf={apiUrl:"http://localhost:3001",dataRoot:"",agentsRoot:"",theme:"dark",autoRefresh:!0,refreshInterval:5e3,defaultAgents:["coordinator","analyst","researcher","architect","executor","reviewer","tester","archivist","revisionist","brainstorm"],defaultInstructions:[],autoDeployOnWorkspaceOpen:!1};function V1({isOpen:t,onClose:n}){const[a,l]=S.useState(Bf),[o,d]=S.useState("connection"),[u,m]=S.useState(!1),[p,x]=S.useState([]),[v,y]=S.useState(!1),[N,k]=S.useState(null);S.useEffect(()=>{const C=localStorage.getItem("pmd-settings");if(C)try{l({...Bf,...JSON.parse(C)})}catch{}},[t]),S.useEffect(()=>{t&&(y(!0),k(null),fetch("/api/instructions").then(C=>{if(!C.ok)throw new Error("Failed to fetch instructions");return C.json()}).then(C=>{x(C.instructions||[])}).catch(C=>{k(C.message)}).finally(()=>{y(!1)}))},[t]);const j=async()=>{m(!0);try{localStorage.setItem("pmd-settings",JSON.stringify(a)),setTimeout(()=>{window.location.reload()},500)}finally{m(!1)}},b=C=>{const R=a.defaultAgents.includes(C)?a.defaultAgents.filter(U=>U!==C):[...a.defaultAgents,C];l({...a,defaultAgents:R})},g=C=>{const R=a.defaultInstructions.includes(C)?a.defaultInstructions.filter(U=>U!==C):[...a.defaultInstructions,C];l({...a,defaultInstructions:R})},P=p.filter(C=>!C.isPathSpecific);if(!t)return null;const O=[{id:"connection",label:"Connection",icon:Zj},{id:"defaults",label:"Defaults",icon:Gj},{id:"appearance",label:"Appearance",icon:Yj},{id:"advanced",label:"Advanced",icon:fa}];return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),e.jsxs("div",{className:"relative bg-slate-800 border border-slate-700 rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-700",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Settings"}),e.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(Ht,{size:20})})]}),e.jsx("div",{className:"flex border-b border-slate-700",children:O.map(C=>e.jsxs("button",{onClick:()=>d(C.id),className:I("flex items-center gap-2 px-6 py-3 text-sm font-medium transition-colors",o===C.id?"text-violet-400 border-b-2 border-violet-400":"text-slate-400 hover:text-slate-200"),children:[e.jsx(C.icon,{size:16}),C.label]},C.id))}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[50vh]",children:[o==="connection"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"API Server URL"}),e.jsx("input",{type:"text",value:a.apiUrl,onChange:C=>l({...a,apiUrl:C.target.value}),className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-slate-100 focus:outline-none focus:border-violet-500",placeholder:"http://localhost:3001"})]})}),o==="appearance"&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Theme"}),e.jsxs("select",{value:a.theme,onChange:C=>l({...a,theme:C.target.value}),className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-slate-100 focus:outline-none focus:border-violet-500",children:[e.jsx("option",{value:"dark",children:"Dark"}),e.jsx("option",{value:"light",children:"Light"}),e.jsx("option",{value:"system",children:"System"})]})]})}),o==="defaults"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Auto Deploy on Workspace Open"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Automatically deploy defaults when opening a new workspace"})]}),e.jsx("button",{onClick:()=>l({...a,autoDeployOnWorkspaceOpen:!a.autoDeployOnWorkspaceOpen}),className:I("relative w-12 h-6 rounded-full transition-colors",a.autoDeployOnWorkspaceOpen?"bg-violet-500":"bg-slate-600"),children:e.jsx("span",{className:I("absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform",a.autoDeployOnWorkspaceOpen&&"translate-x-6")})})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Default Agents"}),e.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Select which agents to deploy to new workspaces"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:qf.map(C=>e.jsxs("button",{onClick:()=>b(C),className:I("flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors text-left",a.defaultAgents.includes(C)?"bg-violet-500/20 border-violet-500 text-violet-300":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"),children:[e.jsx("span",{className:I("w-4 h-4 rounded border flex items-center justify-center text-xs",a.defaultAgents.includes(C)?"bg-violet-500 border-violet-500 text-white":"border-slate-600"),children:a.defaultAgents.includes(C)&&""}),e.jsx("span",{className:"capitalize",children:C})]},C))}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("button",{onClick:()=>l({...a,defaultAgents:[...qf]}),className:"text-xs text-violet-400 hover:text-violet-300",children:"Select All"}),e.jsx("span",{className:"text-slate-600",children:"|"}),e.jsx("button",{onClick:()=>l({...a,defaultAgents:[]}),className:"text-xs text-slate-400 hover:text-slate-300",children:"Deselect All"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Default Instructions"}),e.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"Select which instruction files to deploy to new workspaces"}),v&&e.jsx("p",{className:"text-xs text-slate-500",children:"Loading instructions..."}),N&&e.jsx("p",{className:"text-xs text-red-400",children:N}),!v&&P.length===0&&!N&&e.jsx("p",{className:"text-xs text-slate-500",children:"No general instruction files available."}),P.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-2",children:P.map(C=>e.jsxs("button",{onClick:()=>g(C.id),className:I("flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors text-left",a.defaultInstructions.includes(C.id)?"bg-emerald-500/20 border-emerald-500 text-emerald-300":"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"),children:[e.jsx("span",{className:I("w-4 h-4 rounded border flex items-center justify-center text-xs",a.defaultInstructions.includes(C.id)?"bg-emerald-500 border-emerald-500 text-white":"border-slate-600"),children:a.defaultInstructions.includes(C.id)&&""}),e.jsx("span",{children:C.name})]},C.id))}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("button",{onClick:()=>l({...a,defaultInstructions:P.map(C=>C.id)}),className:"text-xs text-emerald-400 hover:text-emerald-300",children:"Select All"}),e.jsx("span",{className:"text-slate-600",children:"|"}),e.jsx("button",{onClick:()=>l({...a,defaultInstructions:[]}),className:"text-xs text-slate-400 hover:text-slate-300",children:"Deselect All"})]})]})]}),o==="advanced"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Auto Refresh"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Automatically refresh data"})]}),e.jsx("button",{onClick:()=>l({...a,autoRefresh:!a.autoRefresh}),className:I("relative w-12 h-6 rounded-full transition-colors",a.autoRefresh?"bg-violet-500":"bg-slate-600"),children:e.jsx("span",{className:I("absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform",a.autoRefresh&&"translate-x-6")})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Data Root Path"}),e.jsx("input",{type:"text",value:a.dataRoot,onChange:C=>l({...a,dataRoot:C.target.value}),className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-slate-100 focus:outline-none focus:border-violet-500",placeholder:"Auto-detected from server"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-slate-700",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 text-slate-400 hover:text-slate-200 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:j,disabled:u,className:"flex items-center gap-2 px-4 py-2 bg-violet-500 hover:bg-violet-600 text-white rounded-lg transition-colors disabled:opacity-50",children:[e.jsx(ca,{size:16}),u?"Saving...":"Save Changes"]})]})]})]})}async function K1(t){if(!t.trim()||t.length<2)return[];const n=await fetch(`/api/search?q=${encodeURIComponent(t)}`);if(!n.ok)throw new Error("Search failed");return(await n.json()).results}function G1({isOpen:t,onClose:n,initialQuery:a}){const l=Mn(),o=S.useRef(null),[d,u]=S.useState(""),[m,p]=S.useState(0),{data:x,isLoading:v}=Le({queryKey:["global-search",d],queryFn:()=>K1(d),enabled:d.length>=2,staleTime:1e3*10});S.useEffect(()=>{var j;t&&((j=o.current)==null||j.focus(),u(a??""),p(0))},[t,a]);const y=S.useCallback(j=>{if(t)switch(j.key){case"Escape":n();break;case"ArrowDown":j.preventDefault(),p(b=>Math.min(b+1,((x==null?void 0:x.length)||1)-1));break;case"ArrowUp":j.preventDefault(),p(b=>Math.max(b-1,0));break;case"Enter":j.preventDefault(),x&&x[m]&&N(x[m]);break}},[t,x,m,n]);S.useEffect(()=>(window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)),[y]);const N=j=>{n(),l(j.path)},k=j=>{switch(j){case"workspace":return e.jsx(fa,{className:"w-5 h-5 text-blue-400"});case"plan":return e.jsx(lt,{className:"w-5 h-5 text-green-400"});case"agent":return e.jsx(n1,{className:"w-5 h-5 text-purple-400"});case"step":return e.jsx(mr,{className:"w-5 h-5 text-amber-400"});default:return e.jsx(lt,{className:"w-5 h-5 text-slate-400"})}};return t?e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-start justify-center pt-[15vh] z-50",onClick:n,children:e.jsxs("div",{className:"bg-slate-800 rounded-xl shadow-2xl border border-slate-700 w-full max-w-2xl overflow-hidden",onClick:j=>j.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 border-b border-slate-700",children:[e.jsx(fr,{className:"w-5 h-5 text-slate-400"}),e.jsx("input",{ref:o,type:"text",value:d,onChange:j=>{u(j.target.value),p(0)},placeholder:"Search workspaces, plans, agents...",className:"flex-1 bg-transparent text-lg focus:outline-none placeholder:text-slate-500"}),v&&e.jsx(Bt,{className:"w-5 h-5 text-slate-400 animate-spin"}),e.jsx("kbd",{className:"hidden sm:flex items-center gap-1 px-2 py-1 bg-slate-700 rounded text-xs text-slate-400",children:"ESC"})]}),e.jsx("div",{className:"max-h-96 overflow-auto",children:d.length<2?e.jsxs("div",{className:"p-8 text-center text-slate-500",children:[e.jsx(fr,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"Type at least 2 characters to search"}),e.jsx("p",{className:"text-sm mt-2",children:"Search across workspaces, plans, agents, and steps"})]}):x&&x.length>0?e.jsx("div",{className:"py-2",children:x.map((j,b)=>e.jsxs("button",{onClick:()=>N(j),className:I("w-full flex items-center gap-3 px-4 py-3 text-left transition-colors",b===m?"bg-blue-500/20 text-white":"hover:bg-slate-700/50"),children:[k(j.type),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium truncate",children:j.title}),j.subtitle&&e.jsx("div",{className:"text-sm text-slate-400 truncate",children:j.subtitle}),e.jsxs("div",{className:"text-xs text-slate-500 mt-0.5",children:["Matched in: ",j.matchedField]})]}),e.jsx("span",{className:"text-xs text-slate-500 uppercase",children:j.type})]},`${j.type}-${j.id}`))}):d.length>=2&&!v?e.jsx("div",{className:"p-8 text-center text-slate-500",children:e.jsxs("p",{children:['No results found for "',d,'"']})}):null}),e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-t border-slate-700 bg-slate-900/50 text-xs text-slate-500",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-700 rounded",children:""}),e.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-700 rounded",children:""}),"to navigate"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-700 rounded",children:""}),"to select"]})]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ij,{className:"w-3 h-3"}),"K to open search"]})]})]})}):null}function Y1(){const[t,n]=S.useState(!1),[a,l]=S.useState(!1),[o,d]=S.useState(null),u=tt(),[m,p]=S.useState(!1),x=Ws(),v=Mn();S.useEffect(()=>{const N=k=>{(k.ctrlKey||k.metaKey)&&k.key==="k"&&(k.preventDefault(),n(!0))};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[]),S.useEffect(()=>{const N=new URLSearchParams(x.search),k=N.get("search");k!==null&&(d(k),n(!0),N.delete("search"),v({pathname:x.pathname,search:N.toString()},{replace:!0}))},[x.pathname,x.search,v]);const y=async()=>{p(!0),await u.invalidateQueries(),setTimeout(()=>p(!1),500)};return e.jsxs(e.Fragment,{children:[e.jsxs("header",{className:"h-14 bg-slate-800 dark:bg-slate-800 border-b border-slate-700 flex items-center justify-between px-4 md:px-6",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(fr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search plans, workspaces...",readOnly:!0,onClick:()=>n(!0),className:"w-full pl-10 pr-4 py-2 bg-slate-900 border border-slate-700 rounded-lg text-slate-100 placeholder-slate-500 focus:outline-none focus:border-violet-500 focus:ring-1 focus:ring-violet-500 text-sm cursor-pointer"}),e.jsx("kbd",{className:"absolute right-3 top-1/2 -translate-y-1/2 hidden sm:flex items-center gap-1 px-2 py-0.5 bg-slate-700 rounded text-xs text-slate-400",children:"Ctrl+K"})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-4 ml-4",children:[e.jsx(Q1,{className:"text-slate-400 hover:text-slate-200 hover:bg-slate-700"}),e.jsx("button",{onClick:y,className:"p-2 text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded-lg transition-colors",title:"Refresh data",children:e.jsx(Ss,{size:20,className:m?"animate-spin":""})}),e.jsx("button",{onClick:()=>l(!0),className:"p-2 text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded-lg transition-colors",title:"Settings",children:e.jsx(Tx,{size:20})}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-3 py-1 bg-green-500/20 border border-green-500/50 rounded-full",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm text-green-300",children:"Live"})]})]})]}),e.jsx(V1,{isOpen:a,onClose:()=>l(!1)}),e.jsx(G1,{isOpen:t,onClose:()=>{n(!1),d(null)},initialQuery:o})]})}function J1({children:t}){const[n,a]=S.useState(!1);return e.jsxs("div",{className:"flex h-screen bg-slate-900 text-slate-100",children:[e.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white focus:rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Skip to main content"}),e.jsx(B1,{collapsed:n,onToggle:()=>a(!n)}),e.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[e.jsx(Y1,{}),e.jsx("main",{id:"main-content",className:"flex-1 overflow-auto p-6 scrollbar-thin",role:"main",tabIndex:-1,children:t})]})]})}function Ie(t){const n=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&n==="[object Date]"?new t.constructor(+t):typeof t=="number"||n==="[object Number]"||typeof t=="string"||n==="[object String]"?new Date(t):new Date(NaN)}function Tn(t,n){return t instanceof Date?new t.constructor(n):new Date(n)}const Hx=6048e5,X1=864e5,Qx=6e4,Vx=36e5,lo=43200,Wf=1440;let Z1={};function Ll(){return Z1}function jl(t,n){var m,p,x,v;const a=Ll(),l=(n==null?void 0:n.weekStartsOn)??((p=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??a.weekStartsOn??((v=(x=a.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??0,o=Ie(t),d=o.getDay(),u=(d<l?7:0)+d-l;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function ko(t){return jl(t,{weekStartsOn:1})}function Kx(t){const n=Ie(t),a=n.getFullYear(),l=Tn(t,0);l.setFullYear(a+1,0,4),l.setHours(0,0,0,0);const o=ko(l),d=Tn(t,0);d.setFullYear(a,0,4),d.setHours(0,0,0,0);const u=ko(d);return n.getTime()>=o.getTime()?a+1:n.getTime()>=u.getTime()?a:a-1}function Hf(t){const n=Ie(t);return n.setHours(0,0,0,0),n}function So(t){const n=Ie(t),a=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return a.setUTCFullYear(n.getFullYear()),+t-+a}function ew(t,n){const a=Hf(t),l=Hf(n),o=+a-So(a),d=+l-So(l);return Math.round((o-d)/X1)}function tw(t){const n=Kx(t),a=Tn(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),ko(a)}function mo(t,n){const a=Ie(t),l=Ie(n),o=a.getTime()-l.getTime();return o<0?-1:o>0?1:o}function sw(t){return Tn(t,Date.now())}function nw(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function rw(t){if(!nw(t)&&typeof t!="number")return!1;const n=Ie(t);return!isNaN(Number(n))}function aw(t,n){const a=Ie(t),l=Ie(n),o=a.getFullYear()-l.getFullYear(),d=a.getMonth()-l.getMonth();return o*12+d}function lw(t){return n=>{const l=(t?Math[t]:Math.trunc)(n);return l===0?0:l}}function iw(t,n){return+Ie(t)-+Ie(n)}function ow(t){const n=Ie(t);return n.setHours(23,59,59,999),n}function cw(t){const n=Ie(t),a=n.getMonth();return n.setFullYear(n.getFullYear(),a+1,0),n.setHours(23,59,59,999),n}function dw(t){const n=Ie(t);return+ow(n)==+cw(n)}function uw(t,n){const a=Ie(t),l=Ie(n),o=mo(a,l),d=Math.abs(aw(a,l));let u;if(d<1)u=0;else{a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-o*d);let m=mo(a,l)===-o;dw(Ie(t))&&d===1&&mo(t,l)===1&&(m=!1),u=o*(d-Number(m))}return u===0?0:u}function hw(t,n,a){const l=iw(t,n)/1e3;return lw(a==null?void 0:a.roundingMethod)(l)}function mw(t){const n=Ie(t),a=Tn(t,0);return a.setFullYear(n.getFullYear(),0,1),a.setHours(0,0,0,0),a}const fw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pw=(t,n,a)=>{let l;const o=fw[t];return typeof o=="string"?l=o:n===1?l=o.one:l=o.other.replace("{{count}}",n.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+l:l+" ago":l};function qd(t){return(n={})=>{const a=n.width?String(n.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}const xw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yw={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vw={date:qd({formats:xw,defaultWidth:"full"}),time:qd({formats:gw,defaultWidth:"full"}),dateTime:qd({formats:yw,defaultWidth:"full"})},bw={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jw=(t,n,a,l)=>bw[t];function ol(t){return(n,a)=>{const l=a!=null&&a.context?String(a.context):"standalone";let o;if(l==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,m=a!=null&&a.width?String(a.width):u;o=t.formattingValues[m]||t.formattingValues[u]}else{const u=t.defaultWidth,m=a!=null&&a.width?String(a.width):t.defaultWidth;o=t.values[m]||t.values[u]}const d=t.argumentCallback?t.argumentCallback(n):n;return o[d]}}const ww={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Nw={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kw={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Sw={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Cw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_w={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ew=(t,n)=>{const a=Number(t),l=a%100;if(l>20||l<10)switch(l%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Pw={ordinalNumber:Ew,era:ol({values:ww,defaultWidth:"wide"}),quarter:ol({values:Nw,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ol({values:kw,defaultWidth:"wide"}),day:ol({values:Sw,defaultWidth:"wide"}),dayPeriod:ol({values:Cw,defaultWidth:"wide",formattingValues:_w,defaultFormattingWidth:"wide"})};function cl(t){return(n,a={})=>{const l=a.width,o=l&&t.matchPatterns[l]||t.matchPatterns[t.defaultMatchWidth],d=n.match(o);if(!d)return null;const u=d[0],m=l&&t.parsePatterns[l]||t.parsePatterns[t.defaultParseWidth],p=Array.isArray(m)?Tw(m,y=>y.test(u)):Rw(m,y=>y.test(u));let x;x=t.valueCallback?t.valueCallback(p):p,x=a.valueCallback?a.valueCallback(x):x;const v=n.slice(u.length);return{value:x,rest:v}}}function Rw(t,n){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&n(t[a]))return a}function Tw(t,n){for(let a=0;a<t.length;a++)if(n(t[a]))return a}function Ow(t){return(n,a={})=>{const l=n.match(t.matchPattern);if(!l)return null;const o=l[0],d=n.match(t.parsePattern);if(!d)return null;let u=t.valueCallback?t.valueCallback(d[0]):d[0];u=a.valueCallback?a.valueCallback(u):u;const m=n.slice(o.length);return{value:u,rest:m}}}const Mw=/^(\d+)(th|st|nd|rd)?/i,Dw=/\d+/i,zw={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Aw={any:[/^b/i,/^(a|c)/i]},Fw={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lw={any:[/1/i,/2/i,/3/i,/4/i]},Iw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$w={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Uw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qw={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Bw={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ww={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Hw={ordinalNumber:Ow({matchPattern:Mw,parsePattern:Dw,valueCallback:t=>parseInt(t,10)}),era:cl({matchPatterns:zw,defaultMatchWidth:"wide",parsePatterns:Aw,defaultParseWidth:"any"}),quarter:cl({matchPatterns:Fw,defaultMatchWidth:"wide",parsePatterns:Lw,defaultParseWidth:"any",valueCallback:t=>t+1}),month:cl({matchPatterns:Iw,defaultMatchWidth:"wide",parsePatterns:$w,defaultParseWidth:"any"}),day:cl({matchPatterns:Uw,defaultMatchWidth:"wide",parsePatterns:qw,defaultParseWidth:"any"}),dayPeriod:cl({matchPatterns:Bw,defaultMatchWidth:"any",parsePatterns:Ww,defaultParseWidth:"any"})},Gx={code:"en-US",formatDistance:pw,formatLong:vw,formatRelative:jw,localize:Pw,match:Hw,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Qw(t){const n=Ie(t);return ew(n,mw(n))+1}function Vw(t){const n=Ie(t),a=+ko(n)-+tw(n);return Math.round(a/Hx)+1}function Yx(t,n){var v,y,N,k;const a=Ie(t),l=a.getFullYear(),o=Ll(),d=(n==null?void 0:n.firstWeekContainsDate)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??o.firstWeekContainsDate??((k=(N=o.locale)==null?void 0:N.options)==null?void 0:k.firstWeekContainsDate)??1,u=Tn(t,0);u.setFullYear(l+1,0,d),u.setHours(0,0,0,0);const m=jl(u,n),p=Tn(t,0);p.setFullYear(l,0,d),p.setHours(0,0,0,0);const x=jl(p,n);return a.getTime()>=m.getTime()?l+1:a.getTime()>=x.getTime()?l:l-1}function Kw(t,n){var m,p,x,v;const a=Ll(),l=(n==null?void 0:n.firstWeekContainsDate)??((p=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??a.firstWeekContainsDate??((v=(x=a.locale)==null?void 0:x.options)==null?void 0:v.firstWeekContainsDate)??1,o=Yx(t,n),d=Tn(t,0);return d.setFullYear(o,0,l),d.setHours(0,0,0,0),jl(d,n)}function Gw(t,n){const a=Ie(t),l=+jl(a,n)-+Kw(a,n);return Math.round(l/Hx)+1}function Fe(t,n){const a=t<0?"-":"",l=Math.abs(t).toString().padStart(n,"0");return a+l}const pn={y(t,n){const a=t.getFullYear(),l=a>0?a:1-a;return Fe(n==="yy"?l%100:l,n.length)},M(t,n){const a=t.getMonth();return n==="M"?String(a+1):Fe(a+1,2)},d(t,n){return Fe(t.getDate(),n.length)},a(t,n){const a=t.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(t,n){return Fe(t.getHours()%12||12,n.length)},H(t,n){return Fe(t.getHours(),n.length)},m(t,n){return Fe(t.getMinutes(),n.length)},s(t,n){return Fe(t.getSeconds(),n.length)},S(t,n){const a=n.length,l=t.getMilliseconds(),o=Math.trunc(l*Math.pow(10,a-3));return Fe(o,n.length)}},Hr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Qf={G:function(t,n,a){const l=t.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return a.era(l,{width:"abbreviated"});case"GGGGG":return a.era(l,{width:"narrow"});case"GGGG":default:return a.era(l,{width:"wide"})}},y:function(t,n,a){if(n==="yo"){const l=t.getFullYear(),o=l>0?l:1-l;return a.ordinalNumber(o,{unit:"year"})}return pn.y(t,n)},Y:function(t,n,a,l){const o=Yx(t,l),d=o>0?o:1-o;if(n==="YY"){const u=d%100;return Fe(u,2)}return n==="Yo"?a.ordinalNumber(d,{unit:"year"}):Fe(d,n.length)},R:function(t,n){const a=Kx(t);return Fe(a,n.length)},u:function(t,n){const a=t.getFullYear();return Fe(a,n.length)},Q:function(t,n,a){const l=Math.ceil((t.getMonth()+1)/3);switch(n){case"Q":return String(l);case"QQ":return Fe(l,2);case"Qo":return a.ordinalNumber(l,{unit:"quarter"});case"QQQ":return a.quarter(l,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(l,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(l,{width:"wide",context:"formatting"})}},q:function(t,n,a){const l=Math.ceil((t.getMonth()+1)/3);switch(n){case"q":return String(l);case"qq":return Fe(l,2);case"qo":return a.ordinalNumber(l,{unit:"quarter"});case"qqq":return a.quarter(l,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(l,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(l,{width:"wide",context:"standalone"})}},M:function(t,n,a){const l=t.getMonth();switch(n){case"M":case"MM":return pn.M(t,n);case"Mo":return a.ordinalNumber(l+1,{unit:"month"});case"MMM":return a.month(l,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(l,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(l,{width:"wide",context:"formatting"})}},L:function(t,n,a){const l=t.getMonth();switch(n){case"L":return String(l+1);case"LL":return Fe(l+1,2);case"Lo":return a.ordinalNumber(l+1,{unit:"month"});case"LLL":return a.month(l,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(l,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(l,{width:"wide",context:"standalone"})}},w:function(t,n,a,l){const o=Gw(t,l);return n==="wo"?a.ordinalNumber(o,{unit:"week"}):Fe(o,n.length)},I:function(t,n,a){const l=Vw(t);return n==="Io"?a.ordinalNumber(l,{unit:"week"}):Fe(l,n.length)},d:function(t,n,a){return n==="do"?a.ordinalNumber(t.getDate(),{unit:"date"}):pn.d(t,n)},D:function(t,n,a){const l=Qw(t);return n==="Do"?a.ordinalNumber(l,{unit:"dayOfYear"}):Fe(l,n.length)},E:function(t,n,a){const l=t.getDay();switch(n){case"E":case"EE":case"EEE":return a.day(l,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(l,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(l,{width:"short",context:"formatting"});case"EEEE":default:return a.day(l,{width:"wide",context:"formatting"})}},e:function(t,n,a,l){const o=t.getDay(),d=(o-l.weekStartsOn+8)%7||7;switch(n){case"e":return String(d);case"ee":return Fe(d,2);case"eo":return a.ordinalNumber(d,{unit:"day"});case"eee":return a.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(o,{width:"short",context:"formatting"});case"eeee":default:return a.day(o,{width:"wide",context:"formatting"})}},c:function(t,n,a,l){const o=t.getDay(),d=(o-l.weekStartsOn+8)%7||7;switch(n){case"c":return String(d);case"cc":return Fe(d,n.length);case"co":return a.ordinalNumber(d,{unit:"day"});case"ccc":return a.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(o,{width:"narrow",context:"standalone"});case"cccccc":return a.day(o,{width:"short",context:"standalone"});case"cccc":default:return a.day(o,{width:"wide",context:"standalone"})}},i:function(t,n,a){const l=t.getDay(),o=l===0?7:l;switch(n){case"i":return String(o);case"ii":return Fe(o,n.length);case"io":return a.ordinalNumber(o,{unit:"day"});case"iii":return a.day(l,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(l,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(l,{width:"short",context:"formatting"});case"iiii":default:return a.day(l,{width:"wide",context:"formatting"})}},a:function(t,n,a){const o=t.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,n,a){const l=t.getHours();let o;switch(l===12?o=Hr.noon:l===0?o=Hr.midnight:o=l/12>=1?"pm":"am",n){case"b":case"bb":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,n,a){const l=t.getHours();let o;switch(l>=17?o=Hr.evening:l>=12?o=Hr.afternoon:l>=4?o=Hr.morning:o=Hr.night,n){case"B":case"BB":case"BBB":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,n,a){if(n==="ho"){let l=t.getHours()%12;return l===0&&(l=12),a.ordinalNumber(l,{unit:"hour"})}return pn.h(t,n)},H:function(t,n,a){return n==="Ho"?a.ordinalNumber(t.getHours(),{unit:"hour"}):pn.H(t,n)},K:function(t,n,a){const l=t.getHours()%12;return n==="Ko"?a.ordinalNumber(l,{unit:"hour"}):Fe(l,n.length)},k:function(t,n,a){let l=t.getHours();return l===0&&(l=24),n==="ko"?a.ordinalNumber(l,{unit:"hour"}):Fe(l,n.length)},m:function(t,n,a){return n==="mo"?a.ordinalNumber(t.getMinutes(),{unit:"minute"}):pn.m(t,n)},s:function(t,n,a){return n==="so"?a.ordinalNumber(t.getSeconds(),{unit:"second"}):pn.s(t,n)},S:function(t,n){return pn.S(t,n)},X:function(t,n,a){const l=t.getTimezoneOffset();if(l===0)return"Z";switch(n){case"X":return Kf(l);case"XXXX":case"XX":return Xn(l);case"XXXXX":case"XXX":default:return Xn(l,":")}},x:function(t,n,a){const l=t.getTimezoneOffset();switch(n){case"x":return Kf(l);case"xxxx":case"xx":return Xn(l);case"xxxxx":case"xxx":default:return Xn(l,":")}},O:function(t,n,a){const l=t.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Vf(l,":");case"OOOO":default:return"GMT"+Xn(l,":")}},z:function(t,n,a){const l=t.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Vf(l,":");case"zzzz":default:return"GMT"+Xn(l,":")}},t:function(t,n,a){const l=Math.trunc(t.getTime()/1e3);return Fe(l,n.length)},T:function(t,n,a){const l=t.getTime();return Fe(l,n.length)}};function Vf(t,n=""){const a=t>0?"-":"+",l=Math.abs(t),o=Math.trunc(l/60),d=l%60;return d===0?a+String(o):a+String(o)+n+Fe(d,2)}function Kf(t,n){return t%60===0?(t>0?"-":"+")+Fe(Math.abs(t)/60,2):Xn(t,n)}function Xn(t,n=""){const a=t>0?"-":"+",l=Math.abs(t),o=Fe(Math.trunc(l/60),2),d=Fe(l%60,2);return a+o+n+d}const Gf=(t,n)=>{switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Jx=(t,n)=>{switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Yw=(t,n)=>{const a=t.match(/(P+)(p+)?/)||[],l=a[1],o=a[2];if(!o)return Gf(t,n);let d;switch(l){case"P":d=n.dateTime({width:"short"});break;case"PP":d=n.dateTime({width:"medium"});break;case"PPP":d=n.dateTime({width:"long"});break;case"PPPP":default:d=n.dateTime({width:"full"});break}return d.replace("{{date}}",Gf(l,n)).replace("{{time}}",Jx(o,n))},Jw={p:Jx,P:Yw},Xw=/^D+$/,Zw=/^Y+$/,e2=["D","DD","YY","YYYY"];function t2(t){return Xw.test(t)}function s2(t){return Zw.test(t)}function n2(t,n,a){const l=r2(t,n,a);if(console.warn(l),e2.includes(t))throw new RangeError(l)}function r2(t,n,a){const l=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${n}\`) for formatting ${l} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const a2=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,l2=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,i2=/^'([^]*?)'?$/,o2=/''/g,c2=/[a-zA-Z]/;function l0(t,n,a){var v,y,N,k;const l=Ll(),o=l.locale??Gx,d=l.firstWeekContainsDate??((y=(v=l.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??1,u=l.weekStartsOn??((k=(N=l.locale)==null?void 0:N.options)==null?void 0:k.weekStartsOn)??0,m=Ie(t);if(!rw(m))throw new RangeError("Invalid time value");let p=n.match(l2).map(j=>{const b=j[0];if(b==="p"||b==="P"){const g=Jw[b];return g(j,o.formatLong)}return j}).join("").match(a2).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const b=j[0];if(b==="'")return{isToken:!1,value:d2(j)};if(Qf[b])return{isToken:!0,value:j};if(b.match(c2))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:j}});o.localize.preprocessor&&(p=o.localize.preprocessor(m,p));const x={firstWeekContainsDate:d,weekStartsOn:u,locale:o};return p.map(j=>{if(!j.isToken)return j.value;const b=j.value;(s2(b)||t2(b))&&n2(b,n,String(t));const g=Qf[b[0]];return g(m,b,o.localize,x)}).join("")}function d2(t){const n=t.match(i2);return n?n[1].replace(o2,"'"):t}function u2(t,n,a){const l=Ll(),o=(a==null?void 0:a.locale)??l.locale??Gx,d=2520,u=mo(t,n);if(isNaN(u))throw new RangeError("Invalid time value");const m=Object.assign({},a,{addSuffix:a==null?void 0:a.addSuffix,comparison:u});let p,x;u>0?(p=Ie(n),x=Ie(t)):(p=Ie(t),x=Ie(n));const v=hw(x,p),y=(So(x)-So(p))/1e3,N=Math.round((v-y)/60);let k;if(N<2)return a!=null&&a.includeSeconds?v<5?o.formatDistance("lessThanXSeconds",5,m):v<10?o.formatDistance("lessThanXSeconds",10,m):v<20?o.formatDistance("lessThanXSeconds",20,m):v<40?o.formatDistance("halfAMinute",0,m):v<60?o.formatDistance("lessThanXMinutes",1,m):o.formatDistance("xMinutes",1,m):N===0?o.formatDistance("lessThanXMinutes",1,m):o.formatDistance("xMinutes",N,m);if(N<45)return o.formatDistance("xMinutes",N,m);if(N<90)return o.formatDistance("aboutXHours",1,m);if(N<Wf){const j=Math.round(N/60);return o.formatDistance("aboutXHours",j,m)}else{if(N<d)return o.formatDistance("xDays",1,m);if(N<lo){const j=Math.round(N/Wf);return o.formatDistance("xDays",j,m)}else if(N<lo*2)return k=Math.round(N/lo),o.formatDistance("aboutXMonths",k,m)}if(k=uw(x,p),k<12){const j=Math.round(N/lo);return o.formatDistance("xMonths",j,m)}else{const j=k%12,b=Math.trunc(k/12);return j<3?o.formatDistance("aboutXYears",b,m):j<9?o.formatDistance("overXYears",b,m):o.formatDistance("almostXYears",b+1,m)}}function h2(t,n){return u2(t,sw(t),n)}function ua(t,n){const l=x2(t);let o;if(l.date){const p=g2(l.date,2);o=y2(p.restDateString,p.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);const d=o.getTime();let u=0,m;if(l.time&&(u=v2(l.time),isNaN(u)))return new Date(NaN);if(l.timezone){if(m=b2(l.timezone),isNaN(m))return new Date(NaN)}else{const p=new Date(d+u),x=new Date(0);return x.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),x.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),x}return new Date(d+u+m)}const io={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},m2=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,f2=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,p2=/^([+-])(\d{2})(?::?(\d{2}))?$/;function x2(t){const n={},a=t.split(io.dateTimeDelimiter);let l;if(a.length>2)return n;if(/:/.test(a[0])?l=a[0]:(n.date=a[0],l=a[1],io.timeZoneDelimiter.test(n.date)&&(n.date=t.split(io.timeZoneDelimiter)[0],l=t.substr(n.date.length,t.length))),l){const o=io.timezone.exec(l);o?(n.time=l.replace(o[1],""),n.timezone=o[1]):n.time=l}return n}function g2(t,n){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),l=t.match(a);if(!l)return{year:NaN,restDateString:""};const o=l[1]?parseInt(l[1]):null,d=l[2]?parseInt(l[2]):null;return{year:d===null?o:d*100,restDateString:t.slice((l[1]||l[2]).length)}}function y2(t,n){if(n===null)return new Date(NaN);const a=t.match(m2);if(!a)return new Date(NaN);const l=!!a[4],o=dl(a[1]),d=dl(a[2])-1,u=dl(a[3]),m=dl(a[4]),p=dl(a[5])-1;if(l)return S2(n,m,p)?j2(n,m,p):new Date(NaN);{const x=new Date(0);return!N2(n,d,u)||!k2(n,o)?new Date(NaN):(x.setUTCFullYear(n,d,Math.max(o,u)),x)}}function dl(t){return t?parseInt(t):1}function v2(t){const n=t.match(f2);if(!n)return NaN;const a=Bd(n[1]),l=Bd(n[2]),o=Bd(n[3]);return C2(a,l,o)?a*Vx+l*Qx+o*1e3:NaN}function Bd(t){return t&&parseFloat(t.replace(",","."))||0}function b2(t){if(t==="Z")return 0;const n=t.match(p2);if(!n)return 0;const a=n[1]==="+"?-1:1,l=parseInt(n[2]),o=n[3]&&parseInt(n[3])||0;return _2(l,o)?a*(l*Vx+o*Qx):NaN}function j2(t,n,a){const l=new Date(0);l.setUTCFullYear(t,0,4);const o=l.getUTCDay()||7,d=(n-1)*7+a+1-o;return l.setUTCDate(l.getUTCDate()+d),l}const w2=[31,null,31,30,31,30,31,31,30,31,30,31];function Xx(t){return t%400===0||t%4===0&&t%100!==0}function N2(t,n,a){return n>=0&&n<=11&&a>=1&&a<=(w2[n]||(Xx(t)?29:28))}function k2(t,n){return n>=1&&n<=(Xx(t)?366:365)}function S2(t,n,a){return n>=1&&n<=53&&a>=0&&a<=6}function C2(t,n,a){return t===24?n===0&&a===0:a>=0&&a<60&&n>=0&&n<60&&t>=0&&t<25}function _2(t,n){return n>=0&&n<=59}function wl(t){return l0(ua(t),"MMM d, yyyy")}function Zx(t){return l0(ua(t),"MMM d, yyyy h:mm a")}function E2(t){return l0(ua(t),"h:mm:ss a")}function Nt(t){return h2(ua(t),{addSuffix:!0})}function Ou(t,n){const a=ua(t),o=(n?ua(n):new Date).getTime()-a.getTime(),d=Math.floor(o/(1e3*60*60)),u=Math.floor(o%(1e3*60*60)/(1e3*60)),m=Math.floor(o%(1e3*60)/1e3);return d>0?`${d}h ${u}m`:u>0?`${u}m ${m}s`:`${m}s`}function Il(t){return`#${t+1}`}function eg({workspace:t,isChild:n}){var m;const[a,l]=S.useState(!0),o=t.languages.slice(0,3),d=t.child_workspaces&&t.child_workspaces.length>0,u=((m=t.child_workspaces)==null?void 0:m.length)??0;return e.jsxs("div",{className:"flex flex-col gap-0",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(Te,{to:`/workspace/${t.workspace_id}`,className:"block bg-slate-800 border border-slate-700 rounded-lg p-4 hover:border-violet-500/50 hover:bg-slate-800/80 transition-all group min-w-[280px]",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[e.jsx("div",{className:"p-2 bg-slate-700 rounded-lg group-hover:bg-violet-500/20 transition-colors flex-shrink-0",children:e.jsx(fa,{className:"text-violet-400",size:24})}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h3",{className:"font-semibold text-lg group-hover:text-violet-300 transition-colors truncate",children:t.name}),n&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-500/15 text-blue-400 rounded text-xs font-medium whitespace-nowrap",children:[e.jsx(oa,{size:12}),"sub-workspace"]}),d&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-violet-500/15 text-violet-400 rounded text-xs font-medium whitespace-nowrap",children:[e.jsx(e0,{size:12}),u," sub-workspace",u!==1?"s":""]})]}),e.jsx("p",{className:"text-sm text-slate-500 truncate",children:t.path})]})]}),e.jsx(bl,{health:t.health,showLabel:!0})]}),e.jsxs("div",{className:"flex flex-col gap-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(jo,{size:16,className:"text-slate-500 flex-shrink-0"}),e.jsxs("span",{className:"text-slate-300 whitespace-nowrap",children:[t.active_plan_count," active"]}),e.jsxs("span",{className:"text-slate-500 whitespace-nowrap",children:["/ ",t.archived_plan_count," archived"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[e.jsx(_u,{size:16,className:"text-slate-500 flex-shrink-0"}),e.jsx("span",{className:"whitespace-nowrap",children:Nt(t.last_activity)})]})]}),o.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(p=>e.jsxs("span",{className:"px-2 py-0.5 bg-slate-700/50 rounded text-xs text-slate-400",children:[p.name," ",p.percentage,"%"]},p.name))})]}),d&&e.jsx("button",{onClick:p=>{p.preventDefault(),p.stopPropagation(),l(x=>!x)},className:"absolute top-3 right-3 z-10 p-1 rounded hover:bg-slate-600/50 text-slate-400 hover:text-slate-200 transition-colors",title:a?"Collapse sub-workspaces":"Expand sub-workspaces",children:a?e.jsx(_s,{size:16}):e.jsx(Es,{size:16})})]}),d&&a&&e.jsx("div",{className:"ml-4 pl-4 border-l-2 border-blue-400/50 mt-1 flex flex-col gap-2",children:t.child_workspaces.map(p=>e.jsx(eg,{workspace:p,isChild:!0},p.workspace_id))})]})}function P2(t){const n=new Set;for(const a of t)if(a.child_workspaces)for(const l of a.child_workspaces)n.add(l.workspace_id);return t.filter(a=>!n.has(a.workspace_id))}function R2({workspaces:t,isLoading:n}){if(n)return e.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:[1,2,3].map(l=>e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4 animate-pulse",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-slate-700 rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-5 bg-slate-700 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-4 bg-slate-700 rounded w-3/4"})]})]}),e.jsx("div",{className:"h-4 bg-slate-700 rounded w-full mb-2"}),e.jsx("div",{className:"h-4 bg-slate-700 rounded w-2/3"})]},l))});if(t.length===0)return e.jsxs("div",{className:"text-center py-12 text-slate-500",children:[e.jsx("p",{className:"text-lg",children:"No workspaces registered"}),e.jsx("p",{className:"text-sm mt-2",children:"Register a workspace using the MCP server to get started"})]});const a=P2(t);return e.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:a.map(l=>e.jsx(eg,{workspace:l},l.workspace_id))})}const tg={apiBaseUrl:"http://localhost:3001"},fo=tg.apiBaseUrl;function T2({updates:t,maxItems:n=20,className:a}){const l=t.slice(0,n);return l.length===0?e.jsxs("div",{className:I("text-center py-8 text-slate-500",a),children:[e.jsx(vr,{className:"mx-auto mb-2 opacity-50",size:32}),e.jsx("p",{children:"No recent activity"}),e.jsx("p",{className:"text-sm",children:"Updates will appear here in real-time"})]}):e.jsx("div",{className:I("space-y-2",a),children:l.map((o,d)=>e.jsx(O2,{update:o},`${o.timestamp}-${d}`))})}function O2({update:t}){const n={handoff:e.jsx(mr,{size:16}),step_update:e.jsx(Hs,{size:16}),plan_created:e.jsx(lt,{size:16}),plan_archived:e.jsx(lt,{size:16})},a={handoff:"bg-violet-500/20 text-violet-300 border-violet-500/30",step_update:"bg-green-500/20 text-green-300 border-green-500/30",plan_created:"bg-blue-500/20 text-blue-300 border-blue-500/30",plan_archived:"bg-slate-500/20 text-slate-300 border-slate-500/30"};return e.jsxs("div",{className:I("flex items-start gap-3 p-3 rounded-lg border",a[t.type]),children:[e.jsx("div",{className:"mt-0.5",children:n[t.type]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm",children:t.message}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs opacity-70",children:[e.jsx(Qs,{size:12}),e.jsx("span",{children:Nt(t.timestamp)}),t.plan_id&&e.jsx("span",{className:"font-mono",children:t.plan_id.slice(-8)})]})]})]})}function M2({className:t}){const[n,a]=S.useState([]),[l,o]=S.useState(!1);return S.useEffect(()=>{const d=new EventSource("/api/events/stream");d.addEventListener("connected",()=>{o(!0)}),d.addEventListener("mcp_event",m=>{try{const p=JSON.parse(m.data),x={timestamp:p.timestamp,type:z2(p.type),workspace_id:p.workspace_id,plan_id:p.plan_id||"",message:F2(p)};a(v=>[x,...v].slice(0,100))}catch(p){console.error("Failed to parse MCP event:",p)}}),d.onerror=()=>{o(!1)};const u=new WebSocket(tg.wsUrl);return u.onmessage=m=>{try{const p=JSON.parse(m.data),x={timestamp:p.timestamp||new Date().toISOString(),type:D2(p.type),workspace_id:p.workspace_id,plan_id:p.plan_id||"",message:A2(p)};a(v=>[x,...v].slice(0,100))}catch(p){console.error("Failed to parse activity:",p)}},()=>{d.close(),u.close()}},[]),e.jsxs("div",{className:t,children:[l&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-400 mb-3 pb-3 border-b border-slate-700",children:[e.jsx(Ax,{size:12,className:"animate-pulse"}),e.jsx("span",{children:"Connected to MCP events"})]}),e.jsx(T2,{updates:n})]})}function D2(t){switch(t){case"handoff":return"handoff";case"plan_created":return"plan_created";case"plan_archived":return"plan_archived";default:return"step_update"}}function z2(t){switch(t){case"handoff":return"handoff";case"plan_created":return"plan_created";case"plan_archived":case"plan_updated":return"plan_archived";case"step_updated":return"step_update";case"agent_session_started":case"agent_session_completed":return"handoff";default:return"step_update"}}function A2(t){switch(t.type){case"handoff":return"Agent handoff recorded";case"plan_updated":return"Plan state updated";case"workspace_updated":return"Workspace configuration changed";case"step_update":return"Step status changed";default:return`Activity detected: ${t.file||t.type}`}}function F2(t){var n;switch(t.type){case"handoff":const a=t.data;return`${(a==null?void 0:a.fromAgent)||"Agent"}  ${(a==null?void 0:a.toAgent)||"Agent"}: ${(a==null?void 0:a.reason)||"Handoff"}`;case"plan_created":return`New plan: ${((n=t.data)==null?void 0:n.title)||"Untitled"}`;case"step_updated":const l=t.data;return`Step ${Il((l==null?void 0:l.stepIndex)??0)}  ${(l==null?void 0:l.newStatus)||"updated"}`;case"agent_session_started":return`${t.agent_type||"Agent"} session started`;case"agent_session_completed":return`${t.agent_type||"Agent"} session completed`;case"tool_call":return`Tool: ${t.tool_name||"unknown"}`;default:return`MCP event: ${t.type}`}}function as({value:t,max:n,className:a,showLabel:l=!1}){const o=n>0?t/n*100:0;return e.jsxs("div",{className:I("flex items-center gap-2",a),children:[e.jsx("div",{className:"flex-1 h-2 bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:I("h-full rounded-full transition-all duration-300",o===100?"bg-green-500":"bg-blue-500"),style:{width:`${o}%`}})}),l&&e.jsxs("span",{className:"text-xs text-slate-400 min-w-[3rem] text-right",children:[t,"/",n]})]})}const sg="/api";async function ng(t){const n=await fetch(`${sg}/programs/${t}`);if(!n.ok)throw new Error("Failed to fetch programs");return n.json()}async function L2(t,n){const a=await fetch(`${sg}/programs/${t}/${n}`);if(!a.ok)throw new Error("Failed to fetch program detail");return a.json()}function I2(t){return Le({queryKey:["programs",t],queryFn:()=>ng(t),enabled:!!t})}function rg(t,n){return Le({queryKey:["program",t,n],queryFn:()=>L2(t,n),enabled:!!t&&!!n})}function $2({workspaces:t}){var d;const n=Sb({queries:t.filter(u=>u.active_plan_count>0).map(u=>({queryKey:["programs",u.workspace_id],queryFn:()=>ng(u.workspace_id),staleTime:3e4}))}),a=[];for(let u=0;u<n.length;u++){const m=n[u],p=t.filter(x=>x.active_plan_count>0)[u];if((d=m.data)!=null&&d.programs)for(const x of m.data.programs)a.push({...x,ws_name:p.name})}if(a.length===0)return null;const l=a.reduce((u,m)=>u+m.aggregate_progress.total_plans,0),o=a.length>0?Math.round(a.reduce((u,m)=>u+m.aggregate_progress.completion_percentage,0)/a.length):0;return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"p-2 rounded-lg bg-violet-500/20",children:e.jsx(ns,{className:"text-violet-400",size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Programs"}),e.jsxs("p",{className:"text-xs text-slate-500",children:[a.length," program",a.length!==1?"s":"","  ",l," plans"]})]}),e.jsxs("div",{className:"ml-auto flex items-center gap-1.5",children:[e.jsx(Al,{size:14,className:"text-green-400"}),e.jsxs("span",{className:"text-sm font-bold text-green-400",children:[o,"%"]})]})]}),e.jsx("div",{className:"space-y-3",children:a.slice(0,5).map(u=>{const m=u.aggregate_progress;return e.jsxs(Te,{to:`/workspace/${u.workspace_id}/program/${u.program_id}`,className:"block hover:bg-slate-700/50 rounded-lg p-2 -mx-2 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm text-slate-300 truncate",children:u.name}),e.jsxs("span",{className:"text-xs text-slate-500",children:[m.completion_percentage,"%"]})]}),e.jsx(as,{value:m.done_steps,max:m.total_steps,className:"h-1.5"}),e.jsxs("div",{className:"flex gap-3 mt-1 text-xs text-slate-500",children:[e.jsxs("span",{children:[m.total_plans," plans"]}),m.active_plans>0&&e.jsxs("span",{className:"text-blue-400",children:[m.active_plans," active"]}),m.failed_plans>0&&e.jsxs("span",{className:"text-red-400",children:[m.failed_plans," failed"]})]})]},u.program_id)})})]})}async function U2(){const t=await fetch("/api/workspaces");if(!t.ok)throw new Error("Failed to fetch workspaces");return t.json()}function q2(){const{data:t,isLoading:n,error:a}=Le({queryKey:["workspaces"],queryFn:U2}),l=(t==null?void 0:t.workspaces)||[],o=l.reduce((x,v)=>x+v.active_plan_count+v.archived_plan_count,0),d=l.reduce((x,v)=>x+v.active_plan_count,0),u=l.filter(x=>x.health==="active").length,m=l.filter(x=>x.health==="blocked").length,p=[{label:"Workspaces",value:l.length,icon:fa,color:"text-violet-400",bgColor:"bg-violet-500/20"},{label:"Active Plans",value:d,icon:lt,color:"text-blue-400",bgColor:"bg-blue-500/20"},{label:"Total Plans",value:o,icon:Al,color:"text-green-400",bgColor:"bg-green-500/20"},{label:"Active Now",value:u,icon:vr,color:"text-emerald-400",bgColor:"bg-emerald-500/20",subtitle:m>0?`${m} blocked`:void 0}];return a?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-400 text-lg",children:"Failed to load dashboard"}),e.jsx("p",{className:"text-slate-500 mt-2",children:"Make sure the API server is running"})]}):e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Dashboard"}),e.jsx("p",{className:"text-slate-400",children:"Overview of all workspaces and agent activity"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:p.map(x=>e.jsx("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${x.bgColor}`,children:e.jsx(x.icon,{className:x.color,size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:x.value}),e.jsx("p",{className:"text-sm text-slate-400",children:x.label}),x.subtitle&&e.jsx("p",{className:"text-xs text-red-400",children:x.subtitle})]})]})},x.label))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Workspaces"}),e.jsx(R2,{workspaces:l,isLoading:n})]}),e.jsxs("div",{className:"space-y-6",children:[l.length>0&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Programs"}),e.jsx($2,{workspaces:l})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),e.jsx("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4 max-h-[500px] overflow-y-auto",children:e.jsx(M2,{})})]})]})]})]})}function fe({children:t,variant:n,className:a}){return e.jsx("span",{className:I("inline-flex items-center px-2 py-0.5 rounded-md text-xs font-medium border",n||"bg-slate-500/20 text-slate-300 border-slate-500/50",a),children:t})}function ag({text:t,label:n,className:a,size:l=14}){const[o,d]=S.useState(!1),u=async m=>{m.preventDefault(),m.stopPropagation();try{await navigator.clipboard.writeText(t),d(!0),setTimeout(()=>d(!1),2e3)}catch{const p=document.createElement("textarea");p.value=t,p.style.position="fixed",p.style.opacity="0",document.body.appendChild(p),p.select(),document.execCommand("copy"),document.body.removeChild(p),d(!0),setTimeout(()=>d(!1),2e3)}};return e.jsx("button",{onClick:u,title:o?"Copied!":`Copy ${n||t}`,className:I("p-1 rounded transition-colors",o?"text-emerald-400":"text-slate-500 hover:text-slate-300 hover:bg-slate-700/50",a),children:o?e.jsx(zl,{size:l}):e.jsx($j,{size:l})})}function Yf({plan:t,workspaceId:n,programName:a}){var y,N,k,j,b,g,P,O,C,R,U,B;const l=Mn(),o=((y=t.relationships)==null?void 0:y.parent_program_id)??t.program_id,d=((k=(N=t.relationships)==null?void 0:N.child_plan_ids)==null?void 0:k.length)??((j=t.child_plan_ids)==null?void 0:j.length)??0,u=((g=(b=t.relationships)==null?void 0:b.linked_plan_ids)==null?void 0:g.length)??((P=t.linked_plan_ids)==null?void 0:P.length)??((O=t.depends_on_plans)==null?void 0:O.length)??0,m=((R=(C=t.relationships)==null?void 0:C.dependent_plan_ids)==null?void 0:R.length)??0,p=((B=(U=t.relationships)==null?void 0:U.unresolved_linked_plan_ids)==null?void 0:B.length)??0,x=!!t.is_program||!!o||d>0||u>0||m>0||p>0,v=t;return e.jsxs(Te,{to:`/workspace/${n}/plan/${t.id}`,className:"block bg-slate-800 border border-slate-700 rounded-lg p-4 hover:border-violet-500/50 transition-all group",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(fe,{variant:Mo[t.category],children:t.category}),e.jsxs(fe,{variant:r0[t.priority],children:[Wx[t.priority]," ",t.priority]}),e.jsx(fe,{variant:pr[t.status],children:t.status})]}),(v.difficulty_profile||v.risk_register&&v.risk_register.length>0||v.matched_skills&&v.matched_skills.length>0)&&e.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[v.difficulty_profile&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] bg-amber-500/15 text-amber-300 border border-amber-500/30",children:[e.jsx(Eu,{size:10})," ",v.difficulty_profile.level]}),v.risk_register&&v.risk_register.length>0&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] bg-red-500/15 text-red-300 border border-red-500/30",children:[e.jsx(zx,{size:10})," ",v.risk_register.length]}),v.matched_skills&&v.matched_skills.length>0&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] bg-cyan-500/15 text-cyan-300 border border-cyan-500/30",children:[e.jsx(Cs,{size:10})," ",v.matched_skills.length]})]}),e.jsx("h3",{className:"font-semibold text-lg truncate group-hover:text-violet-300 transition-colors",children:t.title})]})}),t.current_agent&&e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxs(fe,{variant:rs[t.current_agent],children:[Qt[t.current_agent]," ",t.current_agent]}),e.jsx("span",{className:"text-sm text-slate-500",children:"currently active"})]}),t.status==="paused"&&t.paused_at_snapshot&&e.jsxs("div",{className:"flex items-center gap-2 mb-3 px-2 py-1.5 bg-yellow-500/10 border border-yellow-500/30 rounded-md",children:[e.jsx(_x,{size:14,className:"text-yellow-400"}),e.jsxs("span",{className:"text-xs text-yellow-300",children:["Paused at step #",t.paused_at_snapshot.step_index+1,": ",t.paused_at_snapshot.reason]})]}),o&&e.jsxs("button",{type:"button",onClick:L=>{L.preventDefault(),L.stopPropagation(),l(`/workspace/${n}/program/${o}`)},className:"inline-flex items-center gap-1.5 mb-3 px-2 py-0.5 rounded bg-violet-500/20 text-xs text-violet-400 hover:text-violet-300 hover:bg-violet-500/30 transition-colors",children:[e.jsx(ns,{size:12}),e.jsx("span",{children:a||o.slice(-8)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs text-slate-500 mb-1",children:"Relationships"}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 text-xs",children:[t.is_program&&e.jsx("span",{className:"px-2 py-0.5 rounded bg-violet-500/20 text-violet-300",children:"Program"}),o&&e.jsx("span",{className:"px-2 py-0.5 rounded bg-slate-700 text-slate-200",children:"Child of program"}),d>0&&e.jsxs("span",{className:"px-2 py-0.5 rounded bg-slate-700 text-slate-200",children:["Children: ",d]}),u>0&&e.jsxs("span",{className:"px-2 py-0.5 rounded bg-slate-700 text-slate-200",children:["Linked: ",u]}),m>0&&e.jsxs("span",{className:"px-2 py-0.5 rounded bg-slate-700 text-slate-200",children:["Linked by: ",m]}),p>0&&e.jsxs("span",{className:"px-2 py-0.5 rounded bg-amber-500/20 text-amber-300",children:["Unresolved links: ",p]}),!x&&e.jsx("span",{className:"px-2 py-0.5 rounded bg-slate-700 text-slate-400",children:"No relationships"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-slate-400",children:"Progress"}),e.jsxs("span",{className:"text-slate-300",children:[t.progress.done,"/",t.progress.total," steps"]})]}),e.jsx(as,{value:t.progress.done,max:t.progress.total})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Qs,{size:12}),e.jsxs("span",{children:["Updated ",Nt(t.updated_at)]})]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"font-mono",children:t.id.slice(-8)}),e.jsx(ag,{text:t.id,label:"plan ID",size:12})]})]})]})}const lg="/api";function xn(t){if(Array.isArray(t))return t.filter(n=>typeof n=="string")}function B2(t,n){const a=Number.isNaN(Date.parse(t.updated_at))?0:Date.parse(t.updated_at),l=Number.isNaN(Date.parse(n.updated_at))?0:Date.parse(n.updated_at);return a!==l?l-a:t.id.localeCompare(n.id)}function W2(t){const n=[...t].sort(B2),a=[],l=[];for(const o of n)o.status==="archived"?l.push(o):a.push(o);return{activePlans:a,archivedPlans:l}}function H2(t){var l;const n=new Set(t.map(o=>o.id)),a=new Map;for(const o of t){const d=xn(o.linked_plan_ids)??xn(o.depends_on_plans)??xn((l=o.relationships)==null?void 0:l.linked_plan_ids)??[];for(const u of d){const m=a.get(u)??[];m.push(o.id),a.set(u,m)}}return t.map(o=>{var N,k,j;const d=xn(o.child_plan_ids)??xn((N=o.relationships)==null?void 0:N.child_plan_ids)??[],u=xn(o.linked_plan_ids)??xn(o.depends_on_plans)??xn((k=o.relationships)==null?void 0:k.linked_plan_ids)??[],m=a.get(o.id)??[],p=u.filter(b=>!n.has(b)),x=o.program_id??((j=o.relationships)==null?void 0:j.parent_program_id),y=!!x||d.length>0||u.length>0||m.length>0?p.length>0?"partial":"ready":"none";return{...o,program_id:x,child_plan_ids:d,depends_on_plans:u,linked_plan_ids:u,relationships:{kind:o.is_program?"program":x?"child":"standalone",parent_program_id:x,child_plan_ids:d,linked_plan_ids:u,dependent_plan_ids:m,unresolved_linked_plan_ids:p,state:y}}})}async function Q2(t){const n=await fetch(`${lg}/plans/workspace/${t}`);if(!n.ok)throw new Error("Failed to fetch plans");const a=await n.json(),l=H2(Array.isArray(a.plans)?a.plans:[]);return{plans:l,total:typeof a.total=="number"?a.total:l.length}}function V2(t){return Le({queryKey:["plans",t],queryFn:()=>Q2(t),enabled:!!t})}async function K2(t,n){const a=await fetch(`${lg}/plans/${t}/${n}/resume`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!a.ok)throw new Error("Failed to resume plan");return a.json()}function G2(t,n){const a=tt();return We({mutationFn:()=>K2(t,n),onSuccess:()=>{a.invalidateQueries({queryKey:["plan",t,n]}),a.invalidateQueries({queryKey:["plans",t]})}})}const Y2=["active","paused","completed","archived","failed"],J2=["feature","bug","change","refactor","analysis","investigation","debug","documentation"],X2=["critical","high","medium","low"];function Z2({plans:t,workspaceId:n,isLoading:a,programs:l}){const[o,d]=S.useState(!1),[u,m]=S.useState([]),[p,x]=S.useState([]),[v,y]=S.useState([]),[N,k]=S.useState(void 0),j=S.useMemo(()=>{const C=new Map;if(l)for(const R of l)C.set(R.program_id,R.name);return C},[l]),b=t.filter(C=>{if(u.length>0&&!u.includes(C.status)||p.length>0&&!p.includes(C.category)||v.length>0&&!v.includes(C.priority))return!1;if(N==="__standalone__"){if(C.program_id||C.is_program)return!1}else if(N&&C.program_id!==N)return!1;return!0}),{activePlans:g,archivedPlans:P}=W2(b),O=(C,R,U)=>{R.includes(C)?U(R.filter(B=>B!==C)):U([...R,C])};return a?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(C=>e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4 animate-pulse",children:[e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("div",{className:"h-5 w-16 bg-slate-700 rounded"}),e.jsx("div",{className:"h-5 w-16 bg-slate-700 rounded"})]}),e.jsx("div",{className:"h-6 bg-slate-700 rounded w-3/4 mb-3"}),e.jsx("div",{className:"h-2 bg-slate-700 rounded w-full"})]},C))}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("button",{onClick:()=>d(!o),className:I("flex items-center gap-2 px-3 py-2 rounded-lg transition-colors",o?"bg-violet-500/20 text-violet-300":"bg-slate-700 text-slate-300 hover:bg-slate-600"),children:[e.jsx(Zu,{size:16}),e.jsx("span",{children:"Filters"}),u.length+p.length+v.length+(N?1:0)>0&&e.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-violet-500 text-white text-xs rounded-full",children:u.length+p.length+v.length+(N?1:0)})]}),o&&e.jsxs("div",{className:"mt-3 p-4 bg-slate-800 border border-slate-700 rounded-lg space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Status"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Y2.map(C=>e.jsx("button",{onClick:()=>O(C,u,m),className:I("transition-opacity",u.includes(C)?"opacity-100":"opacity-50 hover:opacity-75"),children:e.jsx(fe,{variant:pr[C],children:C})},C))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Category"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:J2.map(C=>e.jsx("button",{onClick:()=>O(C,p,x),className:I("transition-opacity",p.includes(C)?"opacity-100":"opacity-50 hover:opacity-75"),children:e.jsx(fe,{variant:Mo[C],children:C})},C))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Priority"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:X2.map(C=>e.jsx("button",{onClick:()=>O(C,v,y),className:I("transition-opacity",v.includes(C)?"opacity-100":"opacity-50 hover:opacity-75"),children:e.jsx(fe,{variant:r0[C],children:C})},C))})]}),l&&l.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Program"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>k(void 0),className:I("px-2 py-0.5 rounded text-xs transition-opacity",N?"bg-slate-700 text-slate-300 opacity-50 hover:opacity-75":"bg-violet-500/30 text-violet-200 opacity-100"),children:"All plans"}),e.jsx("button",{onClick:()=>k("__standalone__"),className:I("px-2 py-0.5 rounded text-xs transition-opacity",N==="__standalone__"?"bg-violet-500/30 text-violet-200 opacity-100":"bg-slate-700 text-slate-300 opacity-50 hover:opacity-75"),children:"Standalone only"}),l.map(C=>e.jsxs("button",{onClick:()=>k(C.program_id),className:I("inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs transition-opacity",N===C.program_id?"bg-violet-500/30 text-violet-200 opacity-100":"bg-slate-700 text-slate-300 opacity-50 hover:opacity-75"),children:[e.jsx(ns,{size:10}),C.name]},C.program_id))]})]}),u.length+p.length+v.length+(N?1:0)>0&&e.jsx("button",{onClick:()=>{m([]),x([]),y([]),k(void 0)},className:"text-sm text-violet-400 hover:text-violet-300",children:"Clear all filters"})]})]}),e.jsxs("div",{className:"mb-4 text-sm text-slate-500",children:["Showing ",b.length," of ",t.length," plans"]}),b.length===0?e.jsxs("div",{className:"text-center py-12 text-slate-500",children:[e.jsx("p",{className:"text-lg",children:"No plans found"}),e.jsx("p",{className:"text-sm mt-2",children:"Try adjusting your filters"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("section",{"aria-label":"Active Plans",className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-300 uppercase tracking-wide",children:"Active Plans"}),e.jsx("span",{className:"text-xs text-slate-500",children:g.length})]}),g.length===0?e.jsx("div",{className:"text-sm text-slate-500 bg-slate-800/50 border border-slate-700 rounded-lg p-3",children:"No active plans"}):e.jsx("div",{className:"space-y-4",children:g.map(C=>e.jsx(Yf,{plan:C,workspaceId:n,programName:j.get(C.program_id??"")??void 0},C.id))})]}),e.jsxs("section",{"aria-label":"Archived Plans",className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-300 uppercase tracking-wide",children:"Archived Plans"}),e.jsx("span",{className:"text-xs text-slate-500",children:P.length})]}),P.length===0?e.jsx("div",{className:"text-sm text-slate-500 bg-slate-800/50 border border-slate-700 rounded-lg p-3",children:"No archived plans"}):e.jsx("div",{className:"space-y-4",children:P.map(C=>e.jsx(Yf,{plan:C,workspaceId:n,programName:j.get(C.program_id??"")??void 0},C.id))})]})]})]})}async function eN(){const t=await fetch("/api/plans/templates");if(!t.ok)throw new Error("Failed to fetch plan templates");return(await t.json()).templates||[]}const tN=[{template:"feature",category:"feature",label:"Feature"},{template:"bugfix",category:"bug",label:"Bug Fix"},{template:"refactor",category:"refactor",label:"Refactor"},{template:"documentation",category:"documentation",label:"Documentation"},{template:"analysis",category:"analysis",label:"Analysis"},{template:"investigation",category:"investigation",label:"Investigation"}];function sN({workspaceId:t,onSuccess:n,onCancel:a,initialTemplate:l}){const{data:o=[],isLoading:d}=Le({queryKey:["plan-templates"],queryFn:eN}),[u,m]=S.useState(""),[p,x]=S.useState(""),[v,y]=S.useState(l??"none"),[N,k]=S.useState("feature"),[j,b]=S.useState("medium"),[g,P]=S.useState([]),[O,C]=S.useState([]),[R,U]=S.useState([]),[B,L]=S.useState(""),[W,H]=S.useState(""),[Q,le]=S.useState(!1),[G,ne]=S.useState(null);S.useEffect(()=>{l&&y(l)},[l]);const xe=N==="investigation"||v==="investigation",ie=v!=="none",ae=()=>{P([...g,{phase:"implementation",task:""}])},pe=(ee,Se,Ge)=>{const xs=[...g];xs[ee]={...xs[ee],[Se]:Ge},P(xs)},V=ee=>{P(g.filter((Se,Ge)=>Ge!==ee))},Z=()=>{const ee=B.trim();ee&&(C([...O,ee]),L(""))},re=()=>{const ee=W.trim();ee&&(U([...R,ee]),H(""))},M=ee=>{C(O.filter((Se,Ge)=>Ge!==ee))},q=ee=>{U(R.filter((Se,Ge)=>Ge!==ee))},ge=async ee=>{if(ee.preventDefault(),ne(null),xe&&(O.length===0||R.length===0)){ne("Investigation plans require at least 1 goal and 1 success criteria.");return}le(!0);try{const Se={title:u,description:p,priority:j};ie||(Se.category=N),O.length>0&&(Se.goals=O),R.length>0&&(Se.success_criteria=R);const Ge=ie?`/api/plans/${t}/template`:`/api/plans/${t}`;ie&&(Se.template=v);const xs=await fetch(Ge,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Se)});if(!xs.ok){const Ln=await xs.json();throw new Error(Ln.error||"Failed to create plan")}const{plan_id:Fn}=await xs.json();if(g.length>0){const Ln=g.map((va,Hl)=>({index:Hl,phase:va.phase,task:va.task,status:"pending"}));await fetch(`/api/plans/${t}/${Fn}/steps`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({steps:Ln})})}n(Fn)}catch(Se){ne(Se instanceof Error?Se.message:"Failed to create plan")}finally{le(!1)}},we=[{value:"feature",label:"Feature"},{value:"bug",label:"Bug Fix"},{value:"change",label:"Change"},{value:"analysis",label:"Analysis"},{value:"investigation",label:"Investigation"},{value:"debug",label:"Debug"},{value:"refactor",label:"Refactor"},{value:"documentation",label:"Documentation"}],_e=o.length>0?o:tN,Pe=[{value:"none",label:"Custom",hint:"Start from scratch"},..._e.map(ee=>{var Se;return{value:ee.template,label:ee.label,hint:`${ee.category} plan${(Se=ee.steps)!=null&&Se.length?`  ${ee.steps.length} steps`:""}`}})],be=[{value:"low",label:"Low",color:"bg-slate-500"},{value:"medium",label:"Medium",color:"bg-blue-500"},{value:"high",label:"High",color:"bg-orange-500"},{value:"critical",label:"Critical",color:"bg-red-500"}],Oe=["intake","recon","structure discovery","content decoding","hypothesis","experiment","validation","resolution","handoff","audit","research","design","implementation","testing","review","documentation"];return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Create New Plan"}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(Ht,{size:20})})]}),e.jsxs("form",{onSubmit:ge,className:"p-6 space-y-6",children:[G&&e.jsx("div",{className:"p-3 bg-red-500/20 border border-red-500/30 rounded-lg text-red-300 text-sm",children:G}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Title *"}),e.jsx("input",{type:"text",value:u,onChange:ee=>m(ee.target.value),required:!0,placeholder:"Enter plan title...",className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Description *"}),e.jsx("textarea",{value:p,onChange:ee=>x(ee.target.value),required:!0,rows:3,placeholder:"Describe what needs to be done...",className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent resize-none"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Template"}),e.jsx("select",{value:v,onChange:ee=>y(ee.target.value),className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500",children:Pe.map(ee=>e.jsxs("option",{value:ee.value,children:[ee.label," - ",ee.hint]},ee.value))}),d&&e.jsx("p",{className:"text-xs text-slate-500",children:"Loading templates..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Category"}),e.jsx("select",{value:N,onChange:ee=>k(ee.target.value),disabled:ie,className:"w-full px-4 py-2 bg-slate-900 border border-slate-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500",children:we.map(ee=>e.jsx("option",{value:ee.value,children:ee.label},ee.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Priority"}),e.jsx("div",{className:"flex gap-2",children:be.map(ee=>e.jsx("button",{type:"button",onClick:()=>b(ee.value),className:I("flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-all",j===ee.value?`${ee.color} text-white`:"bg-slate-700 text-slate-400 hover:bg-slate-600"),children:ee.label},ee.value))})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-300",children:"Goals & Success Criteria"}),xe&&e.jsx("span",{className:"text-xs text-amber-300",children:"Required for Investigation plans"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Goals"}),O.length===0&&e.jsx("p",{className:"text-xs text-slate-500",children:"Add at least one goal for investigation plans."}),O.map((ee,Se)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 px-3 py-2 bg-slate-900 border border-slate-700 rounded text-sm text-slate-200",children:ee}),e.jsx("button",{type:"button",onClick:()=>M(Se),className:"p-2 text-slate-500 hover:text-red-400 transition-colors",children:e.jsx(Wt,{size:16})})]},Se)),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:B,onChange:ee=>L(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&(ee.preventDefault(),Z()),placeholder:"Add a goal...",className:"flex-1 px-3 py-2 bg-slate-900 border border-slate-700 rounded text-sm"}),e.jsx("button",{type:"button",onClick:Z,className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded text-sm",children:"Add"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400",children:"Success Criteria"}),R.length===0&&e.jsx("p",{className:"text-xs text-slate-500",children:"Add at least one success criteria for investigation plans."}),R.map((ee,Se)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 px-3 py-2 bg-slate-900 border border-slate-700 rounded text-sm text-slate-200",children:ee}),e.jsx("button",{type:"button",onClick:()=>q(Se),className:"p-2 text-slate-500 hover:text-red-400 transition-colors",children:e.jsx(Wt,{size:16})})]},Se)),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:W,onChange:ee=>H(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&(ee.preventDefault(),re()),placeholder:"Add a success criteria...",className:"flex-1 px-3 py-2 bg-slate-900 border border-slate-700 rounded text-sm"}),e.jsx("button",{type:"button",onClick:re,className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded text-sm",children:"Add"})]})]})]}),!ie&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-sm font-medium text-slate-400",children:"Initial Steps (optional)"}),e.jsxs("button",{type:"button",onClick:ae,className:"text-sm text-violet-400 hover:text-violet-300 flex items-center gap-1",children:[e.jsx(ft,{size:14}),"Add Step"]})]}),g.length===0?e.jsx("p",{className:"text-sm text-slate-500 italic",children:"No steps defined yet. The Architect agent will create steps based on your description."}):e.jsx("div",{className:"space-y-2",children:g.map((ee,Se)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("select",{value:ee.phase,onChange:Ge=>pe(Se,"phase",Ge.target.value),className:"w-32 px-3 py-2 bg-slate-900 border border-slate-700 rounded-lg text-sm",children:Oe.map(Ge=>e.jsx("option",{value:Ge,children:Ge},Ge))}),e.jsx("input",{type:"text",value:ee.task,onChange:Ge=>pe(Se,"task",Ge.target.value),placeholder:"Step description...",className:"flex-1 px-3 py-2 bg-slate-900 border border-slate-700 rounded-lg text-sm"}),e.jsx("button",{type:"button",onClick:()=>V(Se),className:"p-2 text-slate-500 hover:text-red-400 transition-colors",children:e.jsx(Wt,{size:16})})]},Se))})]}),ie&&e.jsx("div",{className:"text-sm text-slate-500 italic",children:"Steps and category will be created from the selected template."}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-700",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 bg-slate-700 rounded-lg hover:bg-slate-600 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:Q||!u||!p,className:I("px-4 py-2 rounded-lg transition-colors flex items-center gap-2",Q||!u||!p?"bg-violet-500/50 text-violet-300/50 cursor-not-allowed":"bg-violet-500 text-white hover:bg-violet-600"),children:Q?"Creating...":"Create Plan"})]})]})]})})}async function nN(){const t=await fetch("/api/plans/templates");if(!t.ok)throw new Error("Failed to fetch plan templates");return(await t.json()).templates||[]}function rN({onSelectTemplate:t}){const{data:n=[],isLoading:a,error:l}=Le({queryKey:["plan-templates"],queryFn:nN});return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[e.jsx("div",{className:"flex items-start justify-between gap-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-slate-200",children:[e.jsx(Pu,{className:"w-4 h-4 text-violet-400"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Plan Templates"})]}),e.jsx("p",{className:"text-sm text-slate-400",children:"Start with a proven workflow when spinning up a new plan."})]})}),a&&e.jsx("div",{className:"mt-4 text-sm text-slate-400",children:"Loading templates..."}),l&&e.jsx("div",{className:"mt-4 text-sm text-red-400",children:"Failed to load templates."}),!a&&n.length===0&&!l&&e.jsx("div",{className:"mt-4 text-sm text-slate-500",children:"No templates available."}),n.length>0&&e.jsx("div",{className:"mt-5 grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:n.map(o=>{var d,u;return e.jsxs("div",{className:"border border-slate-700 rounded-lg p-4 bg-slate-900/60",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-violet-500/10 text-violet-300",children:e.jsx(e0,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-white",children:o.label}),e.jsx("p",{className:"text-xs text-slate-400 capitalize",children:o.category})]})]}),e.jsxs("span",{className:"text-xs text-slate-500",children:[((d=o.steps)==null?void 0:d.length)??0," steps"]})]}),e.jsx("div",{className:"mt-3 text-xs text-slate-400 line-clamp-3",children:((u=o.goals)==null?void 0:u[0])||"Template includes predefined goals and steps."}),e.jsxs("button",{onClick:()=>t(o.template),className:I("mt-4 inline-flex items-center gap-2 text-xs font-medium","text-violet-300 hover:text-violet-200"),children:[e.jsx(lt,{className:"w-3.5 h-3.5"}),"Use Template"]})]},o.template)})})]})}function Mu({icon:t,title:n,description:a,action:l,className:o}){return e.jsxs("div",{className:I("flex flex-col items-center justify-center py-12 px-4 text-center",o),role:"status","aria-label":n,children:[t&&e.jsx("div",{className:"mb-4 p-4 bg-gray-100 dark:bg-gray-800 rounded-full","aria-hidden":"true",children:t}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:n}),a&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 max-w-sm mb-6",children:a}),l&&e.jsxs("button",{onClick:l.onClick,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-label":l.label,children:[e.jsx(ft,{className:"h-4 w-4","aria-hidden":"true"}),l.label]})]})}function aN({plan:t,workspaceId:n}){const a=t.progress.total>0?Math.round(t.progress.done/t.progress.total*100):0;return e.jsxs(Te,{to:`/workspace/${n}/plan/${t.plan_id}`,className:"flex items-center justify-between px-4 py-2 hover:bg-slate-700/50 transition-colors rounded",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-slate-500 shrink-0"}),e.jsx("span",{className:"text-sm text-slate-300 truncate",children:t.title}),t.current_phase&&e.jsxs("span",{className:"text-xs text-slate-500",children:["(",t.current_phase,")"]})]}),e.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[e.jsx(fe,{variant:pr[t.status],children:t.status}),e.jsx(as,{value:t.progress.done,max:t.progress.total,className:"w-16"}),e.jsxs("span",{className:"text-xs text-slate-500 min-w-[4rem] text-right",children:[t.progress.done,"/",t.progress.total," (",a,"%)"]})]})]})}function lN({program:t,workspaceId:n}){const[a,l]=S.useState(!1),o=t.aggregate_progress;return e.jsxs("div",{className:"border border-slate-700 rounded-lg overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>l(d=>!d),className:"w-full flex items-center gap-3 px-4 py-3 bg-slate-900/60 hover:bg-slate-900/80 transition-colors text-left",children:[a?e.jsx(_s,{size:16,className:"text-slate-400 shrink-0"}):e.jsx(Es,{size:16,className:"text-slate-400 shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Te,{to:`/workspace/${n}/program/${t.program_id}`,onClick:d=>d.stopPropagation(),className:"font-semibold text-white hover:text-violet-300 transition-colors truncate",children:t.name}),e.jsxs(fe,{variant:"bg-slate-600/40 text-slate-300 border-slate-500/50",children:[o.total_plans," plan",o.total_plans!==1?"s":""]}),o.active_plans>0&&e.jsxs(fe,{variant:"bg-blue-500/20 text-blue-300 border-blue-500/30",children:[o.active_plans," active"]}),o.completed_plans>0&&e.jsxs(fe,{variant:"bg-green-500/20 text-green-300 border-green-500/30",children:[o.completed_plans," done"]}),o.failed_plans>0&&e.jsxs(fe,{variant:"bg-red-500/20 text-red-300 border-red-500/30",children:[o.failed_plans," failed"]})]}),t.description&&e.jsx("p",{className:"text-xs text-slate-500 truncate",children:t.description})]}),e.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[e.jsx(as,{value:o.done_steps,max:o.total_steps,className:"w-24"}),e.jsxs("span",{className:"text-xs text-slate-400 min-w-[4rem] text-right",children:[o.completion_percentage,"%"]})]})]}),a&&o.total_steps>0&&e.jsxs("div",{className:"px-4 py-2 bg-slate-900/40 border-t border-slate-700/60",children:[e.jsxs("div",{className:"flex h-2 rounded-full overflow-hidden bg-slate-700",children:[o.done_steps>0&&e.jsx("div",{className:"bg-green-500",style:{width:`${o.done_steps/o.total_steps*100}%`}}),o.active_steps>0&&e.jsx("div",{className:"bg-blue-500",style:{width:`${o.active_steps/o.total_steps*100}%`}}),o.blocked_steps>0&&e.jsx("div",{className:"bg-red-500",style:{width:`${o.blocked_steps/o.total_steps*100}%`}})]}),e.jsxs("div",{className:"flex gap-4 mt-1.5 text-xs text-slate-500",children:[e.jsxs("span",{children:[o.done_steps," done"]}),e.jsxs("span",{children:[o.active_steps," active"]}),e.jsxs("span",{children:[o.pending_steps," pending"]}),o.blocked_steps>0&&e.jsxs("span",{className:"text-red-400",children:[o.blocked_steps," blocked"]})]})]}),a&&e.jsx("div",{className:"border-t border-slate-700/60 divide-y divide-slate-700/40",children:t.plans.length===0?e.jsx("p",{className:"px-4 py-3 text-sm text-slate-500",children:"No plans in this program"}):t.plans.map(d=>e.jsx(aN,{plan:d,workspaceId:n},d.plan_id))})]})}function iN({programs:t,workspaceId:n,className:a}){return t.length===0?e.jsx(Mu,{icon:e.jsx(ns,{className:"h-8 w-8 text-slate-500"}),title:"No programs",description:"Programs group related plans into a hierarchy. Create a program to organise your plans.",className:a}):e.jsx("div",{className:I("space-y-3",a),children:t.map(l=>e.jsx(lN,{program:l,workspaceId:n},l.program_id))})}async function oN(t,n){const a=await fetch(`/api/programs/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!a.ok){const l=await a.json().catch(()=>({error:"Failed to create program"}));throw new Error(l.error||"Failed to create program")}return a.json()}function cN({workspaceId:t,plans:n,onClose:a,onCreated:l}){const o=tt(),[d,u]=S.useState(""),[m,p]=S.useState(""),[x,v]=S.useState("medium"),[y,N]=S.useState(""),[k,j]=S.useState([]),[b,g]=S.useState(new Set),P=We({mutationFn:B=>oN(t,B),onSuccess:B=>{o.invalidateQueries({queryKey:["programs",t]}),o.invalidateQueries({queryKey:["plans",t]}),l==null||l(B.program_id),a()}}),O=n.filter(B=>!B.is_program&&B.status==="active");function C(){const B=y.trim();B&&!k.includes(B)&&(j([...k,B]),N(""))}function R(B){g(L=>{const W=new Set(L);return W.has(B)?W.delete(B):W.add(B),W})}function U(B){B.preventDefault(),d.trim()&&P.mutate({title:d.trim(),description:m.trim(),priority:x,goals:k,child_plan_ids:Array.from(b)})}return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:e.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl w-full max-w-lg max-h-[90vh] overflow-y-auto shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ns,{className:"text-violet-400",size:20}),e.jsx("h2",{className:"text-lg font-semibold",children:"Create Program"})]}),e.jsx("button",{type:"button",onClick:a,className:"p-1 rounded hover:bg-slate-700 transition-colors",children:e.jsx(Ht,{size:18,className:"text-slate-400"})})]}),e.jsxs("form",{onSubmit:U,className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Title *"}),e.jsx("input",{type:"text",value:d,onChange:B=>u(B.target.value),placeholder:"e.g. Platform Evolution Program",className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-violet-500 focus:border-violet-500 outline-none",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Description"}),e.jsx("textarea",{value:m,onChange:B=>p(B.target.value),rows:2,placeholder:"Describe the program's goals and scope",className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-violet-500 focus:border-violet-500 outline-none resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Priority"}),e.jsxs("select",{value:x,onChange:B=>v(B.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-violet-500 focus:border-violet-500 outline-none",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"critical",children:"Critical"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Goals"}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{type:"text",value:y,onChange:B=>N(B.target.value),onKeyDown:B=>{B.key==="Enter"&&(B.preventDefault(),C())},placeholder:"Add a goal and press Enter",className:"flex-1 px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-sm focus:ring-2 focus:ring-violet-500 focus:border-violet-500 outline-none"}),e.jsx("button",{type:"button",onClick:C,className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-sm transition-colors",children:e.jsx(ft,{size:14})})]}),k.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1.5",children:k.map((B,L)=>e.jsxs(fe,{variant:"bg-green-500/20 text-green-300 border-green-500/30",children:[B,e.jsx("button",{type:"button",onClick:()=>j(k.filter((W,H)=>H!==L)),className:"ml-1 hover:text-red-300",children:""})]},L))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:["Child Plans (",b.size," selected)"]}),O.length===0?e.jsx("p",{className:"text-xs text-slate-500",children:"No active plans available to add."}):e.jsx("div",{className:"max-h-48 overflow-y-auto border border-slate-600 rounded-lg divide-y divide-slate-700",children:O.map(B=>e.jsxs("label",{className:"flex items-center gap-3 px-3 py-2 hover:bg-slate-800 cursor-pointer transition-colors",children:[e.jsx("input",{type:"checkbox",checked:b.has(B.id),onChange:()=>R(B.id),className:"rounded border-slate-500 text-violet-500 focus:ring-violet-500 bg-slate-800"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm text-slate-300 truncate",children:B.title}),e.jsxs("p",{className:"text-xs text-slate-500",children:[B.progress.done,"/",B.progress.total," steps"]})]})]},B.id))})]}),P.isError&&e.jsx("p",{className:"text-sm text-red-400",children:P.error.message}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-sm text-slate-400 hover:text-white rounded-lg hover:bg-slate-700 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!d.trim()||P.isPending,className:"px-4 py-2 text-sm bg-violet-600 hover:bg-violet-500 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-lg transition-colors flex items-center gap-2",children:P.isPending?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"animate-spin",children:""}),"Creating"]}):e.jsxs(e.Fragment,{children:[e.jsx(ns,{size:14}),"Create Program"]})})]})]})]})})}function Wd({label:t,icon:n,status:a,count:l,detail:o}){const u={success:{color:"text-green-400",bg:"bg-green-500/10",icon:e.jsx(Hs,{className:"w-4 h-4"})},warning:{color:"text-amber-400",bg:"bg-amber-500/10",icon:e.jsx(zn,{className:"w-4 h-4"})},error:{color:"text-red-400",bg:"bg-red-500/10",icon:e.jsx(Oo,{className:"w-4 h-4"})},none:{color:"text-slate-400",bg:"bg-slate-500/10",icon:null}}[a];return e.jsxs("div",{className:I("flex items-center gap-3 p-3 rounded-lg",u.bg),children:[e.jsx("div",{className:I("flex-shrink-0",u.color),children:n}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-200",children:t}),l!==void 0&&e.jsx("span",{className:I("text-xs px-1.5 py-0.5 rounded",u.color,u.bg),children:l})]}),o&&e.jsx("p",{className:"text-xs text-slate-400 truncate",children:o})]}),e.jsx("div",{className:u.color,children:u.icon})]})}function dN({status:t,isLoading:n,onDeploy:a,onRefresh:l,className:o}){if(n)return e.jsx("div",{className:I("bg-slate-800 rounded-lg p-4",o),children:e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ss,{className:"w-4 h-4 animate-spin text-slate-400"}),e.jsx("span",{className:"text-sm text-slate-400",children:"Checking Copilot status..."})]})});if(!t)return e.jsx("div",{className:I("bg-slate-800 rounded-lg p-4",o),children:e.jsx("p",{className:"text-sm text-slate-400",children:"Unable to load Copilot status"})});const d=t.hasAgents&&t.hasPrompts&&t.hasInstructions?"success":t.hasAgents?"warning":"error",u={success:"Fully Configured",warning:"Partially Configured",error:"Not Configured"}[d];return e.jsxs("div",{className:I("bg-slate-800 rounded-lg overflow-hidden",o),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:""}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm",children:"VS Code Copilot"}),e.jsx("p",{className:I("text-xs",{"text-green-400":d==="success","text-amber-400":d==="warning","text-red-400":d==="error"}),children:u})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l&&e.jsx("button",{onClick:l,className:"p-1.5 hover:bg-slate-700 rounded transition-colors",title:"Refresh status",children:e.jsx(Ss,{className:"w-4 h-4 text-slate-400"})}),a&&e.jsxs("button",{onClick:a,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-blue-600 hover:bg-blue-500 rounded-lg transition-colors",children:[e.jsx(xa,{className:"w-3.5 h-3.5"}),"Deploy"]})]})]}),e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsx(Wd,{label:"Agents",icon:e.jsx(da,{className:"w-4 h-4"}),status:t.hasAgents?t.outdatedAgents>0?"warning":"success":"error",count:t.agentCount,detail:t.outdatedAgents>0?`${t.outdatedAgents} outdated`:void 0}),e.jsx(Wd,{label:"Prompts",icon:e.jsx(lt,{className:"w-4 h-4"}),status:t.hasPrompts?"success":"none",count:t.promptCount,detail:t.hasPrompts?"Workflow templates available":"No prompts configured"}),e.jsx(Wd,{label:"Instructions",icon:e.jsx(Cs,{className:"w-4 h-4"}),status:t.hasInstructions?"success":"none",count:t.instructionCount,detail:t.hasInstructions?"Coding guidelines active":"No instructions configured"})]}),t.missingFiles&&t.missingFiles.length>0&&e.jsx("div",{className:"px-4 pb-4",children:e.jsxs("div",{className:"bg-amber-500/10 border border-amber-500/30 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-amber-400 mb-2",children:[e.jsx(zn,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-semibold",children:"Missing Files"})]}),e.jsxs("ul",{className:"text-xs text-slate-400 space-y-1",children:[t.missingFiles.slice(0,5).map((m,p)=>e.jsxs("li",{className:"truncate",children:[" ",m]},p)),t.missingFiles.length>5&&e.jsxs("li",{className:"text-slate-500",children:["+",t.missingFiles.length-5," more..."]})]})]})})]})}const ig="pmd-deploy-defaults";function og(){if(typeof window>"u")return null;const t=window.localStorage.getItem(ig);if(!t)return null;try{const n=JSON.parse(t);return!n||!Array.isArray(n.agents)||!Array.isArray(n.prompts)||!Array.isArray(n.instructions)?null:n}catch{return null}}function uN(t){const n={...t,updatedAt:new Date().toISOString()};return typeof window<"u"&&window.localStorage.setItem(ig,JSON.stringify(n)),n}function Jf({isOpen:t,onClose:n,workspaceId:a,workspacePath:l,mode:o="deploy",onDefaultsSaved:d}){const[u,m]=S.useState([]),[p,x]=S.useState([]),[v,y]=S.useState([]),[N,k]=S.useState(new Set),[j,b]=S.useState(new Set),[g,P]=S.useState(new Set),[O,C]=S.useState(!0),[R,U]=S.useState(!1),[B,L]=S.useState(null),W=o==="defaults",H=(ae,pe)=>{const V=new Set(ae.map(Z=>Z.id));return pe?new Set(pe.filter(Z=>V.has(Z))):new Set(ae.map(Z=>Z.id))};S.useEffect(()=>{t&&(C(!0),Promise.all([fetch("/api/agents").then(ae=>ae.json()),fetch("/api/prompts").then(ae=>ae.json()),fetch("/api/instructions").then(ae=>ae.json())]).then(([ae,pe,V])=>{m(ae.agents||[]),x(pe.prompts||[]),y(V.instructions||[]);const Z=og();k(H(ae.agents||[],Z==null?void 0:Z.agents)),b(H(pe.prompts||[],Z==null?void 0:Z.prompts)),P(H(V.instructions||[],Z==null?void 0:Z.instructions)),C(!1)}).catch(()=>{C(!1)}))},[t]);const Q=(ae,pe,V)=>{const Z=new Set(ae);Z.has(V)?Z.delete(V):Z.add(V),pe(Z)},le=(ae,pe)=>{pe(new Set(ae.map(V=>V.id)))},G=ae=>{ae(new Set)},ne=async()=>{U(!0),L(null);try{const ae=await fetch("/api/deploy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace_id:a,workspace_path:l,agents:Array.from(N),prompts:Array.from(j),instructions:Array.from(g)})}),pe=await ae.json();ae.ok?L({success:!0,message:`Deployed ${pe.agents||0} agents, ${pe.prompts||0} prompts, ${pe.instructions||0} instructions`}):L({success:!1,message:pe.error||"Deployment failed"})}catch{L({success:!1,message:"Network error during deployment"})}finally{U(!1)}},xe=()=>{const ae=uN({agents:Array.from(N),prompts:Array.from(j),instructions:Array.from(g)});L({success:!0,message:"Deploy defaults saved"}),d==null||d(ae)};if(!t)return null;const ie=N.size+j.size+g.size;return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:n,children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg w-full max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",onClick:ae=>ae.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-white",children:W?"Configure Deploy Defaults":"Deploy to Workspace"}),e.jsx("p",{className:"text-sm text-slate-400",children:W?"Choose the default agents, prompts, and instructions for new deployments.":`Select items to deploy to ${l.split(/[/\\]/).pop()}`})]}),e.jsx("button",{onClick:n,className:"p-1 hover:bg-slate-700 rounded",children:e.jsx(Ht,{className:"w-5 h-5 text-slate-400"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[O?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-500"})}):e.jsxs(e.Fragment,{children:[e.jsx(Hd,{title:"Agents",icon:e.jsx(da,{className:"w-4 h-4"}),items:u,selected:N,onToggle:ae=>Q(N,k,ae),onSelectAll:()=>le(u,k),onSelectNone:()=>G(k),color:"violet"}),e.jsx(Hd,{title:"Prompts",icon:e.jsx(lt,{className:"w-4 h-4"}),items:p,selected:j,onToggle:ae=>Q(j,b,ae),onSelectAll:()=>le(p,b),onSelectNone:()=>G(b),color:"blue"}),e.jsx(Hd,{title:"Instructions",icon:e.jsx(Cs,{className:"w-4 h-4"}),items:v,selected:g,onToggle:ae=>Q(g,P,ae),onSelectAll:()=>le(v,P),onSelectNone:()=>G(P),color:"amber"})]}),B&&e.jsx("div",{className:I("p-3 rounded-lg",B.success?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"),children:B.message})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-slate-700 bg-slate-800/50",children:[e.jsxs("span",{className:"text-sm text-slate-400",children:[ie," items selected"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:W?xe:ne,disabled:R||!W&&ie===0,className:"flex items-center gap-2 px-4 py-2 bg-violet-600 hover:bg-violet-500 disabled:bg-slate-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:[e.jsx(xa,{className:"w-4 h-4"}),R?W?"Saving...":"Deploying...":W?"Save Defaults":"Deploy Selected"]})]})]})]})})}function Hd({title:t,icon:n,items:a,selected:l,onToggle:o,onSelectAll:d,onSelectNone:u,color:m}){const p={violet:{bg:"bg-violet-500/20",border:"border-violet-500",text:"text-violet-300",check:"bg-violet-500"},blue:{bg:"bg-blue-500/20",border:"border-blue-500",text:"text-blue-300",check:"bg-blue-500"},amber:{bg:"bg-amber-500/20",border:"border-amber-500",text:"text-amber-300",check:"bg-amber-500"}}[m];return a.length===0?e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n,e.jsx("h3",{className:"font-medium text-slate-300",children:t}),e.jsx("span",{className:"text-xs text-slate-500",children:"(none available)"})]})}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[n,e.jsx("h3",{className:"font-medium text-slate-300",children:t}),e.jsxs("span",{className:"text-xs text-slate-500",children:["(",l.size,"/",a.length,")"]})]}),e.jsxs("div",{className:"flex gap-2 text-xs",children:[e.jsx("button",{onClick:d,className:I("hover:underline",p.text),children:"All"}),e.jsx("span",{className:"text-slate-600",children:"|"}),e.jsx("button",{onClick:u,className:"text-slate-400 hover:text-slate-300",children:"None"})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:a.map(x=>e.jsxs("button",{onClick:()=>o(x.id),className:I("flex items-center gap-2 px-3 py-2 rounded-lg border text-left transition-colors text-sm",l.has(x.id)?`${p.bg} ${p.border} ${p.text}`:"bg-slate-900 border-slate-700 text-slate-400 hover:border-slate-600"),children:[e.jsx("span",{className:I("w-4 h-4 rounded border flex items-center justify-center flex-shrink-0",l.has(x.id)?`${p.check} border-transparent text-white`:"border-slate-600"),children:l.has(x.id)&&e.jsx(zl,{className:"w-3 h-3"})}),e.jsx("span",{className:"truncate",children:x.name})]},x.id))})]})}function hN({defaults:t,onConfigure:n}){const a=((t==null?void 0:t.agents.length)||0)+((t==null?void 0:t.prompts.length)||0)+((t==null?void 0:t.instructions.length)||0);return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-5",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10 text-blue-300",children:e.jsx(s1,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-white",children:"Deploy Defaults"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Used when deploying to new workspaces"})]})]})}),e.jsxs("button",{onClick:n,className:I("inline-flex items-center gap-2 px-3 py-2 rounded-lg text-xs font-medium transition-colors","bg-blue-600/20 text-blue-200 hover:bg-blue-600/30"),children:[e.jsx(e1,{className:"w-4 h-4"}),"Configure Defaults"]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-3 text-xs text-slate-300",children:[e.jsxs("div",{className:"bg-slate-900/60 rounded-lg p-3",children:[e.jsx("div",{className:"text-slate-500",children:"Agents"}),e.jsx("div",{className:"text-base font-semibold text-slate-200",children:(t==null?void 0:t.agents.length)||0})]}),e.jsxs("div",{className:"bg-slate-900/60 rounded-lg p-3",children:[e.jsx("div",{className:"text-slate-500",children:"Prompts"}),e.jsx("div",{className:"text-base font-semibold text-slate-200",children:(t==null?void 0:t.prompts.length)||0})]}),e.jsxs("div",{className:"bg-slate-900/60 rounded-lg p-3",children:[e.jsx("div",{className:"text-slate-500",children:"Instructions"}),e.jsx("div",{className:"text-base font-semibold text-slate-200",children:(t==null?void 0:t.instructions.length)||0})]})]}),e.jsx("div",{className:"mt-3 text-xs text-slate-500",children:t!=null&&t.updatedAt?`Last updated ${new Date(t.updatedAt).toLocaleString()}`:"No defaults saved yet."}),e.jsx("div",{className:"mt-2 text-xs text-slate-500",children:a===0&&t?"Defaults saved with no selections.":"Defaults persist across refreshes."})]})}function i0({title:t,subtitle:n,defaultOpen:a=!1,badge:l,actions:o,className:d,onToggle:u,children:m}){const[p,x]=S.useState(a);return e.jsxs("div",{className:I("border border-slate-700 rounded-lg overflow-hidden",d),children:[e.jsxs("button",{type:"button",onClick:()=>{x(v=>{const y=!v;return u==null||u(y),y})},className:"w-full flex items-center justify-between gap-3 px-4 py-3 bg-slate-900/60 hover:bg-slate-900/80 transition-colors text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p?e.jsx(_s,{size:16,className:"text-slate-400 shrink-0"}):e.jsx(Es,{size:16,className:"text-slate-400 shrink-0"}),e.jsx("h4",{className:"text-sm font-semibold text-white truncate",children:t}),l&&e.jsx("span",{className:"shrink-0",children:l})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[n&&e.jsx("span",{className:"text-xs text-slate-500",children:n}),o&&e.jsx("span",{onClick:v=>v.stopPropagation(),className:"flex items-center gap-1",children:o})]})]}),p&&e.jsx("div",{className:"px-4 py-3 bg-slate-900/40",children:m})]})}const o0=[{key:"project_details",label:"Project Details",description:"High-level details such as stack, ownership, and scope."},{key:"purpose",label:"Purpose",description:"What this workspace exists to deliver."},{key:"dependencies",label:"Dependencies",description:"Key services, packages, or systems this project relies on."},{key:"modules",label:"Modules",description:"Core modules and how responsibilities are divided."},{key:"test_confirmations",label:"Test Confirmations",description:"Required test suites, validations, and completion checks."},{key:"dev_patterns",label:"Dev Patterns",description:"Preferred development patterns, conventions, and workflows."},{key:"resources",label:"Resources",description:"Docs, dashboards, and reference material for the team."}],mN=new Set(o0.map(t=>t.key)),fN=t=>t.split("_").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" "),Du=()=>o0.reduce((t,n)=>(t[n.key]={summary:"",items:[]},t),{}),Xf=t=>{const n=Du();if(!(t!=null&&t.sections))return n;for(const[a,l]of Object.entries(t.sections))n[a]={summary:l.summary||"",items:(l.items||[]).map(o=>({title:o.title,description:o.description||"",links:(o.links||[]).join(`
`)}))};return n},pN=t=>{const n={};for(const[a,l]of Object.entries(t)){const o=l.items.map(d=>({title:d.title.trim(),description:d.description.trim()||void 0,links:d.links.split(`
`).map(u=>u.trim()).filter(Boolean)})).filter(d=>d.title.length>0);n[a]={summary:l.summary.trim()||void 0,items:o.length>0?o:void 0}}return n};async function xN(t){const n=await fetch(`/api/workspaces/${t}/context`);if(!n.ok){const a=await n.json().catch(()=>({}));throw new Error(a.error||"Failed to fetch workspace context")}return n.json()}function gN({workspaceId:t,workspaceName:n}){var B;const a=tt(),[l,o]=S.useState(()=>Du()),[d,u]=S.useState(!1),[m,p]=S.useState(!1),[x,v]=S.useState(!1),{data:y,isLoading:N,error:k}=Le({queryKey:["workspace-context",t],queryFn:()=>xN(t),enabled:!!t});S.useEffect(()=>{y&&!d&&(o(Xf(y.context)),u(!0),p(!1))},[y,d]),S.useEffect(()=>{o(Du()),u(!1),p(!1)},[t]);const j=We({mutationFn:async()=>{const L={name:n,sections:pN(l)},W=await fetch(`/api/workspaces/${t}/context`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});if(!W.ok){const H=await W.json().catch(()=>({}));throw new Error(H.error||"Failed to save workspace context")}return W.json()},onSuccess:L=>{L!=null&&L.context&&o(Xf(L.context)),u(!0),p(!1),a.invalidateQueries({queryKey:["workspace-context",t]})}}),b=(L,W)=>{o(H=>({...H,[L]:{...H[L],summary:W}})),p(!0)},g=(L,W,H,Q)=>{o(le=>{const G=[...le[L].items];return G[W]={...G[W],[H]:Q},{...le,[L]:{...le[L],items:G}}}),p(!0)},P=L=>{o(W=>({...W,[L]:{...W[L],items:[...W[L].items,{title:"",description:"",links:""}]}})),p(!0)},O=(L,W)=>{o(H=>({...H,[L]:{...H[L],items:H[L].items.filter((Q,le)=>le!==W)}})),p(!0)},C=S.useMemo(()=>{var L;return(L=y==null?void 0:y.context)!=null&&L.updated_at?`Last updated ${new Date(y.context.updated_at).toLocaleString()}`:"No saved context yet."},[(B=y==null?void 0:y.context)==null?void 0:B.updated_at]),R=S.useMemo(()=>Object.keys(l).filter(L=>!mN.has(L)),[l]),U=(L,W,H)=>{const Q=l[L];if(!Q)return null;const le=Q.items.filter(ne=>ne.title.trim()).length,G=!!Q.summary.trim();return e.jsxs(i0,{title:W,subtitle:H,defaultOpen:!1,badge:G||le>0?e.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-emerald-900/50 text-emerald-300",children:le>0?`${le} item${le>1?"s":""}`:"has summary"}):void 0,actions:x?e.jsxs("button",{onClick:()=>P(L),className:"inline-flex items-center gap-1 text-xs text-emerald-300 hover:text-emerald-200",children:[e.jsx(ft,{className:"w-3 h-3"}),"Add"]}):void 0,children:[!x&&e.jsxs("div",{children:[G&&e.jsx("p",{className:"text-sm text-slate-300 mb-3",children:Q.summary}),le>0?e.jsx("div",{className:"space-y-2",children:Q.items.filter(ne=>ne.title.trim()).map((ne,xe)=>e.jsxs("div",{className:"border border-slate-700/50 rounded p-3",children:[e.jsx("div",{className:"text-sm font-medium text-slate-200",children:ne.title}),ne.description&&e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:ne.description}),ne.links&&ne.links.trim()&&e.jsx("div",{className:"mt-1.5 space-y-0.5",children:ne.links.split(`
`).filter(Boolean).map((ie,ae)=>e.jsx("div",{className:"text-xs text-violet-400 font-mono truncate",children:ie},ae))})]},xe))}):G?null:e.jsx("p",{className:"text-xs text-slate-500 italic",children:"No content yet"})]}),x&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-slate-400 mb-2",children:"Summary"}),e.jsx("textarea",{value:Q.summary,onChange:ne=>b(L,ne.target.value),rows:2,className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-100 focus:outline-none focus:border-emerald-500",placeholder:`Add a short summary for ${W.toLowerCase()}...`}),Q.items.length>0&&e.jsx("div",{className:"mt-4 space-y-3",children:Q.items.map((ne,xe)=>e.jsx("div",{className:"border border-slate-700/60 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("input",{type:"text",value:ne.title,onChange:ie=>g(L,xe,"title",ie.target.value),placeholder:"Title",className:"w-full bg-slate-950 border border-slate-700 rounded px-3 py-2 text-sm text-slate-100 focus:outline-none focus:border-emerald-500"}),e.jsx("textarea",{value:ne.description,onChange:ie=>g(L,xe,"description",ie.target.value),placeholder:"Description",rows:2,className:"w-full bg-slate-950 border border-slate-700 rounded px-3 py-2 text-sm text-slate-100 focus:outline-none focus:border-emerald-500"}),e.jsx("textarea",{value:ne.links,onChange:ie=>g(L,xe,"links",ie.target.value),placeholder:"Links (one per line)",rows:2,className:"w-full bg-slate-950 border border-slate-700 rounded px-3 py-2 text-xs text-slate-200 font-mono focus:outline-none focus:border-emerald-500"})]}),e.jsx("button",{onClick:()=>O(L,xe),className:"p-2 text-slate-500 hover:text-red-400",title:"Remove item",children:e.jsx(Wt,{className:"w-4 h-4"})})]})},`${L}-item-${xe}`))})]})]},L)};return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Workspace Context"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Maintain shared context for the workspace across agents."}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:C})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>v(L=>!L),className:I("inline-flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors",x?"bg-amber-600/20 text-amber-300 hover:bg-amber-600/30":"bg-slate-700 text-slate-300 hover:bg-slate-600"),children:[e.jsx(Px,{className:"w-4 h-4"}),x?"Editing":"Edit"]}),x&&e.jsxs("button",{onClick:()=>j.mutate(),disabled:!m||j.isPending,className:I("inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors",m?"bg-emerald-600 hover:bg-emerald-500 text-white":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:[j.isPending?e.jsx(Bt,{className:"w-4 h-4 animate-spin"}):e.jsx(ca,{className:"w-4 h-4"}),j.isPending?"Saving...":"Save"]})]})]}),N&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400 mt-6",children:[e.jsx(Bt,{className:"w-4 h-4 animate-spin"}),"Loading workspace context..."]}),k&&e.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-red-400",children:[e.jsx(zn,{className:"w-4 h-4"}),k.message]}),!N&&e.jsxs("div",{className:"mt-6 space-y-2",children:[o0.map(L=>U(L.key,L.label,L.description)),R.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-slate-700/50 pt-3 mt-4",children:e.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wider mb-2",children:"Agent-Created Sections"})}),R.map(L=>U(L,fN(L),`Custom section: ${L}`))]})]})]})}const yN=[{value:"reference",label:"Reference"},{value:"schema",label:"Schema"},{value:"config",label:"Config"},{value:"convention",label:"Convention"},{value:"limitation",label:"Limitation"},{value:"plan-summary",label:"Plan Summary"}];function vN({existingFile:t,onSave:n,onCancel:a,isSaving:l}){const o=!!t,[d,u]=S.useState((t==null?void 0:t.title)||""),[m,p]=S.useState((t==null?void 0:t.slug)||""),[x,v]=S.useState((t==null?void 0:t.category)||"reference"),[y,N]=S.useState((t==null?void 0:t.content)||""),[k,j]=S.useState(((t==null?void 0:t.tags)||[]).join(", "));S.useEffect(()=>{t&&(u(t.title),p(t.slug),v(t.category),N(t.content),j((t.tags||[]).join(", ")))},[t]),S.useEffect(()=>{if(!o&&d){const g=d.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"").slice(0,100);p(g)}},[d,o]);const b=g=>{g.preventDefault();const P=k.split(",").map(O=>O.trim()).filter(Boolean);n({slug:m,title:d,category:x,content:y,tags:P})};return e.jsxs("form",{onSubmit:b,className:"space-y-4 p-4 border border-slate-600 rounded-lg bg-slate-800/50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-semibold text-white",children:o?"Edit Knowledge File":"New Knowledge File"}),e.jsx("button",{type:"button",onClick:a,className:"text-slate-400 hover:text-slate-200",children:e.jsx(Ht,{size:16})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"kf-title",className:"block text-xs text-slate-400 mb-1",children:"Title"}),e.jsx("input",{id:"kf-title",type:"text",value:d,onChange:g=>u(g.target.value),className:"w-full px-3 py-1.5 bg-slate-900 border border-slate-600 rounded text-sm text-white",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"kf-slug",className:"block text-xs text-slate-400 mb-1",children:"Slug"}),e.jsx("input",{id:"kf-slug",type:"text",value:m,onChange:g=>p(g.target.value),className:"w-full px-3 py-1.5 bg-slate-900 border border-slate-600 rounded text-sm text-white",required:!0,disabled:o,pattern:"[a-z0-9][a-z0-9-]*[a-z0-9]|[a-z0-9]"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"kf-category",className:"block text-xs text-slate-400 mb-1",children:"Category"}),e.jsx("select",{id:"kf-category",value:x,onChange:g=>v(g.target.value),className:"w-full px-3 py-1.5 bg-slate-900 border border-slate-600 rounded text-sm text-white",children:yN.map(g=>e.jsx("option",{value:g.value,children:g.label},g.value))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"kf-tags",className:"block text-xs text-slate-400 mb-1",children:"Tags (comma-separated)"}),e.jsx("input",{id:"kf-tags",type:"text",value:k,onChange:g=>j(g.target.value),className:"w-full px-3 py-1.5 bg-slate-900 border border-slate-600 rounded text-sm text-white",placeholder:"e.g. api, auth"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"kf-content",className:"block text-xs text-slate-400 mb-1",children:"Content (Markdown)"}),e.jsx("textarea",{id:"kf-content",value:y,onChange:g=>N(g.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded text-sm text-white font-mono resize-y",rows:10,required:!0})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:a,className:"px-3 py-1.5 text-sm text-slate-400 hover:text-white",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:l||!d.trim()||!m.trim(),className:"flex items-center gap-1.5 px-3 py-1.5 bg-violet-500 text-white text-sm rounded hover:bg-violet-600 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(ca,{size:14}),l?"Saving...":o?"Update":"Create"]})]})]})}const Zf={schema:"bg-blue-500/20 text-blue-300 border-blue-500/50",config:"bg-amber-500/20 text-amber-300 border-amber-500/50",limitation:"bg-red-500/20 text-red-300 border-red-500/50","plan-summary":"bg-violet-500/20 text-violet-300 border-violet-500/50",reference:"bg-cyan-500/20 text-cyan-300 border-cyan-500/50",convention:"bg-emerald-500/20 text-emerald-300 border-emerald-500/50"};async function bN(t,n){const a=await fetch(`/api/workspaces/${t}/knowledge/${n}`);if(!a.ok)throw new Error("Failed to fetch knowledge file");return(await a.json()).file}function jN({workspaceId:t,file:n,onEdit:a,onDelete:l}){const[o,d]=S.useState(!1),[u,m]=S.useState(!1),{data:p,isLoading:x}=Le({queryKey:["knowledge-file",t,n.slug],queryFn:()=>bN(t,n.slug),enabled:o,staleTime:3e4}),v=Zf[n.category]||Zf.reference;return e.jsxs("div",{className:"border border-slate-700 rounded-lg overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>d(y=>!y),className:"w-full flex items-center justify-between gap-3 px-3 py-2.5 bg-slate-900/60 hover:bg-slate-900/80 transition-colors text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o?e.jsx(_s,{size:14,className:"text-slate-400 shrink-0"}):e.jsx(Es,{size:14,className:"text-slate-400 shrink-0"}),e.jsx("span",{className:"text-sm font-medium text-white truncate",children:n.title}),e.jsx(fe,{variant:v,children:n.category})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx("span",{className:"text-xs text-slate-500",children:Nt(n.updated_at)}),e.jsx("span",{onClick:y=>{y.stopPropagation(),p?a(p):d(!0)},className:"text-slate-400 hover:text-violet-400 cursor-pointer p-1",children:e.jsx(Px,{size:13})}),e.jsx("span",{onClick:y=>{y.stopPropagation(),m(!0)},className:"text-slate-400 hover:text-red-400 cursor-pointer p-1",children:e.jsx(Wt,{size:13})})]})]}),u&&e.jsxs("div",{className:"px-3 py-2 bg-red-900/20 border-t border-red-500/30 flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-red-300",children:['Delete "',n.title,'"?']}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>m(!1),className:"px-2 py-1 text-xs text-slate-400 hover:text-white",children:"Cancel"}),e.jsx("button",{onClick:()=>{l(n.slug),m(!1)},className:"px-2 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700",children:"Delete"})]})]}),o&&e.jsx("div",{className:"px-4 py-3 bg-slate-900/40 border-t border-slate-700",children:x?e.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm py-4 justify-center",children:[e.jsx(Bt,{size:14,className:"animate-spin"}),"Loading content..."]}):p?e.jsxs("div",{className:"space-y-2",children:[p.tags.length>0&&e.jsx("div",{className:"flex gap-1 flex-wrap mb-2",children:p.tags.map(y=>e.jsx("span",{className:"px-1.5 py-0.5 text-[10px] bg-slate-700/50 text-slate-400 rounded",children:y},y))}),e.jsx("pre",{className:"text-sm text-slate-300 whitespace-pre-wrap font-mono bg-slate-950/50 p-3 rounded-lg border border-slate-700/50 max-h-96 overflow-y-auto",children:p.content}),e.jsxs("div",{className:"flex gap-4 text-[10px] text-slate-500 pt-1",children:[e.jsxs("span",{children:["Created: ",new Date(p.created_at).toLocaleDateString()]}),p.created_by_agent&&e.jsxs("span",{children:["By: ",p.created_by_agent]}),p.created_by_plan&&e.jsxs("span",{children:["Plan: ",p.created_by_plan]})]})]}):e.jsx("p",{className:"text-sm text-red-400",children:"Failed to load content"})})]})}async function wN(t){const n=await fetch(`/api/workspaces/${t}/knowledge`);if(!n.ok)throw new Error("Failed to fetch knowledge files");return(await n.json()).files}async function NN(t,n){const a=await fetch(`/api/workspaces/${t}/knowledge/${n.slug}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!a.ok){const o=await a.json().catch(()=>({error:a.statusText}));throw new Error(o.error||"Failed to save knowledge file")}return(await a.json()).file}async function kN(t,n){if(!(await fetch(`/api/workspaces/${t}/knowledge/${n}`,{method:"DELETE"})).ok)throw new Error("Failed to delete knowledge file")}function SN({workspaceId:t}){const n=tt(),[a,l]=S.useState(!1),[o,d]=S.useState(null),[u,m]=S.useState(null),{data:p=[],isLoading:x,error:v,refetch:y}=Le({queryKey:["knowledge-files",t],queryFn:()=>wN(t),staleTime:3e4}),N=We({mutationFn:C=>NN(t,C),onSuccess:()=>{n.invalidateQueries({queryKey:["knowledge-files",t]}),n.invalidateQueries({queryKey:["knowledge-file",t]}),l(!1),d(null),m(null)},onError:C=>m(C.message)}),k=We({mutationFn:C=>kN(t,C),onSuccess:()=>{n.invalidateQueries({queryKey:["knowledge-files",t]}),m(null)},onError:C=>m(C.message)}),j=S.useCallback(C=>{N.mutate(C)},[N]),b=S.useCallback(C=>{d(C),l(!0),m(null)},[]),g=S.useCallback(C=>{k.mutate(C)},[k]),P=S.useCallback(()=>{l(!1),d(null),m(null)},[]),O=e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:C=>{C.stopPropagation(),y()},className:"p-1 text-slate-400 hover:text-white transition-colors",title:"Refresh",children:e.jsx(Ss,{size:14})}),e.jsxs("button",{onClick:C=>{C.stopPropagation(),d(null),l(!0),m(null)},className:"flex items-center gap-1 px-2 py-1 text-xs bg-violet-600 text-white rounded hover:bg-violet-700 transition-colors",children:[e.jsx(ft,{size:12}),"New"]})]});return e.jsx(i0,{title:"Knowledge Files",subtitle:"Persistent knowledge base",badge:p.length>0?String(p.length):void 0,actions:O,children:e.jsxs("div",{className:"space-y-3",children:[u&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-red-900/20 border border-red-500/30 rounded-lg",children:[e.jsx(ut,{size:14,className:"text-red-400 shrink-0"}),e.jsx("span",{className:"text-xs text-red-300 flex-1",children:u}),e.jsx("button",{onClick:()=>m(null),className:"text-red-400 hover:text-white text-xs",children:"Dismiss"})]}),a&&e.jsx(vN,{existingFile:o,onSave:j,onCancel:P,isSaving:N.isPending}),x&&e.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm py-6 justify-center",children:[e.jsx(Bt,{size:14,className:"animate-spin"}),"Loading knowledge files..."]}),v&&!x&&e.jsxs("div",{className:"text-center py-6",children:[e.jsx(ut,{size:20,className:"mx-auto text-red-400 mb-2"}),e.jsx("p",{className:"text-sm text-red-400",children:"Failed to load knowledge files"}),e.jsx("button",{onClick:()=>y(),className:"text-xs text-violet-400 hover:underline mt-1",children:"Retry"})]}),!x&&!v&&p.length===0&&!a&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Cs,{size:24,className:"mx-auto text-slate-500 mb-2"}),e.jsx("p",{className:"text-sm text-slate-400",children:"No knowledge files yet"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Knowledge files store persistent context that agents can reference across sessions."})]}),!x&&p.length>0&&e.jsx("div",{className:"space-y-1.5",children:p.map(C=>e.jsx(jN,{workspaceId:t,file:C,onEdit:b,onDelete:g},C.slug))})]})})}async function CN(t){var k,j,b;const[n,a,l]=await Promise.all([fetch(`${fo}/api/agents`),fetch(`${fo}/api/prompts`),fetch(`${fo}/api/instructions/workspace/${t}`)]),o=n.ok?await n.json():{agents:[]},d=a.ok?await a.json():{prompts:[]},u=l.ok?await l.json():{instructions:[]};let m=0;const p=[];if(o.agents&&Array.isArray(o.agents)){for(const g of o.agents)if(g.deployments){const P=g.deployments.find(O=>O.workspace_id===t);P?P.sync_status==="outdated"&&m++:p.push(`${g.agent_id}.agent.md`)}}const x=((k=o.agents)==null?void 0:k.length)||0,v=((j=d.prompts)==null?void 0:j.length)||0,y=((b=u.instructions)==null?void 0:b.length)||0;return{status:{hasAgents:x>0,hasPrompts:v>0,hasInstructions:y>0,agentCount:x,promptCount:v,instructionCount:y,outdatedAgents:m,missingFiles:p}}}function _N(t){return Le({queryKey:["copilot-status",t],queryFn:()=>CN(t),enabled:!!t,staleTime:1e3*30,refetchInterval:1e3*60})}async function EN(t){const n=await fetch(`/api/workspaces/${t}`);if(!n.ok)throw new Error("Failed to fetch workspace");return n.json()}async function PN(t,n){const a=await fetch(`/api/workspaces/${t}/display-name`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({display_name:n})});if(!a.ok){const o=await a.json().catch(()=>({}));throw new Error(typeof o.error=="string"?o.error:"Failed to update workspace display name")}return(await a.json()).workspace}function RN(){var _e,Pe;const{workspaceId:t}=Dn(),n=Mn(),a=tt(),[l,o]=S.useState(!1),[d,u]=S.useState(!1),[m,p]=S.useState(!1),[x,v]=S.useState(!1),[y,N]=S.useState(null),[k,j]=S.useState(()=>og()),[b,g]=S.useState(!1),[P,O]=S.useState(""),[C,R]=S.useState(!1),[U,B]=S.useState(null),{data:L,isLoading:W}=Le({queryKey:["workspace",t],queryFn:()=>EN(t),enabled:!!t}),{data:H,isLoading:Q}=V2(t),{data:le,isLoading:G,refetch:ne}=_N(t),{data:xe}=I2(t),ie=(H==null?void 0:H.plans)||[],ae=ie.filter(be=>!be.is_program),pe=(xe==null?void 0:xe.programs)||[],V=ie.some(be=>be.status==="active")?"active":(ie.length>0,"idle");if(W)return e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-slate-700 rounded w-48"}),e.jsx("div",{className:"h-32 bg-slate-800 rounded-lg"}),e.jsx("div",{className:"h-64 bg-slate-800 rounded-lg"})]});if(!L)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-400 text-lg",children:"Workspace not found"}),e.jsx(Te,{to:"/",className:"text-violet-400 hover:underline mt-2 inline-block",children:"Return to dashboard"})]});const Z=L.name,re=P.trim(),M=re.length>0&&re!==Z,q=()=>{O(Z),B(null),g(!0)},ge=()=>{O(Z),B(null),g(!1)},we=async()=>{const be=P.trim();if(!be){B("Display name is required");return}if(be===Z){g(!1),B(null);return}R(!0),B(null);try{await PN(t,be),g(!1),await Promise.all([a.invalidateQueries({queryKey:["workspace",t]}),a.invalidateQueries({queryKey:["workspaces"]})])}catch(Oe){const ee=Oe instanceof Error?Oe.message:"Failed to update workspace display name";B(ee)}finally{R(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Te,{to:"/",className:"inline-flex items-center gap-2 text-slate-400 hover:text-slate-200 transition-colors",children:[e.jsx(An,{size:16}),"Back to Dashboard"]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 bg-violet-500/20 rounded-lg",children:e.jsx(fa,{className:"text-violet-400",size:32})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[b?e.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full",children:[e.jsx("input",{value:P,onChange:be=>{O(be.target.value),U&&B(null)},className:"px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-slate-100 text-lg font-semibold w-full max-w-xl",disabled:C,"aria-label":"Workspace display name"}),e.jsx("button",{onClick:()=>void we(),disabled:C||!M,className:"px-3 py-2 bg-violet-500 text-white rounded-lg hover:bg-violet-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:C?"Saving":"Save"}),e.jsx("button",{onClick:ge,disabled:C,className:"px-3 py-2 bg-slate-700 text-slate-200 rounded-lg hover:bg-slate-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-2xl font-bold",children:Z}),e.jsx("button",{onClick:q,className:"px-2 py-1 bg-slate-700/70 text-slate-200 rounded-md hover:bg-slate-600 transition-colors text-xs",children:"Edit name"})]}),e.jsx(bl,{health:V,showLabel:!0})]}),U&&e.jsx("p",{className:"text-sm text-red-400 mb-2",children:U}),e.jsx("p",{className:"text-slate-400 mb-4 font-mono text-sm",children:L.path}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsxs(Te,{to:`/workspace/${t}/status`,className:"inline-flex items-center gap-2 px-3 py-2 bg-slate-700/60 text-slate-200 rounded-lg hover:bg-slate-700 transition-colors text-sm",children:[e.jsx(vr,{size:16}),"Workspace Status"]}),e.jsxs(Te,{to:`/workspace/${t}/data-root`,className:"inline-flex items-center gap-2 px-3 py-2 bg-slate-700/60 text-slate-200 rounded-lg hover:bg-slate-700 transition-colors text-sm",children:[e.jsx(To,{size:16}),"Data Root"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lt,{size:16,className:"text-slate-500"}),e.jsxs("span",{className:"text-slate-300",children:[L.active_plans.length," active"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lt,{size:16,className:"text-slate-500"}),e.jsxs("span",{className:"text-slate-400",children:[L.archived_plans.length," archived"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_u,{size:16,className:"text-slate-500"}),e.jsxs("span",{className:"text-slate-400",children:["Registered ",wl(L.registered_at)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_u,{size:16,className:"text-slate-500"}),e.jsxs("span",{className:"text-slate-400",children:["Updated ",Nt(L.last_accessed)]})]})]})]})]}),L.profile&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-700",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-400 mb-3",children:"Codebase Profile"}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(wx,{size:16,className:"text-slate-500"}),e.jsxs("span",{className:"text-slate-300",children:[((_e=L.profile.total_files)==null?void 0:_e.toLocaleString())||0," files"]})]}),(Pe=L.profile.languages)==null?void 0:Pe.slice(0,5).map(be=>e.jsxs("span",{className:"px-2 py-1 bg-slate-700/50 rounded text-sm text-slate-300",children:[be.name," ",be.percentage,"%"]},be.name))]})]})]}),e.jsx(dN,{status:(le==null?void 0:le.status)||null,isLoading:G,onRefresh:()=>ne(),onDeploy:()=>p(!0)}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Configuration & Context"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Manage shared workspace defaults and documentation."})]}),e.jsx(hN,{defaults:k,onConfigure:()=>v(!0)}),e.jsx(gN,{workspaceId:t,workspaceName:L.name}),e.jsx(SN,{workspaceId:t})]}),e.jsx(rN,{onSelectTemplate:be=>{N(be),o(!0)}}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ns,{size:20,className:"text-violet-400"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Integrated Programs"}),pe.length>0&&e.jsx("span",{className:"text-xs text-slate-500 bg-slate-700/50 px-2 py-0.5 rounded-full",children:pe.length}),e.jsxs("button",{onClick:()=>u(!0),className:"ml-auto flex items-center gap-1.5 px-3 py-1.5 text-sm bg-violet-600/20 text-violet-300 hover:bg-violet-600/30 rounded-lg transition-colors",children:[e.jsx(ft,{size:14}),"Create Program"]})]}),pe.length>0?e.jsx(iN,{programs:pe,workspaceId:t}):e.jsx("p",{className:"text-sm text-slate-500",children:"No programs yet. Create one to group related plans."})]}),d&&e.jsx(cN,{workspaceId:t,plans:ae,onClose:()=>u(!1),onCreated:be=>n(`/workspace/${t}/program/${be}`)}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Plans"}),e.jsxs("button",{onClick:()=>{N(null),o(!0)},className:"px-4 py-2 bg-violet-500 text-white rounded-lg hover:bg-violet-600 transition-colors flex items-center gap-2",children:[e.jsx(ft,{size:16}),"New Plan"]})]}),e.jsx(Z2,{plans:ae,workspaceId:t,isLoading:Q,programs:pe})]}),l&&e.jsx(sN,{workspaceId:t,initialTemplate:y,onSuccess:be=>{o(!1),N(null),a.invalidateQueries({queryKey:["plans",t]}),n(`/workspace/${t}/plan/${be}`)},onCancel:()=>{o(!1),N(null)}}),e.jsx(Jf,{isOpen:m,onClose:()=>{p(!1),ne()},workspaceId:t,workspacePath:(L==null?void 0:L.path)||""}),e.jsx(Jf,{isOpen:x,onClose:()=>v(!1),workspaceId:t,workspacePath:(L==null?void 0:L.path)||"",mode:"defaults",onDefaultsSaved:be=>j(be)})]})}function TN({steps:t,onSave:n,onCancel:a}){const[l,o]=S.useState([...t]),[d,u]=S.useState(null),m=(O,C)=>{const R=C-1;if(R<0||R>=l.length||R===O)return;const U=[...l],[B]=U.splice(O,1);U.splice(R,0,B),o(p(U))},p=O=>O.map((C,R)=>({...C,index:R})),x=(O,C)=>{const R=[...l],U=C==="up"?O-1:O+1;U<0||U>=R.length||([R[O],R[U]]=[R[U],R[O]],o(p(R)))},v=O=>{const C=[...l],R=C.splice(O,1)[0];C.unshift(R),o(p(C))},y=(O,C)=>{const R=[...new Set(l.map(W=>W.phase))],U=R.indexOf(O),B=C==="up"?U-1:U+1;if(B<0||B>=R.length)return;[R[U],R[B]]=[R[B],R[U]];const L=[];R.forEach(W=>{const H=l.filter(Q=>Q.phase===W);L.push(...H)}),o(p(L))},N=(O,C)=>{const R=[...l];R[O]={...R[O],...C},o(R)},k=O=>{const C=l.filter((R,U)=>U!==O);o(p(C)),u(null)},j=(O,C)=>{const R=[...l],U={index:O+1,phase:C,task:"New task",status:"pending",type:"standard"};R.splice(O+1,0,U),o(p(R))},b=["standard","analysis","validation","user_validation","complex","critical","build","fix","refactor","confirmation","research","planning","code","test","documentation"],g=l.reduce((O,C)=>(O[C.phase]||(O[C.phase]=[]),O[C.phase].push(C),O),{}),P=Object.keys(g);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Edit Plan Steps"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:a,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>n(l),className:"px-4 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors",children:"Save Changes"})]})]}),P.map((O,C)=>e.jsxs("div",{className:"border border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[O,e.jsxs("span",{className:"text-xs text-slate-500",children:["(",g[O].length," ",g[O].length===1?"step":"steps",")"]})]}),e.jsxs("div",{className:"flex gap-1",children:[C>0&&e.jsx("button",{onClick:()=>y(O,"up"),className:"p-1 hover:bg-slate-700 rounded transition-colors",title:"Move phase up",children:e.jsx(Ff,{size:16,className:"text-slate-400"})}),C<P.length-1&&e.jsx("button",{onClick:()=>y(O,"down"),className:"p-1 hover:bg-slate-700 rounded transition-colors",title:"Move phase down",children:e.jsx(Af,{size:16,className:"text-slate-400"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[g[O].map(R=>e.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-3",children:d===R.index?e.jsxs("div",{className:"flex items-center justify-between bg-red-900/20 -m-3 p-3 rounded-lg",children:[e.jsx("span",{className:"text-red-400",children:"Delete this step?"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>u(null),className:"px-3 py-1 bg-slate-700 hover:bg-slate-600 rounded text-sm transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>k(R.index),className:"px-3 py-1 bg-red-600 hover:bg-red-500 text-white rounded text-sm transition-colors",children:"Confirm Delete"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1 pt-1",children:[e.jsx("button",{onClick:()=>v(R.index),className:"p-1 hover:bg-violet-700 rounded transition-colors",title:"Prioritize (move to top)",disabled:R.index===0,children:e.jsx(Lj,{size:14,className:R.index===0?"text-slate-600":"text-violet-400"})}),e.jsx("button",{onClick:()=>x(R.index,"up"),className:"p-1 hover:bg-slate-700 rounded transition-colors",title:"Move up",disabled:R.index===0,children:e.jsx(Ff,{size:14,className:R.index===0?"text-slate-600":"text-slate-400"})}),e.jsx("button",{onClick:()=>x(R.index,"down"),className:"p-1 hover:bg-slate-700 rounded transition-colors",title:"Move down",disabled:R.index===l.length-1,children:e.jsx(Af,{size:14,className:R.index===l.length-1?"text-slate-600":"text-slate-400"})})]}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",min:1,max:l.length,value:R.index+1,onChange:U=>{const B=parseInt(U.target.value,10);isNaN(B)||m(R.index,B)},title:"Step position (drag or type to reorder)",className:"w-12 text-center text-sm font-mono text-slate-400 bg-slate-800 border border-slate-600 rounded px-1 py-0.5 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-violet-500"}),e.jsxs("select",{value:R.status,onChange:U=>N(R.index,{status:U.target.value}),className:"px-2 py-1 bg-slate-700 border border-slate-600 rounded text-sm",children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"done",children:"Done"}),e.jsx("option",{value:"blocked",children:"Blocked"})]}),e.jsx("select",{value:R.type||"standard",onChange:U=>N(R.index,{type:U.target.value}),className:"px-2 py-1 bg-slate-700 border border-slate-600 rounded text-sm",children:b.map(U=>e.jsx("option",{value:U,children:U},U))}),e.jsx(fe,{variant:n0[R.status],children:R.status}),R.type&&e.jsx(fe,{variant:a0[R.type],children:R.type})]}),e.jsx("textarea",{value:R.task,onChange:U=>N(R.index,{task:U.target.value}),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded text-slate-200 resize-none focus:outline-none focus:ring-2 focus:ring-violet-500",rows:2}),e.jsx("input",{type:"text",value:R.phase,onChange:U=>N(R.index,{phase:U.target.value}),placeholder:"Phase name",className:"w-full px-3 py-1.5 bg-slate-900 border border-slate-600 rounded text-sm text-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500"}),e.jsxs("details",{className:"text-sm",children:[e.jsxs("summary",{className:"cursor-pointer text-slate-400 hover:text-slate-200",children:["Notes ",R.notes?"(has notes)":"(none)"]}),e.jsx("textarea",{value:R.notes||"",onChange:U=>N(R.index,{notes:U.target.value||void 0}),placeholder:"Optional notes for this step",className:"w-full mt-2 px-3 py-2 bg-slate-900 border border-slate-600 rounded text-slate-300 resize-none focus:outline-none focus:ring-2 focus:ring-violet-500",rows:2})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"text",value:R.assignee||"",onChange:U=>N(R.index,{assignee:U.target.value||void 0}),placeholder:"Assignee (optional)",className:"px-3 py-1.5 bg-slate-900 border border-slate-600 rounded text-sm text-slate-300 focus:outline-none focus:ring-2 focus:ring-violet-500"}),e.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[e.jsx("input",{type:"checkbox",checked:!!R.requires_validation,onChange:U=>N(R.index,{requires_validation:U.target.checked}),className:"h-4 w-4 rounded border-slate-600 bg-slate-900 text-violet-500 focus:ring-violet-500"}),"Requires validation"]})]})]}),e.jsx("button",{onClick:()=>u(R.index),className:"p-2 hover:bg-red-900/30 rounded transition-colors",title:"Delete step",children:e.jsx(Wt,{size:16,className:"text-red-400"})})]}),e.jsxs("button",{onClick:()=>j(R.index,O),className:"mt-2 w-full py-1.5 border border-dashed border-slate-600 hover:border-violet-500 hover:bg-violet-900/10 rounded text-sm text-slate-400 hover:text-violet-300 transition-colors flex items-center justify-center gap-2",children:[e.jsx(ft,{size:14}),"Add step after this"]})]})},R.index)),e.jsxs("button",{onClick:()=>j(g[O][g[O].length-1].index,O),className:"w-full py-2 border-2 border-dashed border-slate-600 hover:border-violet-500 hover:bg-violet-900/10 rounded text-sm text-slate-400 hover:text-violet-300 transition-colors flex items-center justify-center gap-2",children:[e.jsx(ft,{size:16}),"Add step to ",O]})]})]},O))]})}const ON=["pending","active","done","blocked"],MN={pending:"Pending",active:"Active",done:"Done",blocked:"Blocked"},DN={pending:"bg-slate-600/40 text-slate-300 border-slate-500/50",active:"bg-blue-600/40 text-blue-300 border-blue-500/50",done:"bg-emerald-600/40 text-emerald-300 border-emerald-500/50",blocked:"bg-red-600/40 text-red-300 border-red-500/50"};function zN({steps:t,filters:n,sort:a,onFiltersChange:l,onSortChange:o}){const[d,u]=S.useState(!1),m=Array.from(new Set(t.map(b=>b.type).filter(Boolean))),p=Array.from(new Set(t.map(b=>b.assignee).filter(Boolean))),x=n.status.length+n.type.length+n.assignee.length+(n.search?1:0),v=()=>{l({status:[],type:[],assignee:[],search:""})},y=b=>{const g=n.status.includes(b)?n.status.filter(P=>P!==b):[...n.status,b];l({...n,status:g})},N=b=>{const g=n.type.includes(b)?n.type.filter(P=>P!==b):[...n.type,b];l({...n,type:g})},k=b=>{const g=n.assignee.includes(b)?n.assignee.filter(P=>P!==b):[...n.assignee,b];l({...n,assignee:g})},j=b=>{a.field===b?o({field:b,direction:a.direction==="asc"?"desc":"asc"}):o({field:b,direction:"asc"})};return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"text",value:n.search,onChange:b=>l({...n,search:b.target.value}),placeholder:"Search steps...",className:"flex-1 min-w-[200px] px-3 py-1.5 bg-slate-800 border border-slate-600 rounded-lg text-sm text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-violet-500"}),e.jsxs("button",{onClick:()=>u(!d),className:I("px-3 py-1.5 rounded-lg text-sm flex items-center gap-1.5 transition-colors border",d||x>0?"bg-violet-500/20 text-violet-300 border-violet-500/50":"bg-slate-700 text-slate-400 border-slate-600 hover:text-slate-200"),children:[e.jsx(Zu,{size:14}),"Filters",x>0&&e.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-violet-500 text-white text-xs rounded-full",children:x})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Oj,{size:14,className:"text-slate-500"}),e.jsxs("select",{value:a.field,onChange:b=>j(b.target.value),className:"px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-violet-500",children:[e.jsx("option",{value:"index",children:"Step #"}),e.jsx("option",{value:"status",children:"Status"}),e.jsx("option",{value:"phase",children:"Phase"}),e.jsx("option",{value:"assignee",children:"Assignee"}),e.jsx("option",{value:"type",children:"Type"})]}),e.jsx("button",{onClick:()=>o({...a,direction:a.direction==="asc"?"desc":"asc"}),className:"p-1.5 rounded hover:bg-slate-700 text-slate-400 hover:text-slate-200 transition-colors text-xs",title:a.direction==="asc"?"Ascending":"Descending",children:a.direction==="asc"?"":""})]}),x>0&&e.jsxs("button",{onClick:v,className:"px-2 py-1.5 rounded text-xs text-slate-400 hover:text-slate-200 hover:bg-slate-700 transition-colors flex items-center gap-1",children:[e.jsx(Ht,{size:12}),"Clear"]})]}),d&&e.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block",children:"Status"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ON.map(b=>e.jsx("button",{onClick:()=>y(b),className:I("px-2.5 py-1 rounded-lg text-xs border transition-colors",n.status.includes(b)?DN[b]:"bg-slate-800 text-slate-500 border-slate-600 hover:text-slate-300"),children:MN[b]},b))})]}),m.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block",children:"Type"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.map(b=>e.jsx("button",{onClick:()=>N(b),className:I("px-2.5 py-1 rounded-lg text-xs border transition-colors",n.type.includes(b)?"bg-violet-600/30 text-violet-300 border-violet-500/50":"bg-slate-800 text-slate-500 border-slate-600 hover:text-slate-300"),children:b},b))})]}),p.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2 block",children:"Assignee"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(b=>e.jsx("button",{onClick:()=>k(b),className:I("px-2.5 py-1 rounded-lg text-xs border transition-colors",n.assignee.includes(b)?"bg-cyan-600/30 text-cyan-300 border-cyan-500/50":"bg-slate-800 text-slate-500 border-slate-600 hover:text-slate-300"),children:b},b))})]})]})]})}const ep={active:0,blocked:1,pending:2,done:3};function AN(t,n,a){let l=[...t];if(n.status.length>0&&(l=l.filter(o=>n.status.includes(o.status))),n.type.length>0&&(l=l.filter(o=>o.type&&n.type.includes(o.type))),n.assignee.length>0&&(l=l.filter(o=>o.assignee&&n.assignee.includes(o.assignee))),n.search.trim()){const o=n.search.toLowerCase();l=l.filter(d=>d.task.toLowerCase().includes(o)||d.phase.toLowerCase().includes(o)||d.notes&&d.notes.toLowerCase().includes(o)||d.assignee&&d.assignee.toLowerCase().includes(o))}return a.field!=="index"?l.sort((o,d)=>{let u=0;switch(a.field){case"status":u=ep[o.status]-ep[d.status];break;case"phase":u=o.phase.localeCompare(d.phase);break;case"assignee":u=(o.assignee||"").localeCompare(d.assignee||"");break;case"type":u=(o.type||"standard").localeCompare(d.type||"standard");break}return a.direction==="asc"?u:-u}):a.direction==="desc"&&l.reverse(),l}function cg(t,n){return function(){return t.apply(n,arguments)}}const{toString:FN}=Object.prototype,{getPrototypeOf:c0}=Object,{iterator:Do,toStringTag:dg}=Symbol,zo=(t=>n=>{const a=FN.call(n);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),ps=t=>(t=t.toLowerCase(),n=>zo(n)===t),Ao=t=>n=>typeof n===t,{isArray:ya}=Array,ha=Ao("undefined");function $l(t){return t!==null&&!ha(t)&&t.constructor!==null&&!ha(t.constructor)&&At(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ug=ps("ArrayBuffer");function LN(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&ug(t.buffer),n}const IN=Ao("string"),At=Ao("function"),hg=Ao("number"),Ul=t=>t!==null&&typeof t=="object",$N=t=>t===!0||t===!1,po=t=>{if(zo(t)!=="object")return!1;const n=c0(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(dg in t)&&!(Do in t)},UN=t=>{if(!Ul(t)||$l(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},qN=ps("Date"),BN=ps("File"),WN=ps("Blob"),HN=ps("FileList"),QN=t=>Ul(t)&&At(t.pipe),VN=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||At(t.append)&&((n=zo(t))==="formdata"||n==="object"&&At(t.toString)&&t.toString()==="[object FormData]"))},KN=ps("URLSearchParams"),[GN,YN,JN,XN]=["ReadableStream","Request","Response","Headers"].map(ps),ZN=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ql(t,n,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let l,o;if(typeof t!="object"&&(t=[t]),ya(t))for(l=0,o=t.length;l<o;l++)n.call(null,t[l],l,t);else{if($l(t))return;const d=a?Object.getOwnPropertyNames(t):Object.keys(t),u=d.length;let m;for(l=0;l<u;l++)m=d[l],n.call(null,t[m],m,t)}}function mg(t,n){if($l(t))return null;n=n.toLowerCase();const a=Object.keys(t);let l=a.length,o;for(;l-- >0;)if(o=a[l],n===o.toLowerCase())return o;return null}const er=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fg=t=>!ha(t)&&t!==er;function zu(){const{caseless:t,skipUndefined:n}=fg(this)&&this||{},a={},l=(o,d)=>{if(d==="__proto__"||d==="constructor"||d==="prototype")return;const u=t&&mg(a,d)||d;po(a[u])&&po(o)?a[u]=zu(a[u],o):po(o)?a[u]=zu({},o):ya(o)?a[u]=o.slice():(!n||!ha(o))&&(a[u]=o)};for(let o=0,d=arguments.length;o<d;o++)arguments[o]&&ql(arguments[o],l);return a}const ek=(t,n,a,{allOwnKeys:l}={})=>(ql(n,(o,d)=>{a&&At(o)?Object.defineProperty(t,d,{value:cg(o,a),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,d,{value:o,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:l}),t),tk=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),sk=(t,n,a,l)=>{t.prototype=Object.create(n.prototype,l),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:n.prototype}),a&&Object.assign(t.prototype,a)},nk=(t,n,a,l)=>{let o,d,u;const m={};if(n=n||{},t==null)return n;do{for(o=Object.getOwnPropertyNames(t),d=o.length;d-- >0;)u=o[d],(!l||l(u,t,n))&&!m[u]&&(n[u]=t[u],m[u]=!0);t=a!==!1&&c0(t)}while(t&&(!a||a(t,n))&&t!==Object.prototype);return n},rk=(t,n,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=n.length;const l=t.indexOf(n,a);return l!==-1&&l===a},ak=t=>{if(!t)return null;if(ya(t))return t;let n=t.length;if(!hg(n))return null;const a=new Array(n);for(;n-- >0;)a[n]=t[n];return a},lk=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&c0(Uint8Array)),ik=(t,n)=>{const l=(t&&t[Do]).call(t);let o;for(;(o=l.next())&&!o.done;){const d=o.value;n.call(t,d[0],d[1])}},ok=(t,n)=>{let a;const l=[];for(;(a=t.exec(n))!==null;)l.push(a);return l},ck=ps("HTMLFormElement"),dk=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,l,o){return l.toUpperCase()+o}),tp=(({hasOwnProperty:t})=>(n,a)=>t.call(n,a))(Object.prototype),uk=ps("RegExp"),pg=(t,n)=>{const a=Object.getOwnPropertyDescriptors(t),l={};ql(a,(o,d)=>{let u;(u=n(o,d,t))!==!1&&(l[d]=u||o)}),Object.defineProperties(t,l)},hk=t=>{pg(t,(n,a)=>{if(At(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const l=t[a];if(At(l)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},mk=(t,n)=>{const a={},l=o=>{o.forEach(d=>{a[d]=!0})};return ya(t)?l(t):l(String(t).split(n)),a},fk=()=>{},pk=(t,n)=>t!=null&&Number.isFinite(t=+t)?t:n;function xk(t){return!!(t&&At(t.append)&&t[dg]==="FormData"&&t[Do])}const gk=t=>{const n=new Array(10),a=(l,o)=>{if(Ul(l)){if(n.indexOf(l)>=0)return;if($l(l))return l;if(!("toJSON"in l)){n[o]=l;const d=ya(l)?[]:{};return ql(l,(u,m)=>{const p=a(u,o+1);!ha(p)&&(d[m]=p)}),n[o]=void 0,d}}return l};return a(t,0)},yk=ps("AsyncFunction"),vk=t=>t&&(Ul(t)||At(t))&&At(t.then)&&At(t.catch),xg=((t,n)=>t?setImmediate:n?((a,l)=>(er.addEventListener("message",({source:o,data:d})=>{o===er&&d===a&&l.length&&l.shift()()},!1),o=>{l.push(o),er.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",At(er.postMessage)),bk=typeof queueMicrotask<"u"?queueMicrotask.bind(er):typeof process<"u"&&process.nextTick||xg,jk=t=>t!=null&&At(t[Do]),$={isArray:ya,isArrayBuffer:ug,isBuffer:$l,isFormData:VN,isArrayBufferView:LN,isString:IN,isNumber:hg,isBoolean:$N,isObject:Ul,isPlainObject:po,isEmptyObject:UN,isReadableStream:GN,isRequest:YN,isResponse:JN,isHeaders:XN,isUndefined:ha,isDate:qN,isFile:BN,isBlob:WN,isRegExp:uk,isFunction:At,isStream:QN,isURLSearchParams:KN,isTypedArray:lk,isFileList:HN,forEach:ql,merge:zu,extend:ek,trim:ZN,stripBOM:tk,inherits:sk,toFlatObject:nk,kindOf:zo,kindOfTest:ps,endsWith:rk,toArray:ak,forEachEntry:ik,matchAll:ok,isHTMLForm:ck,hasOwnProperty:tp,hasOwnProp:tp,reduceDescriptors:pg,freezeMethods:hk,toObjectSet:mk,toCamelCase:dk,noop:fk,toFiniteNumber:pk,findKey:mg,global:er,isContextDefined:fg,isSpecCompliantForm:xk,toJSONObject:gk,isAsyncFn:yk,isThenable:vk,setImmediate:xg,asap:bk,isIterable:jk};let Ne=class gg extends Error{static from(n,a,l,o,d,u){const m=new gg(n.message,a||n.code,l,o,d);return m.cause=n,m.name=n.name,u&&Object.assign(m,u),m}constructor(n,a,l,o,d){super(n),this.name="AxiosError",this.isAxiosError=!0,a&&(this.code=a),l&&(this.config=l),o&&(this.request=o),d&&(this.response=d,this.status=d.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}};Ne.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ne.ERR_BAD_OPTION="ERR_BAD_OPTION";Ne.ECONNABORTED="ECONNABORTED";Ne.ETIMEDOUT="ETIMEDOUT";Ne.ERR_NETWORK="ERR_NETWORK";Ne.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ne.ERR_DEPRECATED="ERR_DEPRECATED";Ne.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ne.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ne.ERR_CANCELED="ERR_CANCELED";Ne.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ne.ERR_INVALID_URL="ERR_INVALID_URL";const wk=null;function Au(t){return $.isPlainObject(t)||$.isArray(t)}function yg(t){return $.endsWith(t,"[]")?t.slice(0,-2):t}function sp(t,n,a){return t?t.concat(n).map(function(o,d){return o=yg(o),!a&&d?"["+o+"]":o}).join(a?".":""):n}function Nk(t){return $.isArray(t)&&!t.some(Au)}const kk=$.toFlatObject($,{},null,function(n){return/^is[A-Z]/.test(n)});function Fo(t,n,a){if(!$.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,a=$.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,g){return!$.isUndefined(g[b])});const l=a.metaTokens,o=a.visitor||v,d=a.dots,u=a.indexes,p=(a.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(n);if(!$.isFunction(o))throw new TypeError("visitor must be a function");function x(j){if(j===null)return"";if($.isDate(j))return j.toISOString();if($.isBoolean(j))return j.toString();if(!p&&$.isBlob(j))throw new Ne("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(j)||$.isTypedArray(j)?p&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function v(j,b,g){let P=j;if(j&&!g&&typeof j=="object"){if($.endsWith(b,"{}"))b=l?b:b.slice(0,-2),j=JSON.stringify(j);else if($.isArray(j)&&Nk(j)||($.isFileList(j)||$.endsWith(b,"[]"))&&(P=$.toArray(j)))return b=yg(b),P.forEach(function(C,R){!($.isUndefined(C)||C===null)&&n.append(u===!0?sp([b],R,d):u===null?b:b+"[]",x(C))}),!1}return Au(j)?!0:(n.append(sp(g,b,d),x(j)),!1)}const y=[],N=Object.assign(kk,{defaultVisitor:v,convertValue:x,isVisitable:Au});function k(j,b){if(!$.isUndefined(j)){if(y.indexOf(j)!==-1)throw Error("Circular reference detected in "+b.join("."));y.push(j),$.forEach(j,function(P,O){(!($.isUndefined(P)||P===null)&&o.call(n,P,$.isString(O)?O.trim():O,b,N))===!0&&k(P,b?b.concat(O):[O])}),y.pop()}}if(!$.isObject(t))throw new TypeError("data must be an object");return k(t),n}function np(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(l){return n[l]})}function d0(t,n){this._pairs=[],t&&Fo(t,this,n)}const vg=d0.prototype;vg.append=function(n,a){this._pairs.push([n,a])};vg.toString=function(n){const a=n?function(l){return n.call(this,l,np)}:np;return this._pairs.map(function(o){return a(o[0])+"="+a(o[1])},"").join("&")};function Sk(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function bg(t,n,a){if(!n)return t;const l=a&&a.encode||Sk,o=$.isFunction(a)?{serialize:a}:a,d=o&&o.serialize;let u;if(d?u=d(n,o):u=$.isURLSearchParams(n)?n.toString():new d0(n,o).toString(l),u){const m=t.indexOf("#");m!==-1&&(t=t.slice(0,m)),t+=(t.indexOf("?")===-1?"?":"&")+u}return t}class rp{constructor(){this.handlers=[]}use(n,a,l){return this.handlers.push({fulfilled:n,rejected:a,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){$.forEach(this.handlers,function(l){l!==null&&n(l)})}}const u0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},Ck=typeof URLSearchParams<"u"?URLSearchParams:d0,_k=typeof FormData<"u"?FormData:null,Ek=typeof Blob<"u"?Blob:null,Pk={isBrowser:!0,classes:{URLSearchParams:Ck,FormData:_k,Blob:Ek},protocols:["http","https","file","blob","url","data"]},h0=typeof window<"u"&&typeof document<"u",Fu=typeof navigator=="object"&&navigator||void 0,Rk=h0&&(!Fu||["ReactNative","NativeScript","NS"].indexOf(Fu.product)<0),Tk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ok=h0&&window.location.href||"http://localhost",Mk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:h0,hasStandardBrowserEnv:Rk,hasStandardBrowserWebWorkerEnv:Tk,navigator:Fu,origin:Ok},Symbol.toStringTag,{value:"Module"})),wt={...Mk,...Pk};function Dk(t,n){return Fo(t,new wt.classes.URLSearchParams,{visitor:function(a,l,o,d){return wt.isNode&&$.isBuffer(a)?(this.append(l,a.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...n})}function zk(t){return $.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function Ak(t){const n={},a=Object.keys(t);let l;const o=a.length;let d;for(l=0;l<o;l++)d=a[l],n[d]=t[d];return n}function jg(t){function n(a,l,o,d){let u=a[d++];if(u==="__proto__")return!0;const m=Number.isFinite(+u),p=d>=a.length;return u=!u&&$.isArray(o)?o.length:u,p?($.hasOwnProp(o,u)?o[u]=[o[u],l]:o[u]=l,!m):((!o[u]||!$.isObject(o[u]))&&(o[u]=[]),n(a,l,o[u],d)&&$.isArray(o[u])&&(o[u]=Ak(o[u])),!m)}if($.isFormData(t)&&$.isFunction(t.entries)){const a={};return $.forEachEntry(t,(l,o)=>{n(zk(l),o,a,0)}),a}return null}function Fk(t,n,a){if($.isString(t))try{return(n||JSON.parse)(t),$.trim(t)}catch(l){if(l.name!=="SyntaxError")throw l}return(a||JSON.stringify)(t)}const Bl={transitional:u0,adapter:["xhr","http","fetch"],transformRequest:[function(n,a){const l=a.getContentType()||"",o=l.indexOf("application/json")>-1,d=$.isObject(n);if(d&&$.isHTMLForm(n)&&(n=new FormData(n)),$.isFormData(n))return o?JSON.stringify(jg(n)):n;if($.isArrayBuffer(n)||$.isBuffer(n)||$.isStream(n)||$.isFile(n)||$.isBlob(n)||$.isReadableStream(n))return n;if($.isArrayBufferView(n))return n.buffer;if($.isURLSearchParams(n))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let m;if(d){if(l.indexOf("application/x-www-form-urlencoded")>-1)return Dk(n,this.formSerializer).toString();if((m=$.isFileList(n))||l.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Fo(m?{"files[]":n}:n,p&&new p,this.formSerializer)}}return d||o?(a.setContentType("application/json",!1),Fk(n)):n}],transformResponse:[function(n){const a=this.transitional||Bl.transitional,l=a&&a.forcedJSONParsing,o=this.responseType==="json";if($.isResponse(n)||$.isReadableStream(n))return n;if(n&&$.isString(n)&&(l&&!this.responseType||o)){const u=!(a&&a.silentJSONParsing)&&o;try{return JSON.parse(n,this.parseReviver)}catch(m){if(u)throw m.name==="SyntaxError"?Ne.from(m,Ne.ERR_BAD_RESPONSE,this,null,this.response):m}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wt.classes.FormData,Blob:wt.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],t=>{Bl.headers[t]={}});const Lk=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ik=t=>{const n={};let a,l,o;return t&&t.split(`
`).forEach(function(u){o=u.indexOf(":"),a=u.substring(0,o).trim().toLowerCase(),l=u.substring(o+1).trim(),!(!a||n[a]&&Lk[a])&&(a==="set-cookie"?n[a]?n[a].push(l):n[a]=[l]:n[a]=n[a]?n[a]+", "+l:l)}),n},ap=Symbol("internals");function ul(t){return t&&String(t).trim().toLowerCase()}function xo(t){return t===!1||t==null?t:$.isArray(t)?t.map(xo):String(t)}function $k(t){const n=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=a.exec(t);)n[l[1]]=l[2];return n}const Uk=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Qd(t,n,a,l,o){if($.isFunction(l))return l.call(this,n,a);if(o&&(n=a),!!$.isString(n)){if($.isString(l))return n.indexOf(l)!==-1;if($.isRegExp(l))return l.test(n)}}function qk(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,a,l)=>a.toUpperCase()+l)}function Bk(t,n){const a=$.toCamelCase(" "+n);["get","set","has"].forEach(l=>{Object.defineProperty(t,l+a,{value:function(o,d,u){return this[l].call(this,n,o,d,u)},configurable:!0})})}let Ft=class{constructor(n){n&&this.set(n)}set(n,a,l){const o=this;function d(m,p,x){const v=ul(p);if(!v)throw new Error("header name must be a non-empty string");const y=$.findKey(o,v);(!y||o[y]===void 0||x===!0||x===void 0&&o[y]!==!1)&&(o[y||p]=xo(m))}const u=(m,p)=>$.forEach(m,(x,v)=>d(x,v,p));if($.isPlainObject(n)||n instanceof this.constructor)u(n,a);else if($.isString(n)&&(n=n.trim())&&!Uk(n))u(Ik(n),a);else if($.isObject(n)&&$.isIterable(n)){let m={},p,x;for(const v of n){if(!$.isArray(v))throw TypeError("Object iterator must return a key-value pair");m[x=v[0]]=(p=m[x])?$.isArray(p)?[...p,v[1]]:[p,v[1]]:v[1]}u(m,a)}else n!=null&&d(a,n,l);return this}get(n,a){if(n=ul(n),n){const l=$.findKey(this,n);if(l){const o=this[l];if(!a)return o;if(a===!0)return $k(o);if($.isFunction(a))return a.call(this,o,l);if($.isRegExp(a))return a.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,a){if(n=ul(n),n){const l=$.findKey(this,n);return!!(l&&this[l]!==void 0&&(!a||Qd(this,this[l],l,a)))}return!1}delete(n,a){const l=this;let o=!1;function d(u){if(u=ul(u),u){const m=$.findKey(l,u);m&&(!a||Qd(l,l[m],m,a))&&(delete l[m],o=!0)}}return $.isArray(n)?n.forEach(d):d(n),o}clear(n){const a=Object.keys(this);let l=a.length,o=!1;for(;l--;){const d=a[l];(!n||Qd(this,this[d],d,n,!0))&&(delete this[d],o=!0)}return o}normalize(n){const a=this,l={};return $.forEach(this,(o,d)=>{const u=$.findKey(l,d);if(u){a[u]=xo(o),delete a[d];return}const m=n?qk(d):String(d).trim();m!==d&&delete a[d],a[m]=xo(o),l[m]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const a=Object.create(null);return $.forEach(this,(l,o)=>{l!=null&&l!==!1&&(a[o]=n&&$.isArray(l)?l.join(", "):l)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,a])=>n+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...a){const l=new this(n);return a.forEach(o=>l.set(o)),l}static accessor(n){const l=(this[ap]=this[ap]={accessors:{}}).accessors,o=this.prototype;function d(u){const m=ul(u);l[m]||(Bk(o,u),l[m]=!0)}return $.isArray(n)?n.forEach(d):d(n),this}};Ft.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(Ft.prototype,({value:t},n)=>{let a=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(l){this[a]=l}}});$.freezeMethods(Ft);function Vd(t,n){const a=this||Bl,l=n||a,o=Ft.from(l.headers);let d=l.data;return $.forEach(t,function(m){d=m.call(a,d,o.normalize(),n?n.status:void 0)}),o.normalize(),d}function wg(t){return!!(t&&t.__CANCEL__)}let Wl=class extends Ne{constructor(n,a,l){super(n??"canceled",Ne.ERR_CANCELED,a,l),this.name="CanceledError",this.__CANCEL__=!0}};function Ng(t,n,a){const l=a.config.validateStatus;!a.status||!l||l(a.status)?t(a):n(new Ne("Request failed with status code "+a.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function Wk(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function Hk(t,n){t=t||10;const a=new Array(t),l=new Array(t);let o=0,d=0,u;return n=n!==void 0?n:1e3,function(p){const x=Date.now(),v=l[d];u||(u=x),a[o]=p,l[o]=x;let y=d,N=0;for(;y!==o;)N+=a[y++],y=y%t;if(o=(o+1)%t,o===d&&(d=(d+1)%t),x-u<n)return;const k=v&&x-v;return k?Math.round(N*1e3/k):void 0}}function Qk(t,n){let a=0,l=1e3/n,o,d;const u=(x,v=Date.now())=>{a=v,o=null,d&&(clearTimeout(d),d=null),t(...x)};return[(...x)=>{const v=Date.now(),y=v-a;y>=l?u(x,v):(o=x,d||(d=setTimeout(()=>{d=null,u(o)},l-y)))},()=>o&&u(o)]}const Co=(t,n,a=3)=>{let l=0;const o=Hk(50,250);return Qk(d=>{const u=d.loaded,m=d.lengthComputable?d.total:void 0,p=u-l,x=o(p),v=u<=m;l=u;const y={loaded:u,total:m,progress:m?u/m:void 0,bytes:p,rate:x||void 0,estimated:x&&m&&v?(m-u)/x:void 0,event:d,lengthComputable:m!=null,[n?"download":"upload"]:!0};t(y)},a)},lp=(t,n)=>{const a=t!=null;return[l=>n[0]({lengthComputable:a,total:t,loaded:l}),n[1]]},ip=t=>(...n)=>$.asap(()=>t(...n)),Vk=wt.hasStandardBrowserEnv?((t,n)=>a=>(a=new URL(a,wt.origin),t.protocol===a.protocol&&t.host===a.host&&(n||t.port===a.port)))(new URL(wt.origin),wt.navigator&&/(msie|trident)/i.test(wt.navigator.userAgent)):()=>!0,Kk=wt.hasStandardBrowserEnv?{write(t,n,a,l,o,d,u){if(typeof document>"u")return;const m=[`${t}=${encodeURIComponent(n)}`];$.isNumber(a)&&m.push(`expires=${new Date(a).toUTCString()}`),$.isString(l)&&m.push(`path=${l}`),$.isString(o)&&m.push(`domain=${o}`),d===!0&&m.push("secure"),$.isString(u)&&m.push(`SameSite=${u}`),document.cookie=m.join("; ")},read(t){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Gk(t){return typeof t!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Yk(t,n){return n?t.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):t}function kg(t,n,a){let l=!Gk(n);return t&&(l||a==!1)?Yk(t,n):n}const op=t=>t instanceof Ft?{...t}:t;function xr(t,n){n=n||{};const a={};function l(x,v,y,N){return $.isPlainObject(x)&&$.isPlainObject(v)?$.merge.call({caseless:N},x,v):$.isPlainObject(v)?$.merge({},v):$.isArray(v)?v.slice():v}function o(x,v,y,N){if($.isUndefined(v)){if(!$.isUndefined(x))return l(void 0,x,y,N)}else return l(x,v,y,N)}function d(x,v){if(!$.isUndefined(v))return l(void 0,v)}function u(x,v){if($.isUndefined(v)){if(!$.isUndefined(x))return l(void 0,x)}else return l(void 0,v)}function m(x,v,y){if(y in n)return l(x,v);if(y in t)return l(void 0,x)}const p={url:d,method:d,data:d,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:m,headers:(x,v,y)=>o(op(x),op(v),y,!0)};return $.forEach(Object.keys({...t,...n}),function(v){if(v==="__proto__"||v==="constructor"||v==="prototype")return;const y=$.hasOwnProp(p,v)?p[v]:o,N=y(t[v],n[v],v);$.isUndefined(N)&&y!==m||(a[v]=N)}),a}const Sg=t=>{const n=xr({},t);let{data:a,withXSRFToken:l,xsrfHeaderName:o,xsrfCookieName:d,headers:u,auth:m}=n;if(n.headers=u=Ft.from(u),n.url=bg(kg(n.baseURL,n.url,n.allowAbsoluteUrls),t.params,t.paramsSerializer),m&&u.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):""))),$.isFormData(a)){if(wt.hasStandardBrowserEnv||wt.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if($.isFunction(a.getHeaders)){const p=a.getHeaders(),x=["content-type","content-length"];Object.entries(p).forEach(([v,y])=>{x.includes(v.toLowerCase())&&u.set(v,y)})}}if(wt.hasStandardBrowserEnv&&(l&&$.isFunction(l)&&(l=l(n)),l||l!==!1&&Vk(n.url))){const p=o&&d&&Kk.read(d);p&&u.set(o,p)}return n},Jk=typeof XMLHttpRequest<"u",Xk=Jk&&function(t){return new Promise(function(a,l){const o=Sg(t);let d=o.data;const u=Ft.from(o.headers).normalize();let{responseType:m,onUploadProgress:p,onDownloadProgress:x}=o,v,y,N,k,j;function b(){k&&k(),j&&j(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let g=new XMLHttpRequest;g.open(o.method.toUpperCase(),o.url,!0),g.timeout=o.timeout;function P(){if(!g)return;const C=Ft.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),U={data:!m||m==="text"||m==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:C,config:t,request:g};Ng(function(L){a(L),b()},function(L){l(L),b()},U),g=null}"onloadend"in g?g.onloadend=P:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(P)},g.onabort=function(){g&&(l(new Ne("Request aborted",Ne.ECONNABORTED,t,g)),g=null)},g.onerror=function(R){const U=R&&R.message?R.message:"Network Error",B=new Ne(U,Ne.ERR_NETWORK,t,g);B.event=R||null,l(B),g=null},g.ontimeout=function(){let R=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const U=o.transitional||u0;o.timeoutErrorMessage&&(R=o.timeoutErrorMessage),l(new Ne(R,U.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,t,g)),g=null},d===void 0&&u.setContentType(null),"setRequestHeader"in g&&$.forEach(u.toJSON(),function(R,U){g.setRequestHeader(U,R)}),$.isUndefined(o.withCredentials)||(g.withCredentials=!!o.withCredentials),m&&m!=="json"&&(g.responseType=o.responseType),x&&([N,j]=Co(x,!0),g.addEventListener("progress",N)),p&&g.upload&&([y,k]=Co(p),g.upload.addEventListener("progress",y),g.upload.addEventListener("loadend",k)),(o.cancelToken||o.signal)&&(v=C=>{g&&(l(!C||C.type?new Wl(null,t,g):C),g.abort(),g=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const O=Wk(o.url);if(O&&wt.protocols.indexOf(O)===-1){l(new Ne("Unsupported protocol "+O+":",Ne.ERR_BAD_REQUEST,t));return}g.send(d||null)})},Zk=(t,n)=>{const{length:a}=t=t?t.filter(Boolean):[];if(n||a){let l=new AbortController,o;const d=function(x){if(!o){o=!0,m();const v=x instanceof Error?x:this.reason;l.abort(v instanceof Ne?v:new Wl(v instanceof Error?v.message:v))}};let u=n&&setTimeout(()=>{u=null,d(new Ne(`timeout of ${n}ms exceeded`,Ne.ETIMEDOUT))},n);const m=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(x=>{x.unsubscribe?x.unsubscribe(d):x.removeEventListener("abort",d)}),t=null)};t.forEach(x=>x.addEventListener("abort",d));const{signal:p}=l;return p.unsubscribe=()=>$.asap(m),p}},e4=function*(t,n){let a=t.byteLength;if(a<n){yield t;return}let l=0,o;for(;l<a;)o=l+n,yield t.slice(l,o),l=o},t4=async function*(t,n){for await(const a of s4(t))yield*e4(a,n)},s4=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const n=t.getReader();try{for(;;){const{done:a,value:l}=await n.read();if(a)break;yield l}}finally{await n.cancel()}},cp=(t,n,a,l)=>{const o=t4(t,n);let d=0,u,m=p=>{u||(u=!0,l&&l(p))};return new ReadableStream({async pull(p){try{const{done:x,value:v}=await o.next();if(x){m(),p.close();return}let y=v.byteLength;if(a){let N=d+=y;a(N)}p.enqueue(new Uint8Array(v))}catch(x){throw m(x),x}},cancel(p){return m(p),o.return()}},{highWaterMark:2})},dp=64*1024,{isFunction:oo}=$,n4=(({Request:t,Response:n})=>({Request:t,Response:n}))($.global),{ReadableStream:up,TextEncoder:hp}=$.global,mp=(t,...n)=>{try{return!!t(...n)}catch{return!1}},r4=t=>{t=$.merge.call({skipUndefined:!0},n4,t);const{fetch:n,Request:a,Response:l}=t,o=n?oo(n):typeof fetch=="function",d=oo(a),u=oo(l);if(!o)return!1;const m=o&&oo(up),p=o&&(typeof hp=="function"?(j=>b=>j.encode(b))(new hp):async j=>new Uint8Array(await new a(j).arrayBuffer())),x=d&&m&&mp(()=>{let j=!1;const b=new a(wt.origin,{body:new up,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!b}),v=u&&m&&mp(()=>$.isReadableStream(new l("").body)),y={stream:v&&(j=>j.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!y[j]&&(y[j]=(b,g)=>{let P=b&&b[j];if(P)return P.call(b);throw new Ne(`Response type '${j}' is not supported`,Ne.ERR_NOT_SUPPORT,g)})});const N=async j=>{if(j==null)return 0;if($.isBlob(j))return j.size;if($.isSpecCompliantForm(j))return(await new a(wt.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if($.isArrayBufferView(j)||$.isArrayBuffer(j))return j.byteLength;if($.isURLSearchParams(j)&&(j=j+""),$.isString(j))return(await p(j)).byteLength},k=async(j,b)=>{const g=$.toFiniteNumber(j.getContentLength());return g??N(b)};return async j=>{let{url:b,method:g,data:P,signal:O,cancelToken:C,timeout:R,onDownloadProgress:U,onUploadProgress:B,responseType:L,headers:W,withCredentials:H="same-origin",fetchOptions:Q}=Sg(j),le=n||fetch;L=L?(L+"").toLowerCase():"text";let G=Zk([O,C&&C.toAbortSignal()],R),ne=null;const xe=G&&G.unsubscribe&&(()=>{G.unsubscribe()});let ie;try{if(B&&x&&g!=="get"&&g!=="head"&&(ie=await k(W,P))!==0){let M=new a(b,{method:"POST",body:P,duplex:"half"}),q;if($.isFormData(P)&&(q=M.headers.get("content-type"))&&W.setContentType(q),M.body){const[ge,we]=lp(ie,Co(ip(B)));P=cp(M.body,dp,ge,we)}}$.isString(H)||(H=H?"include":"omit");const ae=d&&"credentials"in a.prototype,pe={...Q,signal:G,method:g.toUpperCase(),headers:W.normalize().toJSON(),body:P,duplex:"half",credentials:ae?H:void 0};ne=d&&new a(b,pe);let V=await(d?le(ne,Q):le(b,pe));const Z=v&&(L==="stream"||L==="response");if(v&&(U||Z&&xe)){const M={};["status","statusText","headers"].forEach(_e=>{M[_e]=V[_e]});const q=$.toFiniteNumber(V.headers.get("content-length")),[ge,we]=U&&lp(q,Co(ip(U),!0))||[];V=new l(cp(V.body,dp,ge,()=>{we&&we(),xe&&xe()}),M)}L=L||"text";let re=await y[$.findKey(y,L)||"text"](V,j);return!Z&&xe&&xe(),await new Promise((M,q)=>{Ng(M,q,{data:re,headers:Ft.from(V.headers),status:V.status,statusText:V.statusText,config:j,request:ne})})}catch(ae){throw xe&&xe(),ae&&ae.name==="TypeError"&&/Load failed|fetch/i.test(ae.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,j,ne,ae&&ae.response),{cause:ae.cause||ae}):Ne.from(ae,ae&&ae.code,j,ne,ae&&ae.response)}}},a4=new Map,Cg=t=>{let n=t&&t.env||{};const{fetch:a,Request:l,Response:o}=n,d=[l,o,a];let u=d.length,m=u,p,x,v=a4;for(;m--;)p=d[m],x=v.get(p),x===void 0&&v.set(p,x=m?new Map:r4(n)),v=x;return x};Cg();const m0={http:wk,xhr:Xk,fetch:{get:Cg}};$.forEach(m0,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const fp=t=>`- ${t}`,l4=t=>$.isFunction(t)||t===null||t===!1;function i4(t,n){t=$.isArray(t)?t:[t];const{length:a}=t;let l,o;const d={};for(let u=0;u<a;u++){l=t[u];let m;if(o=l,!l4(l)&&(o=m0[(m=String(l)).toLowerCase()],o===void 0))throw new Ne(`Unknown adapter '${m}'`);if(o&&($.isFunction(o)||(o=o.get(n))))break;d[m||"#"+u]=o}if(!o){const u=Object.entries(d).map(([p,x])=>`adapter ${p} `+(x===!1?"is not supported by the environment":"is not available in the build"));let m=a?u.length>1?`since :
`+u.map(fp).join(`
`):" "+fp(u[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return o}const _g={getAdapter:i4,adapters:m0};function Kd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Wl(null,t)}function pp(t){return Kd(t),t.headers=Ft.from(t.headers),t.data=Vd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),_g.getAdapter(t.adapter||Bl.adapter,t)(t).then(function(l){return Kd(t),l.data=Vd.call(t,t.transformResponse,l),l.headers=Ft.from(l.headers),l},function(l){return wg(l)||(Kd(t),l&&l.response&&(l.response.data=Vd.call(t,t.transformResponse,l.response),l.response.headers=Ft.from(l.response.headers))),Promise.reject(l)})}const Eg="1.13.5",Lo={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{Lo[t]=function(l){return typeof l===t||"a"+(n<1?"n ":" ")+t}});const xp={};Lo.transitional=function(n,a,l){function o(d,u){return"[Axios v"+Eg+"] Transitional option '"+d+"'"+u+(l?". "+l:"")}return(d,u,m)=>{if(n===!1)throw new Ne(o(u," has been removed"+(a?" in "+a:"")),Ne.ERR_DEPRECATED);return a&&!xp[u]&&(xp[u]=!0,console.warn(o(u," has been deprecated since v"+a+" and will be removed in the near future"))),n?n(d,u,m):!0}};Lo.spelling=function(n){return(a,l)=>(console.warn(`${l} is likely a misspelling of ${n}`),!0)};function o4(t,n,a){if(typeof t!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const l=Object.keys(t);let o=l.length;for(;o-- >0;){const d=l[o],u=n[d];if(u){const m=t[d],p=m===void 0||u(m,d,t);if(p!==!0)throw new Ne("option "+d+" must be "+p,Ne.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Ne("Unknown option "+d,Ne.ERR_BAD_OPTION)}}const go={assertOptions:o4,validators:Lo},Zt=go.validators;let dr=class{constructor(n){this.defaults=n||{},this.interceptors={request:new rp,response:new rp}}async request(n,a){try{return await this._request(n,a)}catch(l){if(l instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const d=o.stack?o.stack.replace(/^.+\n/,""):"";try{l.stack?d&&!String(l.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+d):l.stack=d}catch{}}throw l}}_request(n,a){typeof n=="string"?(a=a||{},a.url=n):a=n||{},a=xr(this.defaults,a);const{transitional:l,paramsSerializer:o,headers:d}=a;l!==void 0&&go.assertOptions(l,{silentJSONParsing:Zt.transitional(Zt.boolean),forcedJSONParsing:Zt.transitional(Zt.boolean),clarifyTimeoutError:Zt.transitional(Zt.boolean),legacyInterceptorReqResOrdering:Zt.transitional(Zt.boolean)},!1),o!=null&&($.isFunction(o)?a.paramsSerializer={serialize:o}:go.assertOptions(o,{encode:Zt.function,serialize:Zt.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),go.assertOptions(a,{baseUrl:Zt.spelling("baseURL"),withXsrfToken:Zt.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let u=d&&$.merge(d.common,d[a.method]);d&&$.forEach(["delete","get","head","post","put","patch","common"],j=>{delete d[j]}),a.headers=Ft.concat(u,d);const m=[];let p=!0;this.interceptors.request.forEach(function(b){if(typeof b.runWhen=="function"&&b.runWhen(a)===!1)return;p=p&&b.synchronous;const g=a.transitional||u0;g&&g.legacyInterceptorReqResOrdering?m.unshift(b.fulfilled,b.rejected):m.push(b.fulfilled,b.rejected)});const x=[];this.interceptors.response.forEach(function(b){x.push(b.fulfilled,b.rejected)});let v,y=0,N;if(!p){const j=[pp.bind(this),void 0];for(j.unshift(...m),j.push(...x),N=j.length,v=Promise.resolve(a);y<N;)v=v.then(j[y++],j[y++]);return v}N=m.length;let k=a;for(;y<N;){const j=m[y++],b=m[y++];try{k=j(k)}catch(g){b.call(this,g);break}}try{v=pp.call(this,k)}catch(j){return Promise.reject(j)}for(y=0,N=x.length;y<N;)v=v.then(x[y++],x[y++]);return v}getUri(n){n=xr(this.defaults,n);const a=kg(n.baseURL,n.url,n.allowAbsoluteUrls);return bg(a,n.params,n.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(n){dr.prototype[n]=function(a,l){return this.request(xr(l||{},{method:n,url:a,data:(l||{}).data}))}});$.forEach(["post","put","patch"],function(n){function a(l){return function(d,u,m){return this.request(xr(m||{},{method:n,headers:l?{"Content-Type":"multipart/form-data"}:{},url:d,data:u}))}}dr.prototype[n]=a(),dr.prototype[n+"Form"]=a(!0)});let c4=class Pg{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(d){a=d});const l=this;this.promise.then(o=>{if(!l._listeners)return;let d=l._listeners.length;for(;d-- >0;)l._listeners[d](o);l._listeners=null}),this.promise.then=o=>{let d;const u=new Promise(m=>{l.subscribe(m),d=m}).then(o);return u.cancel=function(){l.unsubscribe(d)},u},n(function(d,u,m){l.reason||(l.reason=new Wl(d,u,m),a(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const a=this._listeners.indexOf(n);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const n=new AbortController,a=l=>{n.abort(l)};return this.subscribe(a),n.signal.unsubscribe=()=>this.unsubscribe(a),n.signal}static source(){let n;return{token:new Pg(function(o){n=o}),cancel:n}}};function d4(t){return function(a){return t.apply(null,a)}}function u4(t){return $.isObject(t)&&t.isAxiosError===!0}const Lu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Lu).forEach(([t,n])=>{Lu[n]=t});function Rg(t){const n=new dr(t),a=cg(dr.prototype.request,n);return $.extend(a,dr.prototype,n,{allOwnKeys:!0}),$.extend(a,n,null,{allOwnKeys:!0}),a.create=function(o){return Rg(xr(t,o))},a}const He=Rg(Bl);He.Axios=dr;He.CanceledError=Wl;He.CancelToken=c4;He.isCancel=wg;He.VERSION=Eg;He.toFormData=Fo;He.AxiosError=Ne;He.Cancel=He.CanceledError;He.all=function(n){return Promise.all(n)};He.spread=d4;He.isAxiosError=u4;He.mergeConfig=xr;He.AxiosHeaders=Ft;He.formToJSON=t=>jg($.isHTMLForm(t)?new FormData(t):t);He.getAdapter=_g.getAdapter;He.HttpStatusCode=Lu;He.default=He;const{Axios:s3,AxiosError:n3,CanceledError:r3,isCancel:a3,CancelToken:l3,VERSION:i3,all:o3,Cancel:c3,isAxiosError:d3,spread:u3,toFormData:h3,AxiosHeaders:m3,HttpStatusCode:f3,formToJSON:p3,getAdapter:x3,mergeConfig:g3}=He;function h4(){const t=tt();return{updateSteps:We({mutationFn:async({workspaceId:a,planId:l,steps:o})=>(await He.put(`/api/plans/${a}/${l}/steps`,{steps:o})).data,onSuccess:(a,l)=>{t.invalidateQueries({queryKey:["plan",l.workspaceId,l.planId]}),t.invalidateQueries({queryKey:["plans",l.workspaceId]})}})}}const m4=["standard","analysis","validation","user_validation","complex","critical","build","fix","refactor","confirmation","research","planning","code","test","documentation"];function f4({step:t,onSave:n,onCancel:a,isSaving:l}){const[o,d]=S.useState({...t});return e.jsxs("div",{className:"space-y-3 p-3 bg-slate-900/60 border border-violet-500/40 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-sm font-mono text-slate-500",children:Il(t.index)}),e.jsxs("select",{value:o.status,onChange:u=>d({...o,status:u.target.value}),className:"px-2 py-1 bg-slate-700 border border-slate-600 rounded text-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-violet-500",children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"done",children:"Done"}),e.jsx("option",{value:"blocked",children:"Blocked"})]}),e.jsx("select",{value:o.type||"standard",onChange:u=>d({...o,type:u.target.value}),className:"px-2 py-1 bg-slate-700 border border-slate-600 rounded text-sm text-slate-200 focus:outline-none focus:ring-2 focus:ring-violet-500",children:m4.map(u=>e.jsx("option",{value:u,children:u},u))})]}),e.jsx("textarea",{value:o.task,onChange:u=>d({...o,task:u.target.value}),className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded text-slate-200 resize-none focus:outline-none focus:ring-2 focus:ring-violet-500",rows:2,placeholder:"Task description"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{type:"text",value:o.phase,onChange:u=>d({...o,phase:u.target.value}),placeholder:"Phase",className:"px-3 py-1.5 bg-slate-800 border border-slate-600 rounded text-sm text-slate-300 focus:outline-none focus:ring-2 focus:ring-violet-500"}),e.jsx("input",{type:"text",value:o.assignee||"",onChange:u=>d({...o,assignee:u.target.value||void 0}),placeholder:"Assignee (optional)",className:"px-3 py-1.5 bg-slate-800 border border-slate-600 rounded text-sm text-slate-300 focus:outline-none focus:ring-2 focus:ring-violet-500"})]}),e.jsx("textarea",{value:o.notes||"",onChange:u=>d({...o,notes:u.target.value||void 0}),placeholder:"Notes (optional)",className:"w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded text-sm text-slate-300 resize-none focus:outline-none focus:ring-2 focus:ring-violet-500",rows:2}),e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs("button",{onClick:a,disabled:l,className:"px-3 py-1.5 bg-slate-700 hover:bg-slate-600 rounded text-sm transition-colors flex items-center gap-1.5 disabled:opacity-50",children:[e.jsx(Ht,{size:14}),"Cancel"]}),e.jsxs("button",{onClick:()=>n(o),disabled:l||!o.task.trim(),className:"px-3 py-1.5 bg-violet-600 hover:bg-violet-500 text-white rounded text-sm transition-colors flex items-center gap-1.5 disabled:opacity-50",children:[e.jsx(zl,{size:14}),l?"Saving...":"Save"]})]})]})}function p4({steps:t,workspaceId:n,planId:a,editable:l=!1,phases:o}){const[d,u]=S.useState(!1),[m,p]=S.useState(null),[x,v]=S.useState(new Set),[y,N]=S.useState({status:[],type:[],assignee:[],search:""}),[k,j]=S.useState({field:"index",direction:"asc"}),{updateSteps:b}=h4(),[g,P]=S.useState(!1),O=AN(t,y,k),C=y.status.length>0||y.type.length>0||y.assignee.length>0||y.search.length>0,R=O.reduce((W,H)=>(W[H.phase]||(W[H.phase]=[]),W[H.phase].push(H),W),{}),U=W=>{v(H=>{const Q=new Set(H);return Q.has(W)?Q.delete(W):Q.add(W),Q})},B=async W=>{if(!(!n||!a))try{await b.mutateAsync({workspaceId:n,planId:a,steps:W}),u(!1)}catch(H){console.error("Failed to update steps:",H)}},L=async W=>{if(!(!n||!a)){P(!0);try{const H=t.map(Q=>Q.index===W.index?W:Q);await b.mutateAsync({workspaceId:n,planId:a,steps:H}),p(null)}catch(H){console.error("Failed to update step:",H)}finally{P(!1)}}};return d&&n&&a?e.jsx(TN,{steps:t,onSave:B,onCancel:()=>u(!1)}):e.jsxs("div",{className:"space-y-6",children:[t.length>3&&e.jsx(zN,{steps:t,filters:y,sort:k,onFiltersChange:N,onSortChange:j}),C&&e.jsxs("div",{className:"text-sm text-slate-400",children:["Showing ",O.length," of ",t.length," steps"]}),l&&n&&a&&e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(No,{size:16}),"Edit All Steps"]})}),Object.entries(R).map(([W,H])=>{const Q=x.has(W),le=H.filter(ie=>ie.status==="done").length,G=le===H.length&&H.length>0,ne=o==null?void 0:o.find(ie=>ie.name===W),xe=(ne==null?void 0:ne.criteria)&&ne.criteria.length>0;return e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>U(W),className:"flex items-center gap-2 mb-3 group w-full text-left",children:[Q?e.jsx(Es,{size:16,className:"text-slate-500 group-hover:text-slate-300 transition-colors"}):e.jsx(_s,{size:16,className:"text-slate-500 group-hover:text-slate-300 transition-colors"}),e.jsx("h4",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wider group-hover:text-slate-300 transition-colors",children:W}),e.jsxs("span",{className:"text-xs text-slate-500",children:[le,"/",H.length]}),xe&&(G?e.jsx("span",{title:`Phase criteria met (${ne.criteria.length})`,children:e.jsx(Xu,{size:14,className:"text-green-400"})}):e.jsx("span",{title:`Phase criteria: ${ne.criteria.join(", ")}`,children:e.jsx(jx,{size:14,className:"text-slate-500"})}))]}),!Q&&e.jsx("div",{className:"space-y-2",children:H.map(ie=>e.jsx("div",{children:m===ie.index?e.jsx(f4,{step:ie,onSave:L,onCancel:()=>p(null),isSaving:g}):e.jsxs("div",{className:I("flex items-start gap-3 p-3 bg-slate-800/50 border rounded-lg group/step",ie.status==="active"?"border-blue-500/50":"border-slate-700"),children:[e.jsx("span",{className:"text-lg",title:ie.status,children:Bx[ie.status]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm font-mono text-slate-500",children:Il(ie.index)}),e.jsx(fe,{variant:n0[ie.status],children:ie.status}),ie.type&&e.jsx(fe,{variant:a0[ie.type],children:ie.type})]}),e.jsx("p",{className:"text-slate-200",children:ie.task}),ie.notes&&e.jsx("p",{className:"mt-1 text-sm text-slate-400",children:ie.notes}),(ie.assignee||ie.requires_validation)&&e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 text-xs",children:[ie.assignee&&e.jsxs("span",{className:"px-2 py-0.5 rounded border border-slate-600 text-slate-300",children:["Assignee: ",ie.assignee]}),ie.requires_validation&&e.jsx("span",{className:"px-2 py-0.5 rounded border border-amber-500/50 text-amber-300",children:"Requires validation"})]})]}),l&&n&&a&&e.jsx("button",{onClick:()=>p(ie.index),className:"p-1.5 rounded hover:bg-slate-700 transition-colors opacity-0 group-hover/step:opacity-100 focus:opacity-100",title:"Edit step",children:e.jsx(No,{size:14,className:"text-slate-400"})})]})},ie.index))})]},W)})]})}function x4({steps:t,className:n,view:a="bar"}){return a==="kanban"?e.jsx(y4,{steps:t,className:n}):e.jsx(g4,{steps:t,className:n})}function g4({steps:t,className:n}){const a={done:t.filter(o=>o.status==="done").length,active:t.filter(o=>o.status==="active").length,pending:t.filter(o=>o.status==="pending").length,blocked:t.filter(o=>o.status==="blocked").length},l=t.length;return l===0?null:e.jsxs("div",{className:I("space-y-3",n),children:[e.jsxs("div",{className:"h-4 rounded-full overflow-hidden flex bg-slate-700",children:[a.done>0&&e.jsx("div",{className:"bg-green-500 transition-all duration-500",style:{width:`${a.done/l*100}%`},title:`${a.done} done`}),a.active>0&&e.jsx("div",{className:"bg-blue-500 transition-all duration-500",style:{width:`${a.active/l*100}%`},title:`${a.active} active`}),a.blocked>0&&e.jsx("div",{className:"bg-red-500 transition-all duration-500",style:{width:`${a.blocked/l*100}%`},title:`${a.blocked} blocked`})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 bg-green-500 rounded"}),e.jsxs("span",{className:"text-slate-400",children:["Done (",a.done,")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded"}),e.jsxs("span",{className:"text-slate-400",children:["Active (",a.active,")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 bg-slate-600 rounded"}),e.jsxs("span",{className:"text-slate-400",children:["Pending (",a.pending,")"]})]}),a.blocked>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 bg-red-500 rounded"}),e.jsxs("span",{className:"text-slate-400",children:["Blocked (",a.blocked,")"]})]})]})]})}function y4({steps:t,className:n}){const a=[{status:"pending",label:"Pending",color:"border-slate-500"},{status:"active",label:"In Progress",color:"border-blue-500"},{status:"done",label:"Done",color:"border-green-500"},{status:"blocked",label:"Blocked",color:"border-red-500"}];return e.jsx("div",{className:I("grid grid-cols-4 gap-4",n),children:a.map(l=>{const o=t.filter(d=>d.status===l.status);return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:I("p-2 rounded-t-lg border-t-2",l.color,"bg-slate-800/50"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium text-slate-300",children:l.label}),e.jsx("span",{className:"text-xs bg-slate-700 px-2 py-0.5 rounded-full",children:o.length})]})}),e.jsxs("div",{className:"space-y-2 min-h-[100px]",children:[o.map(d=>e.jsxs("div",{className:"p-3 bg-slate-800 border border-slate-700 rounded-lg text-sm",children:[e.jsxs("div",{className:"text-xs text-slate-500 mb-1",children:[Il(d.index),"  ",d.phase]}),d.type&&e.jsx("span",{className:I("inline-flex mb-1 px-1.5 py-0.5 rounded text-[11px] border",a0[d.type]),children:d.type}),e.jsx("p",{className:"text-slate-200 line-clamp-2",children:d.task})]},d.index)),o.length===0&&e.jsx("div",{className:"p-3 border border-dashed border-slate-700 rounded-lg text-center text-slate-500 text-sm",children:"No items"})]})]},l.status)})})}function v4({content:t}){const n=S.useMemo(()=>{const a=[],l=/```(\w+)?\n([\s\S]*?)```/g;let o=0,d;for(;(d=l.exec(t))!==null;)d.index>o&&a.push({type:"text",value:t.slice(o,d.index)}),a.push({type:"code",lang:d[1],value:d[2]}),o=d.index+d[0].length;return o<t.length&&a.push({type:"text",value:t.slice(o)}),a},[t]);return e.jsx("div",{className:"space-y-2",children:n.map((a,l)=>a.type==="code"?e.jsxs("div",{className:"relative",children:[a.lang&&e.jsx("span",{className:"absolute top-1 right-2 text-[10px] text-slate-500 font-mono select-none",children:a.lang}),e.jsx("pre",{className:"bg-slate-950 border border-slate-700 rounded-lg p-3 text-xs text-emerald-300 font-mono overflow-x-auto",children:a.value})]},l):e.jsx("pre",{className:"whitespace-pre-wrap text-slate-300 font-sans text-sm",children:a.value},l))})}function b4({workspaceId:t,planId:n,className:a}){const[l,o]=S.useState([]),[d,u]=S.useState(null),[m,p]=S.useState(!0),[x,v]=S.useState(null),[y,N]=S.useState("");S.useEffect(()=>{async function j(){var b;try{p(!0);const g=await fetch(`/api/plans/${t}/${n}/research`);if(!g.ok)throw new Error("Failed to fetch research notes");const P=await g.json();o(P.notes||[]),((b=P.notes)==null?void 0:b.length)>0&&u(P.notes[0])}catch(g){v(g instanceof Error?g.message:"Failed to load notes")}finally{p(!1)}}j()},[t,n]);const k=S.useMemo(()=>{if(!y.trim())return l;const j=y.toLowerCase();return l.filter(b=>b.filename.toLowerCase().includes(j)||b.content.toLowerCase().includes(j))},[l,y]);return m?e.jsxs("div",{className:I("animate-pulse space-y-4",a),children:[e.jsx("div",{className:"h-8 bg-slate-700 rounded w-1/3"}),e.jsx("div",{className:"h-64 bg-slate-700 rounded"})]}):x?e.jsx("div",{className:I("text-center py-8 text-slate-500",a),children:e.jsx("p",{children:x})}):l.length===0?e.jsxs("div",{className:I("text-center py-8 text-slate-500",a),children:[e.jsx(kx,{className:"mx-auto mb-2 opacity-50",size:32}),e.jsx("p",{children:"No research notes yet"}),e.jsx("p",{className:"text-sm",children:"Notes created by the Researcher agent will appear here"})]}):e.jsxs("div",{className:I("flex gap-4",a),children:[e.jsxs("div",{className:"w-64 shrink-0 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 px-2",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-400",children:"Research Notes"}),e.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] bg-violet-900/50 text-violet-300",children:[e.jsx(Sx,{size:10}),l.length]})]}),e.jsxs("div",{className:"relative px-2",children:[e.jsx(fr,{size:14,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500"}),e.jsx("input",{type:"text",value:y,onChange:j=>N(j.target.value),placeholder:"Filter notes...",className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-8 pr-3 py-1.5 text-xs text-slate-100 focus:outline-none focus:border-violet-500 placeholder:text-slate-600"})]}),e.jsxs("div",{className:"space-y-1",children:[k.map(j=>e.jsxs("button",{onClick:()=>u(j),className:I("w-full flex items-center gap-2 px-3 py-2 rounded-lg text-left transition-colors",(d==null?void 0:d.filename)===j.filename?"bg-violet-500/20 text-violet-300":"text-slate-400 hover:bg-slate-700 hover:text-slate-200"),children:[e.jsx(lt,{size:16}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"truncate text-sm",children:j.filename}),e.jsx("div",{className:"text-xs opacity-60",children:Nt(j.modified_at)})]}),e.jsx(Es,{size:16,className:"opacity-50"})]},j.filename)),k.length===0&&e.jsx("p",{className:"text-xs text-slate-500 px-3 py-2",children:"No matches"})]})]}),e.jsx("div",{className:"flex-1 bg-slate-900 rounded-lg border border-slate-700 p-4 overflow-auto",children:d?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-slate-700",children:[e.jsx("h3",{className:"font-semibold text-lg",children:d.filename}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[e.jsx(Qs,{size:14}),e.jsx("span",{children:Nt(d.modified_at)})]})]}),e.jsx(v4,{content:d.content})]}):e.jsx("div",{className:"text-center py-8 text-slate-500",children:"Select a note to view"})})]})}async function j4(t,n){const a=await fetch(`/api/plans/${t}/${n}/context`);if(!a.ok)throw new Error("Failed to fetch context files");return(await a.json()).context||[]}async function w4(t,n,a){const l=await fetch(`/api/plans/${t}/${n}/context/${a}`);if(!l.ok)throw new Error("Failed to fetch context file");return l.json()}function N4(t){return t.replace(/\.json$/,"").replace(/[_-]/g," ").replace(/\b\w/g,n=>n.toUpperCase())}function k4(t){const n=t.toLowerCase();return n.includes("initial")||n.includes("request")?"border-blue-500/40 bg-blue-500/5":n.includes("research")||n.includes("analysis")?"border-emerald-500/40 bg-emerald-500/5":n.includes("design")||n.includes("architect")?"border-amber-500/40 bg-amber-500/5":n.includes("note")||n.includes("context_note")?"border-violet-500/40 bg-violet-500/5":"border-slate-600 bg-slate-800/50"}function Iu({value:t,depth:n=0}){if(t==null)return e.jsx("span",{className:"text-slate-500 italic",children:""});if(typeof t=="string")return t.includes(`
`)?e.jsx("pre",{className:"whitespace-pre-wrap text-slate-300 text-sm font-sans",children:t}):e.jsx("span",{className:"text-slate-200",children:t});if(typeof t=="number"||typeof t=="boolean")return e.jsx("span",{className:"text-emerald-300 font-mono text-sm",children:String(t)});if(Array.isArray(t))return t.length===0?e.jsx("span",{className:"text-slate-500 italic",children:"empty"}):t.every(a=>typeof a=="string"||typeof a=="number")&&t.length<=5?e.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.map((a,l)=>e.jsx("span",{className:"px-2 py-0.5 bg-slate-700 rounded text-xs text-slate-200",children:String(a)},l))}):e.jsx("div",{className:I("space-y-2",n>0&&"ml-4"),children:t.map((a,l)=>e.jsx("div",{className:"border-l-2 border-slate-700 pl-3",children:e.jsx(Iu,{value:a,depth:n+1})},l))});if(typeof t=="object"){const a=Object.entries(t);return a.length===0?e.jsx("span",{className:"text-slate-500 italic",children:"empty"}):e.jsx("div",{className:I("space-y-2",n>0&&"ml-4"),children:a.map(([l,o])=>e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400 text-xs font-medium uppercase tracking-wide",children:l.replace(/_/g," ")}),e.jsx("div",{className:"mt-0.5",children:e.jsx(Iu,{value:o,depth:n+1})})]},l))})}return e.jsx("span",{className:"text-slate-300",children:String(t)})}function S4({workspaceId:t,planId:n,filename:a}){const l=a.replace(/\.json$/,""),{data:o,isLoading:d,error:u}=Le({queryKey:["context-file",t,n,l],queryFn:()=>w4(t,n,l)}),m=S.useMemo(()=>{if(!o)return null;const{type:p,plan_id:x,workspace_id:v,stored_at:y,data:N,...k}=o;return{storedAt:y,content:N||k}},[o]);return e.jsx(i0,{title:N4(a),subtitle:m!=null&&m.storedAt?Nt(m.storedAt):void 0,defaultOpen:!1,badge:d?e.jsx("span",{className:"text-xs text-slate-500",children:"loading..."}):u?e.jsx("span",{className:"text-xs text-red-400",children:"error"}):null,className:I("border rounded-lg p-0",k4(a)),children:e.jsxs("div",{className:"p-4",children:[d&&e.jsxs("div",{className:"animate-pulse space-y-2",children:[e.jsx("div",{className:"h-4 bg-slate-700 rounded w-2/3"}),e.jsx("div",{className:"h-4 bg-slate-700 rounded w-1/2"})]}),u&&e.jsx("p",{className:"text-red-400 text-sm",children:"Failed to load context"}),m&&e.jsx(Iu,{value:m.content})]})})}function C4({workspaceId:t,planId:n,className:a}){const[l,o]=S.useState(""),{data:d=[],isLoading:u,error:m}=Le({queryKey:["context-files",t,n],queryFn:()=>j4(t,n),enabled:!!t&&!!n}),p=S.useMemo(()=>{if(!l.trim())return d;const x=l.toLowerCase();return d.filter(v=>v.toLowerCase().includes(x))},[d,l]);return u?e.jsxs("div",{className:I("animate-pulse space-y-4",a),children:[e.jsx("div",{className:"h-8 bg-slate-700 rounded w-1/3"}),e.jsx("div",{className:"h-32 bg-slate-700 rounded"})]}):m?e.jsx("div",{className:I("text-center py-8 text-slate-500",a),children:e.jsx("p",{children:"Failed to load context files"})}):d.length===0?e.jsxs("div",{className:I("text-center py-8 text-slate-500",a),children:[e.jsx(To,{className:"mx-auto mb-2 opacity-50",size:32}),e.jsx("p",{children:"No context data stored yet"}),e.jsx("p",{className:"text-sm",children:"Context from agent sessions (initial request, analysis, design decisions) will appear here"})]}):e.jsxs("div",{className:I("space-y-4",a),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-400",children:"Plan Context"}),e.jsxs("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-[10px] bg-blue-900/50 text-blue-300",children:[e.jsx(Sx,{size:10}),d.length]}),e.jsx("div",{className:"flex-1"}),e.jsxs("a",{href:`/workspace/${t}/plan/${n}/context`,className:"inline-flex items-center gap-1 text-xs text-violet-400 hover:text-violet-300 transition-colors",children:[e.jsx(Nx,{size:12}),"Full Page"]})]}),d.length>3&&e.jsxs("div",{className:"relative",children:[e.jsx(fr,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500"}),e.jsx("input",{type:"text",value:l,onChange:x=>o(x.target.value),placeholder:"Filter context files...",className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-8 pr-3 py-1.5 text-xs text-slate-100 focus:outline-none focus:border-violet-500 placeholder:text-slate-600"})]}),e.jsxs("div",{className:"space-y-3",children:[p.map(x=>e.jsx(S4,{workspaceId:t,planId:n,filename:x},x)),p.length===0&&l&&e.jsx("p",{className:"text-xs text-slate-500 text-center py-4",children:"No matching context files"})]})]})}function _4({workspaceId:t,planId:n,className:a}){const[l,o]=S.useState([]),[d,u]=S.useState(!0),[m,p]=S.useState(null),[x,v]=S.useState(new Set),[y,N]=S.useState("all");S.useEffect(()=>{async function g(){try{u(!0);const P=await fetch(`/api/plans/${t}/${n}/audit`);if(!P.ok)throw new Error("Failed to fetch audit log");const O=await P.json(),C=Array.isArray(O)?O:O.entries||[];o(C)}catch(P){p(P instanceof Error?P.message:"Failed to load audit log")}finally{u(!1)}}g()},[t,n]);const k=g=>{const P=new Set(x);P.has(g)?P.delete(g):P.add(g),v(P)},j=y==="all"?l:l.filter(g=>g.agent_type===y),b=[...new Set(l.map(g=>g.agent_type))];return d?e.jsx("div",{className:I("animate-pulse space-y-4",a),children:[1,2,3].map(g=>e.jsx("div",{className:"h-16 bg-slate-700 rounded"},g))}):m?e.jsx("div",{className:I("text-center py-8 text-slate-500",a),children:e.jsx("p",{children:m})}):l.length===0?e.jsxs("div",{className:I("text-center py-8 text-slate-500",a),children:[e.jsx(Jj,{className:"mx-auto mb-2 opacity-50",size:32}),e.jsx("p",{children:"No audit entries yet"}),e.jsx("p",{className:"text-sm",children:"Agent activity will be logged here"})]}):e.jsxs("div",{className:I("space-y-4",a),children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[e.jsx(Zu,{size:16}),e.jsx("span",{children:"Filter by agent:"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>N("all"),className:I("px-3 py-1 rounded text-sm transition-colors",y==="all"?"bg-violet-500/20 text-violet-300":"bg-slate-700 text-slate-400 hover:text-slate-200"),children:["All (",l.length,")"]}),b.map(g=>e.jsxs("button",{onClick:()=>N(g),className:I("px-3 py-1 rounded text-sm transition-colors",y===g?rs[g]:"bg-slate-700 text-slate-400 hover:text-slate-200"),children:[Qt[g]," ",g," (",l.filter(P=>P.agent_type===g).length,")"]},g))]})]}),e.jsx("div",{className:"space-y-2",children:j.map((g,P)=>e.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg overflow-hidden",children:[e.jsxs("button",{onClick:()=>k(P),className:"w-full flex items-center gap-3 p-3 text-left hover:bg-slate-700/30 transition-colors",children:[e.jsx("span",{className:"text-lg",children:x.has(P)?e.jsx(_s,{size:16}):e.jsx(Es,{size:16})}),e.jsxs(fe,{variant:rs[g.agent_type],children:[Qt[g.agent_type]," ",g.agent_type]}),e.jsx("span",{className:"flex-1 text-sm text-slate-300",children:g.action}),g.tool&&e.jsx("span",{className:"text-xs font-mono bg-slate-700 px-2 py-0.5 rounded",children:g.tool}),g.duration_ms&&e.jsxs("span",{className:"text-xs text-slate-500",children:[g.duration_ms,"ms"]}),e.jsx("span",{className:"text-xs text-slate-500",children:Nt(g.timestamp)})]}),x.has(P)&&e.jsx("div",{className:"px-3 pb-3 pt-0",children:e.jsxs("div",{className:"p-3 bg-slate-900 rounded border border-slate-700",children:[e.jsx("div",{className:"text-xs text-slate-500 mb-2",children:Zx(g.timestamp)}),e.jsx("pre",{className:"text-xs text-slate-400 overflow-x-auto",children:JSON.stringify(g.details,null,2)})]})})]},P))}),e.jsxs("div",{className:"text-sm text-slate-500 pt-4 border-t border-slate-700",children:["Showing ",j.length," of ",l.length," entries"]})]})}function E4({workspaceId:t,planId:n,planTitle:a}){const[l,o]=S.useState(!1),[d,u]=S.useState(!1),[m,p]=S.useState("idle"),[x,v]=S.useState(""),y=async k=>{u(!0),p("idle"),v("");try{const j=k==="markdown"?`/api/reports/${t}/${n}/markdown`:`/api/reports/${t}/${n}/json`,b=await fetch(j);if(!b.ok)throw new Error("Failed to generate report");const g=await b.json(),P=k==="markdown"?g.content:JSON.stringify(g,null,2),O=k==="markdown"?`${a.replace(/[^a-z0-9]/gi,"_")}_report.md`:`${a.replace(/[^a-z0-9]/gi,"_")}_report.json`,C=new Blob([P],{type:k==="markdown"?"text/markdown":"application/json"}),R=URL.createObjectURL(C),U=document.createElement("a");U.href=R,U.download=O,document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(R),p("success"),v(`Exported as ${O}`),setTimeout(()=>{o(!1),p("idle")},2e3)}catch(j){console.error("Export failed:",j),p("error"),v("Failed to export report")}finally{u(!1)}},N=async k=>{u(!0),p("idle");try{const j=k==="markdown"?`/api/reports/${t}/${n}/markdown`:`/api/reports/${t}/${n}/json`,b=await fetch(j);if(!b.ok)throw new Error("Failed to generate report");const g=await b.json(),P=k==="markdown"?g.content:JSON.stringify(g,null,2);await navigator.clipboard.writeText(P),p("success"),v("Copied to clipboard!"),setTimeout(()=>{p("idle")},2e3)}catch(j){console.error("Copy failed:",j),p("error"),v("Failed to copy")}finally{u(!1)}};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>o(!l),className:I("flex items-center gap-2 px-3 py-2 rounded-lg transition-colors text-sm","bg-slate-700 hover:bg-slate-600 text-slate-200"),children:[e.jsx($d,{size:16}),"Export Report"]}),l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)}),e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-slate-800 border border-slate-700 rounded-lg shadow-xl z-50",children:[e.jsxs("div",{className:"p-3 border-b border-slate-700",children:[e.jsx("h3",{className:"font-semibold text-sm",children:"Export Plan Report"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Download or copy the full plan report"})]}),m!=="idle"&&e.jsxs("div",{className:I("mx-3 mt-3 p-2 rounded text-xs flex items-center gap-2",m==="success"?"bg-emerald-500/20 text-emerald-300":"bg-red-500/20 text-red-300"),children:[m==="success"?e.jsx(zl,{size:14}):e.jsx(Ht,{size:14}),x]}),e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(lt,{size:14,className:"text-blue-400"}),"Markdown Report"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>y("markdown"),disabled:d,className:I("flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded text-xs transition-colors","bg-blue-500/20 hover:bg-blue-500/30 text-blue-300",d&&"opacity-50 cursor-not-allowed"),children:[d?e.jsx(Bt,{size:12,className:"animate-spin"}):e.jsx($d,{size:12}),"Download"]}),e.jsx("button",{onClick:()=>N("markdown"),disabled:d,className:I("flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded text-xs transition-colors","bg-slate-700 hover:bg-slate-600 text-slate-300",d&&"opacity-50 cursor-not-allowed"),children:"Copy"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(qj,{size:14,className:"text-amber-400"}),"JSON Data"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>y("json"),disabled:d,className:I("flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded text-xs transition-colors","bg-amber-500/20 hover:bg-amber-500/30 text-amber-300",d&&"opacity-50 cursor-not-allowed"),children:[d?e.jsx(Bt,{size:12,className:"animate-spin"}):e.jsx($d,{size:12}),"Download"]}),e.jsx("button",{onClick:()=>N("json"),disabled:d,className:I("flex-1 flex items-center justify-center gap-1 px-2 py-1.5 rounded text-xs transition-colors","bg-slate-700 hover:bg-slate-600 text-slate-300",d&&"opacity-50 cursor-not-allowed"),children:"Copy"})]})]})]}),e.jsx("div",{className:"p-3 border-t border-slate-700",children:e.jsx("p",{className:"text-xs text-slate-500",children:"Reports include: steps, sessions, handoffs, and audit log"})})]})]})]})}const Gd=({isOpen:t,title:n,message:a,confirmText:l,confirmVariant:o,onConfirm:d,onCancel:u,isLoading:m,children:p})=>{if(!t)return null;const x={danger:"bg-red-600 hover:bg-red-700 focus:ring-red-500",warning:"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500",primary:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"};return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-full items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:u}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:n}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:a}),p,e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx("button",{onClick:u,disabled:m,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:d,disabled:m,className:`px-4 py-2 text-white rounded-lg transition-colors focus:ring-2 focus:ring-offset-2 disabled:opacity-50 ${x[o]}`,children:m?"Processing...":l})]})]})]})})},P4=({workspaceId:t,planId:n,planTitle:a,onActionComplete:l})=>{const[o,d]=S.useState(null),[u,m]=S.useState(`${a} (Copy)`),[p,x]=S.useState(!1),v=tt(),y=We({mutationFn:()=>He.post(`/api/plans/${t}/${n}/archive`),onSuccess:()=>{v.invalidateQueries({queryKey:["plans",t]}),d(null),l==null||l()}}),N=We({mutationFn:j=>He.delete(`/api/plans/${t}/${n}?archive=${!j}`),onSuccess:()=>{v.invalidateQueries({queryKey:["plans",t]}),d(null),l==null||l()}}),k=We({mutationFn:j=>He.post(`/api/plans/${t}/${n}/duplicate`,{newTitle:j}),onSuccess:()=>{v.invalidateQueries({queryKey:["plans",t]}),d(null),l==null||l()}});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>d("duplicate"),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Duplicate as template",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),e.jsx("button",{onClick:()=>d("archive"),className:"p-2 text-gray-500 hover:text-amber-600 hover:bg-amber-50 dark:hover:bg-amber-900/20 rounded-lg transition-colors",title:"Archive plan",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})})}),e.jsx("button",{onClick:()=>d("delete"),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete plan",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),e.jsx(Gd,{isOpen:o==="archive",title:"Archive Plan",message:`Are you sure you want to archive "${a}"? The plan will be marked as archived and removed from the active list.`,confirmText:"Archive",confirmVariant:"warning",onConfirm:()=>y.mutate(),onCancel:()=>d(null),isLoading:y.isPending}),e.jsx(Gd,{isOpen:o==="delete",title:"Delete Plan",message:`Are you sure you want to delete "${a}"?`,confirmText:p?"Delete Permanently":"Move to Archive",confirmVariant:"danger",onConfirm:()=>N.mutate(p),onCancel:()=>{d(null),x(!1)},isLoading:N.isPending,children:e.jsxs("label",{className:"flex items-center gap-2 mt-4 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:j=>x(j.target.checked),className:"rounded text-red-600 focus:ring-red-500"}),"Delete permanently (cannot be undone)"]})}),e.jsx(Gd,{isOpen:o==="duplicate",title:"Duplicate Plan",message:"Create a copy of this plan as a template. All steps will be reset to pending status.",confirmText:"Duplicate",confirmVariant:"primary",onConfirm:()=>k.mutate(u),onCancel:()=>d(null),isLoading:k.isPending,children:e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"New Plan Title"}),e.jsx("input",{type:"text",value:u,onChange:j=>m(j.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]})})]})};function R4({workspaceId:t,planId:n,onSuccess:a,autoExpand:l=!1}){const[o,d]=S.useState(""),[u,m]=S.useState("info"),[p,x]=S.useState(!1),v=tt();S.useEffect(()=>{l&&x(!0)},[l]);const y=We({mutationFn:async b=>(await He.post(`/api/plans/${t}/${n}/notes`,b)).data,onSuccess:()=>{v.invalidateQueries({queryKey:["plan",t,n]}),d(""),x(!1),a==null||a()}}),N=b=>{b.preventDefault(),o.trim()&&y.mutate({note:o.trim(),type:u})},k={info:e.jsx(pa,{size:16}),warning:e.jsx(ut,{size:16}),instruction:e.jsx(ho,{size:16})},j={info:"text-blue-400 hover:bg-blue-900/20 border-blue-500/30",warning:"text-amber-400 hover:bg-amber-900/20 border-amber-500/30",instruction:"text-violet-400 hover:bg-violet-900/20 border-violet-500/30"};return p?e.jsxs("form",{onSubmit:N,className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Ru,{size:18,className:"text-violet-400"}),e.jsx("h4",{className:"font-semibold",children:"Add Note for Next Agent"})]}),e.jsx("p",{className:"text-sm text-slate-400 mb-3",children:"This note will be included in the next tool response and automatically cleared after delivery."}),e.jsx("div",{className:"flex gap-2 mb-3",children:["info","warning","instruction"].map(b=>e.jsxs("button",{type:"button",onClick:()=>m(b),className:I("flex-1 py-2 px-3 border rounded-lg text-sm transition-colors flex items-center justify-center gap-2",u===b?j[b]+" border-current":"text-slate-400 border-slate-600 hover:bg-slate-700"),children:[k[b],b]},b))}),e.jsx("textarea",{value:o,onChange:b=>d(b.target.value),placeholder:"Enter your note here (e.g., additional context, instructions, or corrections)...",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded text-slate-200 resize-none focus:outline-none focus:ring-2 focus:ring-violet-500 mb-3",rows:3,autoFocus:!0}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{type:"button",onClick:()=>{x(!1),d("")},className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-sm transition-colors",disabled:y.isPending,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:!o.trim()||y.isPending,className:"px-4 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y.isPending?"Adding...":"Add Note"})]}),y.isError&&e.jsxs("p",{className:"mt-2 text-sm text-red-400",children:["Failed to add note: ",y.error.message]})]}):e.jsxs("button",{onClick:()=>x(!0),className:"w-full py-3 px-4 bg-slate-800 border-2 border-dashed border-slate-600 hover:border-violet-500 rounded-lg text-sm text-slate-400 hover:text-violet-300 transition-colors flex items-center justify-center gap-2",children:[e.jsx(Ru,{size:16}),"Add note for next agent"]})}function T4({plan:t,workspaceId:n,planId:a}){const[l,o]=S.useState(!1),[d,u]=S.useState(!1),[m,p]=S.useState(t.goals||[]),[x,v]=S.useState(t.success_criteria||[]),[y,N]=S.useState(""),[k,j]=S.useState(""),b=tt(),g=We({mutationFn:async({goals:H,success_criteria:Q})=>{const le=await fetch(`/api/plans/${n}/${a}/goals`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({goals:H,success_criteria:Q})});if(!le.ok)throw new Error("Failed to update goals");return le.json()},onSuccess:()=>{b.invalidateQueries({queryKey:["plan",n,a]})}}),P=()=>{g.mutate({goals:m}),o(!1)},O=()=>{g.mutate({success_criteria:x}),u(!1)},C=()=>{p(t.goals||[]),o(!1)},R=()=>{v(t.success_criteria||[]),u(!1)},U=()=>{y.trim()&&(p([...m,y.trim()]),N(""))},B=()=>{k.trim()&&(v([...x,k.trim()]),j(""))},L=H=>{p(m.filter((Q,le)=>le!==H))},W=H=>{v(x.filter((Q,le)=>le!==H))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t0,{size:20,className:"text-violet-400"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Goals"}),e.jsx(fe,{variant:"slate",children:m.length})]}),!l&&e.jsxs("button",{onClick:()=>o(!0),className:"px-3 py-1.5 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(No,{size:14}),"Edit"]})]}),l?e.jsxs("div",{className:"space-y-3",children:[m.map((H,Q)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"flex-1 p-3 bg-slate-900 border border-slate-700 rounded",children:e.jsx("p",{className:"text-slate-200",children:H})}),e.jsx("button",{onClick:()=>L(Q),className:"p-2 text-red-400 hover:bg-red-500/10 rounded transition-colors",children:e.jsx(Wt,{size:16})})]},Q)),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:y,onChange:H=>N(H.target.value),onKeyDown:H=>H.key==="Enter"&&U(),placeholder:"Add a new goal...",className:"flex-1 px-3 py-2 bg-slate-900 border border-slate-700 rounded focus:border-violet-500 focus:outline-none text-slate-200"}),e.jsxs("button",{onClick:U,className:"px-3 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded transition-colors flex items-center gap-2",children:[e.jsx(ft,{size:16}),"Add"]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs("button",{onClick:P,disabled:g.isPending,className:"px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50",children:[e.jsx(ca,{size:16}),"Save Changes"]}),e.jsxs("button",{onClick:C,disabled:g.isPending,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(Ht,{size:16}),"Cancel"]})]})]}):e.jsx("div",{className:"space-y-2",children:m.length>0?m.map((H,Q)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-900/50 border border-slate-700 rounded",children:[e.jsx("span",{className:"text-violet-400 mt-0.5",children:""}),e.jsx("p",{className:"flex-1 text-slate-200",children:H})]},Q)):e.jsx("p",{className:"text-slate-400 italic",children:"No goals defined yet. Click Edit to add goals."})})]}),e.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Aj,{size:20,className:"text-green-400"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Success Criteria"}),e.jsx(fe,{variant:"slate",children:x.length})]}),!d&&e.jsxs("button",{onClick:()=>u(!0),className:"px-3 py-1.5 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(No,{size:14}),"Edit"]})]}),d?e.jsxs("div",{className:"space-y-3",children:[x.map((H,Q)=>e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"flex-1 p-3 bg-slate-900 border border-slate-700 rounded",children:e.jsx("p",{className:"text-slate-200",children:H})}),e.jsx("button",{onClick:()=>W(Q),className:"p-2 text-red-400 hover:bg-red-500/10 rounded transition-colors",children:e.jsx(Wt,{size:16})})]},Q)),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:k,onChange:H=>j(H.target.value),onKeyDown:H=>H.key==="Enter"&&B(),placeholder:"Add a new success criterion...",className:"flex-1 px-3 py-2 bg-slate-900 border border-slate-700 rounded focus:border-violet-500 focus:outline-none text-slate-200"}),e.jsxs("button",{onClick:B,className:"px-3 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded transition-colors flex items-center gap-2",children:[e.jsx(ft,{size:16}),"Add"]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsxs("button",{onClick:O,disabled:g.isPending,className:"px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50",children:[e.jsx(ca,{size:16}),"Save Changes"]}),e.jsxs("button",{onClick:R,disabled:g.isPending,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(Ht,{size:16}),"Cancel"]})]})]}):e.jsx("div",{className:"space-y-2",children:x.length>0?x.map((H,Q)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-900/50 border border-slate-700 rounded",children:[e.jsx("span",{className:"text-green-400 mt-0.5",children:""}),e.jsx("p",{className:"flex-1 text-slate-200",children:H})]},Q)):e.jsx("p",{className:"text-slate-400 italic",children:"No success criteria defined yet. Click Edit to add criteria."})})]})]})}function O4({scripts:t,onRun:n,onDelete:a,isRunning:l,isDeleting:o}){return t.length===0?e.jsxs("div",{className:"text-center py-12 bg-slate-900/30 rounded-lg border-2 border-dashed border-slate-700",children:[e.jsx("p",{className:"text-slate-400",children:"No build scripts defined yet"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Add your first script using the form above"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-300",children:"Name"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-300",children:"Description"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-300",children:"Command"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-300",children:"Directory"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-slate-300",children:"Created"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-slate-300",children:"Actions"})]})}),e.jsx("tbody",{children:t.map(d=>{const u=l===d.id,m=o===d.id;return e.jsxs("tr",{className:I("border-b border-slate-700/50 hover:bg-slate-800/50 transition-colors",u&&"bg-blue-500/10",m&&"opacity-50"),children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-slate-200",children:d.name}),d.plan_id&&e.jsx("span",{className:"text-xs px-2 py-0.5 bg-violet-500/20 text-violet-300 rounded",children:"Plan"})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("p",{className:"text-slate-400 text-sm max-w-md truncate",title:d.description,children:d.description})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("code",{className:"text-xs bg-slate-900 px-2 py-1 rounded text-slate-300 font-mono",children:d.command})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-400",children:[e.jsx(kx,{size:14}),e.jsx("span",{className:"font-mono text-xs",children:d.directory})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-1 text-sm text-slate-400",children:[e.jsx(Qs,{size:14}),e.jsx("span",{children:wl(d.created_at)})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsxs("button",{onClick:()=>n(d.id),disabled:u||m,className:I("px-3 py-1.5 rounded-lg transition-colors flex items-center gap-1.5 text-sm",u?"bg-blue-500/20 text-blue-300 cursor-wait":"bg-green-600 hover:bg-green-500 text-white disabled:opacity-50 disabled:cursor-not-allowed"),title:"Run script",children:[e.jsx(Rx,{size:14}),u?"Running...":"Run"]}),e.jsxs("button",{onClick:()=>a(d.id),disabled:u||m,className:"px-3 py-1.5 bg-red-600 hover:bg-red-500 text-white rounded-lg transition-colors flex items-center gap-1.5 text-sm disabled:opacity-50 disabled:cursor-not-allowed",title:"Delete script",children:[e.jsx(Wt,{size:14}),"Delete"]})]})})]},d.id)})})]})})}function M4({onAdd:t,isPending:n}){const[a,l]=S.useState(!1),[o,d]=S.useState(""),[u,m]=S.useState(""),[p,x]=S.useState(""),[v,y]=S.useState("./"),[N,k]=S.useState(""),j=g=>{g.preventDefault(),!(!o.trim()||!p.trim())&&(t({name:o.trim(),description:u.trim(),command:p.trim(),directory:v.trim(),mcp_handle:N.trim()||void 0}),d(""),m(""),x(""),y("./"),k(""),l(!1))},b=()=>{d(""),m(""),x(""),y("./"),k(""),l(!1)};return a?e.jsxs("form",{onSubmit:j,className:"bg-slate-900/50 border border-slate-700 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Add New Build Script"}),e.jsx("button",{type:"button",onClick:b,className:"p-1 hover:bg-slate-800 rounded transition-colors",children:e.jsx(Ht,{size:18})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-300 mb-1",children:["Name ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{id:"name",type:"text",value:o,onChange:g=>d(g.target.value),placeholder:"e.g., Build Dashboard",required:!0,className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded focus:border-violet-500 focus:outline-none text-slate-200"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"directory",className:"block text-sm font-medium text-slate-300 mb-1",children:["Directory ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{id:"directory",type:"text",value:v,onChange:g=>y(g.target.value),placeholder:"e.g., ./dashboard",required:!0,className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded focus:border-violet-500 focus:outline-none text-slate-200 font-mono text-sm"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{htmlFor:"command",className:"block text-sm font-medium text-slate-300 mb-1",children:["Command ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{id:"command",type:"text",value:p,onChange:g=>x(g.target.value),placeholder:"e.g., npm run build",required:!0,className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded focus:border-violet-500 focus:outline-none text-slate-200 font-mono text-sm"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-300 mb-1",children:"Description"}),e.jsx("textarea",{id:"description",value:u,onChange:g=>m(g.target.value),placeholder:"Brief description of what this script does...",rows:2,className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded focus:border-violet-500 focus:outline-none text-slate-200 resize-none"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{htmlFor:"mcp-handle",className:"block text-sm font-medium text-slate-300 mb-1",children:["MCP Handle ",e.jsx("span",{className:"text-slate-500 text-xs",children:"(optional)"})]}),e.jsx("input",{id:"mcp-handle",type:"text",value:N,onChange:g=>k(g.target.value),placeholder:"e.g., build_dashboard",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded focus:border-violet-500 focus:outline-none text-slate-200 font-mono text-sm"}),e.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Optional handle for referencing this script via MCP tools"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{type:"submit",disabled:n||!o.trim()||!p.trim(),className:I("flex-1 px-4 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors font-medium","disabled:opacity-50 disabled:cursor-not-allowed"),children:n?"Adding...":"Add Script"}),e.jsx("button",{type:"button",onClick:b,disabled:n,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors disabled:opacity-50",children:"Cancel"})]})]}):e.jsxs("button",{onClick:()=>l(!0),className:"w-full py-3 px-4 bg-violet-600 hover:bg-violet-500 text-white rounded-lg transition-colors flex items-center justify-center gap-2 font-medium",children:[e.jsx(ft,{size:18}),"Add New Build Script"]})}function Tg({workspaceId:t,planId:n,scripts:a,onAdd:l,onRun:o,onDelete:d,isAdding:u,runningScriptId:m,deletingScriptId:p,runOutput:x}){const[v,y]=S.useState(!0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(vl,{size:20,className:"text-violet-400"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Build Scripts"}),e.jsx(fe,{variant:"slate",children:a.length})]}),e.jsx(M4,{onAdd:l,isPending:u}),x&&v&&e.jsxs("div",{className:"bg-slate-900/50 border-l-4 border-blue-500 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[x.error?e.jsx(zn,{size:18,className:"text-red-400"}):e.jsx(vl,{size:18,className:"text-blue-400"}),e.jsx("h3",{className:"font-semibold",children:x.error?"Script Error":"Script Output"})]}),e.jsx("button",{onClick:()=>y(!1),className:"text-slate-400 hover:text-slate-200 text-sm",children:"Dismiss"})]}),e.jsx("pre",{className:"bg-slate-950 rounded p-3 overflow-x-auto text-xs text-slate-300 font-mono max-h-64 overflow-y-auto",children:x.error||x.output})]}),e.jsx(O4,{scripts:a,onRun:o,onDelete:d,isRunning:m,isDeleting:p})]})}function D4(t,n){const a=new Map;for(const l of t){const o=l.phase||"Unphased";a.has(o)||a.set(o,{phase:o,steps:[],meta:void 0}),a.get(o).steps.push({index:l.index,task:l.task,status:l.status,type:l.type,assignee:l.assignee,notes:l.notes})}if(n){const l=new Map(n.map(o=>[o.name,o]));for(const o of a.values())o.meta=l.get(o.phase)}return Array.from(a.values())}function Og(t){return t.length===0?"pending":t.every(n=>n.status==="done")?"complete":t.some(n=>n.status==="blocked")?"blocked":t.some(n=>n.status==="active")?"active":"pending"}const z4={pending:"bg-gray-500/20 text-gray-300 border-gray-500/50",active:"bg-blue-500/20 text-blue-300 border-blue-500/50",complete:"bg-green-500/20 text-green-300 border-green-500/50",blocked:"bg-red-500/20 text-red-300 border-red-500/50"},A4={pending:"",active:"",complete:"",blocked:""};function F4({phaseName:t,steps:n,phaseMeta:a,defaultOpen:l=!1}){const[o,d]=S.useState(l),u=(a==null?void 0:a.phase_status)??Og(n),m=n.filter(x=>x.status==="done").length,p=n.length;return e.jsxs("div",{className:"border border-slate-700 rounded-lg overflow-hidden",children:[e.jsxs("button",{type:"button",onClick:()=>d(x=>!x),className:"w-full flex items-center justify-between gap-3 px-4 py-3 bg-slate-900/60 hover:bg-slate-900/80 transition-colors text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[o?e.jsx(_s,{size:16,className:"text-slate-400 shrink-0"}):e.jsx(Es,{size:16,className:"text-slate-400 shrink-0"}),e.jsx("h4",{className:"text-sm font-semibold text-white truncate",children:t}),e.jsxs(fe,{variant:z4[u],children:[A4[u]," ",u]})]}),e.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[(a==null?void 0:a.approval_gate)&&e.jsx(L4,{gate:a.approval_gate}),e.jsxs("span",{className:"text-xs text-slate-400",children:[m,"/",p]}),e.jsx(as,{value:m,max:p,className:"w-24"})]})]}),o&&e.jsxs("div",{className:"px-4 py-3 bg-slate-900/40 space-y-3",children:[a&&e.jsx(I4,{meta:a}),e.jsx($4,{steps:n})]})]})}function L4({gate:t}){const n=!!t.confirmed_by;return e.jsxs("span",{title:n?`Approved by ${t.confirmed_by}`:`Requires: ${t.type.replace(/_/g," ")}`,className:I("inline-flex items-center gap-1 text-xs px-1.5 py-0.5 rounded border",n?"bg-green-500/15 text-green-300 border-green-500/40":"bg-amber-500/15 text-amber-300 border-amber-500/40"),children:[n?e.jsx(Mx,{size:12}):e.jsx(Kj,{size:12}),n?"Approved":"Gate"]})}function I4({meta:t}){return e.jsxs("div",{className:"space-y-2",children:[t.criteria&&t.criteria.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Criteria"}),e.jsx("ul",{className:"space-y-0.5",children:t.criteria.map((n,a)=>e.jsxs("li",{className:"flex items-start gap-1.5 text-xs text-slate-300",children:[t.phase_status==="complete"?e.jsx(Xu,{size:13,className:"text-green-400 shrink-0 mt-0.5"}):e.jsx(jx,{size:13,className:"text-slate-500 shrink-0 mt-0.5"}),e.jsx("span",{children:n})]},a))})]}),t.required_agents&&t.required_agents.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Required Agents"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.required_agents.map(n=>e.jsxs(fe,{variant:rs[n],className:"text-[10px]",children:[Qt[n]," ",n]},n))})]})]})}function $4({steps:t}){return t.length===0?e.jsx("p",{className:"text-xs text-slate-500 italic",children:"No steps in this phase"}):e.jsx("div",{className:"space-y-1",children:t.map(n=>e.jsxs("div",{className:"flex items-start gap-2 py-1.5 px-2 rounded hover:bg-slate-800/50 transition-colors",children:[e.jsx("span",{className:"text-xs font-mono text-slate-500 shrink-0 mt-0.5 w-6 text-right",children:Il(n.index)}),e.jsx(fe,{variant:n0[n.status],className:"text-[10px] shrink-0",children:Bx[n.status]}),e.jsx("span",{className:"text-xs text-slate-300 flex-1",children:n.task}),n.assignee&&e.jsxs(fe,{variant:rs[n.assignee],className:"text-[10px] shrink-0",children:[Qt[n.assignee]," ",n.assignee]})]},n.index))})}function U4({steps:t,phases:n,defaultOpen:a=!1}){const l=D4(t,n),o=t.filter(m=>m.status==="done").length,d=t.length,u=l.reduce((m,p)=>{var v;const x=((v=p.meta)==null?void 0:v.phase_status)??Og(p.steps);return m[x]=(m[x]||0)+1,m},{});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 px-1",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-white",children:"Phases"}),e.jsxs(fe,{children:[l.length," phases"]}),e.jsx(q4,{counts:u})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsxs("span",{className:"text-xs text-slate-400",children:[o,"/",d," steps"]}),e.jsx(as,{value:o,max:d,className:"w-28"})]})]}),e.jsx("div",{className:"space-y-2",children:l.map(m=>e.jsx(F4,{phaseName:m.phase,steps:t.filter(p=>(p.phase||"Unphased")===m.phase),phaseMeta:m.meta,defaultOpen:a},m.phase))}),l.length===0&&e.jsx("p",{className:"text-sm text-slate-500 italic text-center py-6",children:"No phases found in this plan."})]})}const gp={complete:"bg-green-500/20 text-green-300 border-green-500/50",active:"bg-blue-500/20 text-blue-300 border-blue-500/50",blocked:"bg-red-500/20 text-red-300 border-red-500/50",pending:"bg-gray-500/20 text-gray-300 border-gray-500/50"};function q4({counts:t}){const n=Object.entries(t).filter(([,a])=>a>0);return n.length===0?null:e.jsx("div",{className:"flex items-center gap-1",children:n.map(([a,l])=>e.jsxs(fe,{variant:gp[a]??gp.pending,className:"text-[10px]",children:[l," ",a]},a))})}const B4={low:e.jsx(pa,{size:13}),medium:e.jsx(ut,{size:13}),high:e.jsx(Ox,{size:13}),critical:e.jsx(Dx,{size:13})},W4={open:"bg-red-500/20 text-red-300 border-red-500/50",mitigated:"bg-green-500/20 text-green-300 border-green-500/50",accepted:"bg-yellow-500/20 text-yellow-300 border-yellow-500/50",closed:"bg-slate-500/20 text-slate-300 border-slate-500/50"},H4={open:"",mitigated:"",accepted:"",closed:""};function Q4({risks:t,className:n}){if(!t||t.length===0)return e.jsxs("div",{className:I("border border-slate-700 rounded-lg p-4",n),children:[e.jsxs("h3",{className:"text-sm font-semibold text-white mb-2 flex items-center gap-2",children:[e.jsx(ut,{size:15,className:"text-slate-400"}),"Risk Register"]}),e.jsx("p",{className:"text-xs text-slate-500 italic",children:"No risks identified. Legacy v1 plans do not include risk data."})]});const a=t.filter(o=>o.status==="open").length,l=t.filter(o=>o.severity==="critical").length;return e.jsxs("div",{className:I("border border-slate-700 rounded-lg overflow-hidden",n),children:[e.jsxs("div",{className:"px-4 py-3 bg-slate-900/60 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(ut,{size:15,className:"text-slate-400"}),"Risk Register"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l>0&&e.jsxs(fe,{variant:Fl.critical,className:"text-[10px]",children:[l," critical"]}),e.jsxs("span",{className:"text-xs text-slate-400",children:[a," open / ",t.length," total"]})]})]}),e.jsx("div",{className:"divide-y divide-slate-700/50",children:t.map(o=>e.jsx(V4,{risk:o},o.id))})]})}function V4({risk:t}){const n=t.status??"open";return e.jsxs("div",{className:"px-4 py-3 bg-slate-900/40 hover:bg-slate-800/50 transition-colors space-y-1.5",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs(fe,{variant:Fl[t.severity],className:"text-[10px] shrink-0",children:[B4[t.severity]," ",t.severity]}),e.jsx("span",{className:"text-xs text-slate-200 flex-1",children:t.description}),e.jsxs(fe,{variant:W4[n],className:"text-[10px] shrink-0",children:[H4[n]," ",n]})]}),t.mitigation&&e.jsxs("div",{className:"flex items-start gap-1.5 ml-1",children:[e.jsx(Mx,{size:12,className:"text-green-400/70 shrink-0 mt-0.5"}),e.jsx("span",{className:"text-[11px] text-slate-400",children:t.mitigation})]}),t.affected_phases&&t.affected_phases.length>0&&e.jsxs("div",{className:"flex items-center gap-1.5 ml-1 flex-wrap",children:[e.jsx("span",{className:"text-[10px] text-slate-500",children:"Phases:"}),t.affected_phases.map(a=>e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-slate-700/50 text-slate-400",children:a},a))]})]})}const K4={trivial:"",easy:"",moderate:"",hard:"",extreme:""};function G4({profile:t,className:n}){return t?e.jsxs("div",{className:I("border border-slate-700 rounded-lg p-4 space-y-3",n),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(Eu,{size:15,className:"text-slate-400"}),"Difficulty Profile"]}),e.jsxs(fe,{variant:I1[t.level],className:"text-xs",children:[K4[t.level]," ",t.level]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[t.estimated_effort&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-300",children:[e.jsx(Qs,{size:13,className:"text-slate-400"}),e.jsx("span",{children:t.estimated_effort})]}),t.risk_level&&e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-300",children:[e.jsx(ut,{size:13,className:"text-yellow-400/70"}),e.jsx("span",{children:t.risk_level})]})]}),t.complexity_factors&&t.complexity_factors.length>0&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-[10px] text-slate-500 mb-1.5 flex items-center gap-1",children:[e.jsx(Ax,{size:11})," Complexity Factors"]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:t.complexity_factors.map(a=>e.jsx("span",{className:"text-[11px] px-2 py-0.5 rounded-full bg-slate-700/60 text-slate-300 border border-slate-600/50",children:a},a))})]})]}):e.jsxs("div",{className:I("border border-slate-700 rounded-lg p-4",n),children:[e.jsxs("h3",{className:"text-sm font-semibold text-white mb-2 flex items-center gap-2",children:[e.jsx(Eu,{size:15,className:"text-slate-400"}),"Difficulty Profile"]}),e.jsx("p",{className:"text-xs text-slate-500 italic",children:"No difficulty profile available. Legacy v1 plans do not include this data."})]})}function Y4(t){const n={};for(const l of t){const o=`${l.from_agent}${l.to_agent}`;n[o]=(n[o]??0)+1}const a=Object.entries(n).map(([l,o])=>{const[d,u]=l.split("");return{from:d,to:u,count:o}}).sort((l,o)=>o.count-l.count);return{total_handoffs:t.length,by_transition:n,incident_count:0,most_common_transitions:a.slice(0,5)}}function J4(t){return t.map(n=>{var o;const a=new Date(n.started_at).getTime(),l=n.completed_at?new Date(n.completed_at).getTime():Date.now();return{session_id:n.session_id,agent_type:n.agent_type,duration_ms:Math.max(0,l-a),steps_completed:0,artifacts_count:((o=n.artifacts)==null?void 0:o.length)??0,started_at:n.started_at,completed_at:n.completed_at}})}function Mg(t,n){return S.useMemo(()=>{const a=t??[],l=n??[],o=Y4(a),d=J4(l),u=d.filter(y=>y.completed_at),m=u.length>0?u.reduce((y,N)=>y+N.duration_ms,0)/u.length:0,p=l.length>0?l.filter(y=>y.completed_at).length/l.length:0,x=new Map;for(const y of d){const N=y.agent_type??"Unknown",k=x.get(N)??{total:0,durationSum:0,artifacts:0};k.total+=1,k.durationSum+=y.duration_ms,k.artifacts+=y.artifacts_count,x.set(N,k)}const v=Array.from(x.entries()).map(([y,N])=>({agent_type:y,total_sessions:N.total,avg_duration_ms:N.total>0?Math.round(N.durationSum/N.total):0,total_steps_completed:0})).sort((y,N)=>N.total_sessions-y.total_sessions);return{handoffStats:o,sessionStats:d,agentPerformance:v,avgSessionDuration:m,completedRatio:p}},[t,n])}function yp(t){if(t<1e3)return`${t}ms`;const n=Math.floor(t/1e3);if(n<60)return`${n}s`;const a=Math.floor(n/60),l=n%60;return a<60?`${a}m ${l}s`:`${Math.floor(a/60)}h ${a%60}m`}function X4(t){return Math.max(1,...t.map(n=>n.avg_duration_ms))}const Z4=({sessions:t})=>{const{sessionStats:n,agentPerformance:a,avgSessionDuration:l,completedRatio:o}=Mg(void 0,t);if(t.length===0)return e.jsxs("div",{className:"rounded-lg border border-gray-700 bg-gray-800/50 p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Session Analytics"}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"No session data available."})]});const d=n.filter(p=>p.completed_at).length,u=n.length-d,m=X4(a);return e.jsxs("div",{className:"rounded-lg border border-gray-700 bg-gray-800/50 p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-200 flex items-center gap-1.5",children:[e.jsx(da,{size:14,className:"text-violet-400"}),"Session Analytics"]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[t.length," sessions"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(Yd,{icon:e.jsx(da,{size:12}),label:"Total",value:String(t.length)}),e.jsx(Yd,{icon:e.jsx(Qs,{size:12}),label:"Avg Duration",value:yp(l)}),e.jsx(Yd,{icon:o>=.8?e.jsx(Hs,{size:12,className:"text-green-400"}):e.jsx(Oo,{size:12,className:"text-amber-400"}),label:"Completed",value:`${d}/${d+u}`})]}),a.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-400 uppercase tracking-wide",children:"Per-Agent Breakdown"}),e.jsx("div",{className:"space-y-1.5",children:a.map(p=>{const x=p.agent_type,v=rs[x]??"bg-gray-500/20 text-gray-300",y=Qt[x]??"",N=Math.max(4,p.avg_duration_ms/m*100);return e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsxs("span",{className:`inline-flex items-center gap-1 rounded px-1.5 py-0.5 text-[10px] font-medium border ${v} min-w-[90px]`,children:[e.jsx("span",{children:y}),p.agent_type]}),e.jsx("div",{className:"relative flex-1 h-3 rounded-full bg-gray-700/60 overflow-hidden",children:e.jsx("div",{className:"absolute inset-y-0 left-0 rounded-full bg-violet-500/50",style:{width:`${N}%`}})}),e.jsx("span",{className:"text-gray-400 min-w-[48px] text-right",children:yp(p.avg_duration_ms)}),e.jsxs("span",{className:"text-gray-500 min-w-[18px] text-right",children:["",p.total_sessions]})]},p.agent_type)})})]})]})},Yd=({icon:t,label:n,value:a})=>e.jsxs("div",{className:"rounded-md bg-gray-700/40 px-3 py-2 text-center",children:[e.jsx("div",{className:"flex items-center justify-center gap-1 text-gray-400 mb-0.5",children:t}),e.jsx("div",{className:"text-sm font-semibold text-gray-200",children:a}),e.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:n})]}),vp={low:"bg-green-500/20 text-green-300 border-green-500/50",medium:"bg-yellow-500/20 text-yellow-300 border-yellow-500/50",high:"bg-orange-500/20 text-orange-300 border-orange-500/50",critical:"bg-red-500/20 text-red-300 border-red-500/50"},e5=({lineage:t,sessions:n,incidents:a=[]})=>{const{handoffStats:l}=Mg(t,n),{total_handoffs:o,most_common_transitions:d}=l;return t.length===0&&n.length===0?e.jsxs("div",{className:"rounded-lg border border-gray-700 bg-gray-800/50 p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-400",children:"Handoff Analytics"}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"No handoff data available."})]}):e.jsxs("div",{className:"rounded-lg border border-gray-700 bg-gray-800/50 p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-200 flex items-center gap-1.5",children:[e.jsx(oa,{size:14,className:"text-cyan-400"}),"Handoff Analytics"]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[o," handoffs"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(Jd,{label:"Handoffs",value:o,icon:e.jsx(oa,{size:11})}),e.jsx(Jd,{label:"Transitions",value:d.length,icon:e.jsx(Al,{size:11})}),a.length>0&&e.jsx(Jd,{label:"Incidents",value:a.length,icon:e.jsx(ut,{size:11}),accent:!0})]}),d.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-400 uppercase tracking-wide",children:"Top Transitions"}),e.jsx("div",{className:"space-y-1.5",children:d.map((u,m)=>e.jsx(t5,{from:u.from,to:u.to,count:u.count},m))})]}),t.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-xs font-medium text-gray-400 uppercase tracking-wide",children:"Handoff Flow"}),e.jsx("div",{className:"flex flex-wrap items-center gap-1",children:t.map((u,m)=>e.jsxs(Po.Fragment,{children:[m===0&&e.jsx(_o,{agent:u.from_agent}),e.jsx(mr,{size:10,className:"text-gray-600 flex-shrink-0"}),e.jsx(_o,{agent:u.to_agent})]},m))})]}),a.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h4",{className:"text-xs font-medium text-gray-400 uppercase tracking-wide flex items-center gap-1",children:[e.jsx(ut,{size:11,className:"text-amber-400"}),"Incidents"]}),e.jsx("div",{className:"space-y-1.5",children:a.map(u=>e.jsxs("div",{className:"flex items-start gap-2 rounded-md bg-gray-700/40 px-3 py-2 text-xs",children:[e.jsx("span",{className:`inline-block rounded px-1.5 py-0.5 text-[10px] font-medium border ${vp[u.severity]??vp.low}`,children:u.severity}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-gray-300",children:u.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5 text-gray-500",children:[e.jsx("span",{children:u.agent}),e.jsx("span",{children:""}),e.jsx("span",{children:u.type.replace(/_/g," ")}),u.resolved&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsx("span",{className:`rounded px-1 py-px text-[10px] border ${$1.resolved}`,children:"resolved"})]})]})]})]},u.id))})]})]})},Jd=({label:t,value:n,icon:a,accent:l})=>e.jsxs("div",{className:`rounded-md px-2.5 py-1.5 text-xs flex items-center gap-1.5 ${l?"bg-amber-500/10 text-amber-300 border border-amber-500/30":"bg-gray-700/40 text-gray-300"}`,children:[a,e.jsx("span",{className:"font-semibold",children:n}),e.jsx("span",{className:"text-gray-400",children:t})]}),_o=({agent:t})=>{const n=t,a=rs[n]??"bg-gray-500/20 text-gray-300 border-gray-500/50",l=Qt[n]??"";return e.jsxs("span",{className:`inline-flex items-center gap-0.5 rounded px-1.5 py-0.5 text-[10px] font-medium border ${a}`,children:[e.jsx("span",{children:l}),t]})},t5=({from:t,to:n,count:a})=>e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(_o,{agent:t}),e.jsx(mr,{size:10,className:"text-gray-500 flex-shrink-0"}),e.jsx(_o,{agent:n}),e.jsxs("span",{className:"ml-auto text-gray-400 font-medium",children:["",a]})]});function s5(t){return t==null?{text:"unknown",color:"bg-slate-500/20 text-slate-300 border-slate-500/50"}:t>=.7?{text:"high",color:"bg-green-500/20 text-green-300 border-green-500/50"}:t>=.4?{text:"medium",color:"bg-yellow-500/20 text-yellow-300 border-yellow-500/50"}:{text:"low",color:"bg-slate-500/20 text-slate-400 border-slate-500/50"}}const n5={high:"",medium:"",low:"",unknown:""};function r5({matchedSkills:t,phases:n,className:a}){if(!t||t.length===0)return e.jsxs("div",{className:I("border border-slate-700 rounded-lg p-4",a),children:[e.jsxs("h3",{className:"text-sm font-semibold text-white mb-2 flex items-center gap-2",children:[e.jsx(Pu,{size:15,className:"text-slate-400"}),"Matched Skills"]}),e.jsx("p",{className:"text-xs text-slate-500 italic",children:"No skill matches available. Legacy v1 plans do not include skill data."})]});const l=t.filter(o=>o.relevance!==void 0&&o.relevance>=.7).length;return e.jsxs("div",{className:I("border border-slate-700 rounded-lg overflow-hidden",a),children:[e.jsxs("div",{className:"px-4 py-3 bg-slate-900/60 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(Pu,{size:15,className:"text-slate-400"}),"Matched Skills"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[l>0&&e.jsxs(fe,{variant:"bg-green-500/20 text-green-300 border-green-500/50",className:"text-[10px]",children:[l," high relevance"]}),e.jsxs("span",{className:"text-xs text-slate-400",children:[t.length," total"]})]})]}),e.jsx("div",{className:"divide-y divide-slate-700/50",children:t.map(o=>e.jsx(a5,{skill:o},o.name))}),n&&n.length>0&&e.jsx("div",{className:"px-4 py-2 bg-slate-900/30 border-t border-slate-700/50",children:e.jsxs("p",{className:"text-[10px] text-slate-500",children:[e.jsx(Cs,{size:10,className:"inline mr-1"}),n.length," phases defined  skills apply across all phases"]})})]})}function a5({skill:t}){const n=s5(t.relevance);return e.jsxs("div",{className:"px-4 py-3 bg-slate-900/40 hover:bg-slate-800/50 transition-colors space-y-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Cs,{size:13,className:"text-violet-400/70 shrink-0"}),e.jsx("span",{className:"text-xs font-medium text-slate-200 flex-1 truncate",children:t.name}),e.jsxs(fe,{variant:n.color,className:"text-[10px] shrink-0",children:[n5[n.text]," ",n.text]})]}),t.description&&e.jsx("p",{className:"text-[11px] text-slate-400 ml-5",children:t.description}),t.file_path&&e.jsxs("div",{className:"flex items-center gap-1.5 ml-5",children:[e.jsx(jo,{size:11,className:"text-slate-500 shrink-0"}),e.jsx("span",{className:"text-[10px] text-slate-500 font-mono truncate",children:t.file_path})]})]})}function l5({categorization:t}){const[n,a]=S.useState(!1),l=t.confidence>=.8?"text-green-400":t.confidence>=.5?"text-yellow-400":"text-red-400",o=Math.round(t.confidence*100);return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx(fe,{variant:Mo[t.category],children:t.category}),e.jsxs("span",{className:`text-xs font-medium ${l}`,children:[o,"% confidence"]}),t.reasoning&&e.jsxs("button",{type:"button",onClick:()=>a(d=>!d),className:"inline-flex items-center gap-0.5 text-xs text-slate-400 hover:text-slate-200 transition-colors",title:"Toggle reasoning",children:[e.jsx(pa,{size:12}),n?e.jsx(bx,{size:12}):e.jsx(_s,{size:12})]})]}),n&&t.reasoning&&e.jsx("p",{className:"text-xs text-slate-400 bg-slate-800/60 rounded px-3 py-2 border border-slate-700",children:t.reasoning}),t.suggested_workflow&&t.suggested_workflow.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-500 mb-1 uppercase tracking-wide",children:"Suggested Workflow"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.suggested_workflow.map((d,u)=>e.jsxs(fe,{variant:rs[d],className:"text-[10px]",children:[Qt[d]," ",d]},`${d}-${u}`))})]})]})}const bp={rejected:{label:"Rejected by user",icon:e.jsx(ut,{size:16}),color:"text-red-400"},timeout:{label:"Approval timed out",icon:e.jsx(t1,{size:16}),color:"text-amber-400"},deferred:{label:"Deferred for later",icon:e.jsx(Bj,{size:16}),color:"text-blue-400"}};function i5({snapshot:t,onResume:n,isResuming:a}){const[l,o]=S.useState(!1),d=bp[t.reason]??bp.deferred;return e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/40 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_x,{size:22,className:"text-yellow-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-yellow-200",children:"Plan Paused"}),e.jsxs("p",{className:"text-sm text-yellow-300/70",children:["Paused ",Nt(t.paused_at)]})]})]}),e.jsxs("button",{onClick:n,disabled:a,className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors font-medium text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Rx,{size:16}),a?"Resuming...":"Resume Plan"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-slate-400",children:"Reason:"}),e.jsxs("span",{className:`flex items-center gap-1 ${d.color}`,children:[d.icon,d.label]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-slate-400",children:"Paused at step:"}),e.jsxs(fe,{variant:"slate",children:["#",t.step_index+1]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-slate-400",children:"Phase:"}),e.jsx(fe,{variant:"slate",children:t.phase})]})]}),e.jsxs("div",{className:"bg-slate-800/60 rounded p-3 text-sm text-slate-300 mb-2",children:[e.jsx("span",{className:"text-slate-500",children:"Step task: "}),t.step_task]}),t.user_notes&&e.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded p-3 text-sm text-red-300",children:[e.jsx("span",{className:"text-red-400 font-medium",children:"User notes: "}),t.user_notes]}),e.jsx("button",{onClick:()=>o(!l),className:"mt-2 text-xs text-yellow-400/60 hover:text-yellow-400 transition-colors",children:l?" Hide details":" Show details"}),l&&e.jsxs("div",{className:"mt-2 text-xs text-slate-400 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qs,{size:12}),e.jsxs("span",{children:["Paused at: ",Zx(t.paused_at)]})]}),t.session_id&&e.jsxs("div",{children:["Session: ",e.jsx("code",{className:"text-slate-500",children:t.session_id})]})]})]})}function o5({lineage:t,sessions:n}){if(t.length===0)return e.jsx("div",{className:"text-center py-8 text-slate-500",children:"No handoffs recorded yet"});const a=t.map((l,o)=>{const d=n.find(u=>u.agent_type===l.to_agent&&new Date(u.started_at)>=new Date(l.timestamp));return{...l,session:d,isLast:o===t.length-1}});return e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-6 top-8 bottom-8 w-0.5 bg-slate-700"}),e.jsx("div",{className:"space-y-6",children:a.map((l,o)=>{var d,u,m,p;return e.jsxs("div",{className:"relative flex items-start gap-4",children:[e.jsx("div",{className:I("relative z-10 w-12 h-12 rounded-full flex items-center justify-center text-xl border-2",l.isLast&&!((d=l.session)!=null&&d.completed_at)?"border-blue-500 bg-blue-500/20 animate-pulse":"border-slate-600 bg-slate-800"),style:{borderColor:l.isLast?fl[l.to_agent]:void 0,backgroundColor:l.isLast?`${fl[l.to_agent]}20`:void 0},children:Qt[l.to_agent]}),e.jsxs("div",{className:"flex-1 pb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:I("px-2 py-0.5 rounded text-sm font-medium",rs[l.to_agent]),children:l.to_agent}),e.jsx("span",{className:"text-xs text-slate-500",children:E2(l.timestamp)}),((u=l.session)==null?void 0:u.completed_at)&&e.jsxs("span",{className:"text-xs text-slate-500",children:[" Duration: ",Ou(l.session.started_at,l.session.completed_at)]})]}),e.jsxs("p",{className:"text-sm text-slate-400 mb-2",children:[e.jsxs("span",{className:"text-slate-500",children:["From ",l.from_agent,":"]})," ",l.reason]}),((m=l.session)==null?void 0:m.summary)&&e.jsxs("div",{className:"p-3 bg-slate-800/50 border border-slate-700 rounded-lg",children:[e.jsx("p",{className:"text-sm text-slate-300",children:l.session.summary}),l.session.artifacts&&l.session.artifacts.length>0&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:l.session.artifacts.map((x,v)=>e.jsxs("span",{className:"px-2 py-0.5 bg-slate-700 rounded text-xs text-slate-400",children:[" ",x]},v))})]}),l.isLast&&!((p=l.session)!=null&&p.completed_at)&&e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-blue-400",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm",children:"Currently active"}),l.session&&e.jsxs("span",{className:"text-xs text-slate-500",children:["for ",Ou(l.session.started_at)]})]})]})]},o)})})]})}function c5({currentAgent:t,currentSession:n}){return t?e.jsx("div",{className:"p-6 rounded-lg border-2",style:{borderColor:fl[t],backgroundColor:`${fl[t]}10`},children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center text-3xl",style:{backgroundColor:`${fl[t]}30`},children:Qt[t]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:I("px-2 py-1 rounded font-semibold",rs[t]),children:t}),e.jsxs("span",{className:"flex items-center gap-1 text-blue-400",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),"Active"]})]}),n&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm text-slate-400",children:["Session started ",Ou(n.started_at)," ago"]}),n.context&&Object.keys(n.context).length>0&&e.jsxs("div",{className:"mt-2 p-2 bg-slate-900/50 rounded text-xs",children:[e.jsx("span",{className:"text-slate-500",children:"Context: "}),Object.entries(n.context).slice(0,3).map(([a,l])=>e.jsxs("span",{className:"text-slate-400 mr-2",children:[a,": ",typeof l=="string"?l.slice(0,30):"..."]},a))]})]})]})]})}):e.jsxs("div",{className:"p-6 bg-slate-800 border border-slate-700 rounded-lg text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("p",{className:"text-slate-400",children:"No active agent"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Plan is complete or paused"})]})}const Io="/api";function Dg({workspaceId:t,planId:n}){return Le({queryKey:["buildScripts",t,n],queryFn:async()=>{const a=await fetch(`${Io}/plans/${n}/build-scripts`);if(!a.ok)throw new Error("Failed to fetch build scripts");return(await a.json()).scripts},enabled:!!t&&!!n})}function zg(){const t=tt();return We({mutationFn:async({planId:n,script:a})=>{const l=await fetch(`${Io}/plans/${n}/build-scripts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!l.ok)throw new Error("Failed to add build script");return l.json()},onMutate:async({workspaceId:n,planId:a,script:l})=>{await t.cancelQueries({queryKey:["buildScripts",n,a]});const o=t.getQueryData(["buildScripts",n,a]);if(o){const d={id:`temp-${Date.now()}`,...l,workspace_id:n,plan_id:a,created_at:new Date().toISOString()};t.setQueryData(["buildScripts",n,a],[...o,d])}return{previousScripts:o}},onError:(n,{workspaceId:a,planId:l},o)=>{o!=null&&o.previousScripts&&t.setQueryData(["buildScripts",a,l],o.previousScripts)},onSettled:(n,a,{workspaceId:l,planId:o})=>{t.invalidateQueries({queryKey:["buildScripts",l,o]}),t.invalidateQueries({queryKey:["plan",l,o]})}})}function Ag(){const t=tt();return We({mutationFn:async({planId:n,scriptId:a})=>{const l=await fetch(`${Io}/plans/${n}/build-scripts/${a}`,{method:"DELETE"});if(!l.ok)throw new Error("Failed to delete build script");return l.json()},onMutate:async({workspaceId:n,planId:a,scriptId:l})=>{await t.cancelQueries({queryKey:["buildScripts",n,a]});const o=t.getQueryData(["buildScripts",n,a]);return o&&t.setQueryData(["buildScripts",n,a],o.filter(d=>d.id!==l)),{previousScripts:o}},onError:(n,{workspaceId:a,planId:l},o)=>{o!=null&&o.previousScripts&&t.setQueryData(["buildScripts",a,l],o.previousScripts)},onSettled:(n,a,{workspaceId:l,planId:o})=>{t.invalidateQueries({queryKey:["buildScripts",l,o]}),t.invalidateQueries({queryKey:["plan",l,o]})}})}function Fg(){return We({mutationFn:async({planId:t,scriptId:n})=>{const a=await fetch(`${Io}/plans/${t}/build-scripts/${n}/run`,{method:"POST"});if(!a.ok)throw new Error("Failed to run build script");return a.json()}})}const d5=()=>typeof window<"u"&&window.vscode!==void 0,u5=()=>d5()?window.vscode:null,h5=t=>{const n=u5();n?n.postMessage(t):typeof window<"u"&&window.parent&&window.parent!==window?window.parent.postMessage({type:"projectMemory.dashboard",payload:t},"*"):console.log("[VSCode Bridge] Not in webview, ignoring message:",t)};async function m5(t,n){const a=await fetch(`/api/plans/${t}/${n}`);if(!a.ok)throw new Error("Failed to fetch plan");return a.json()}function f5(){var L,W,H,Q,le;const{workspaceId:t,planId:n}=Dn(),a=Ws(),[l,o]=S.useState("timeline"),[d,u]=S.useState("bar"),m=["timeline","steps","phases","risk","stats","research","activity","goals","build-scripts"];S.useEffect(()=>{const ne=new URLSearchParams(a.search).get("tab");ne&&m.includes(ne)&&o(ne)},[a.search]);const p=new URLSearchParams(a.search).get("addNote")==="1",{data:x,isLoading:v,error:y}=Le({queryKey:["plan",t,n],queryFn:()=>m5(t,n),enabled:!!t&&!!n}),{data:N=[]}=Dg({workspaceId:t,planId:n}),k=zg(),j=Ag(),b=Fg(),{data:g}=rg(t,x==null?void 0:x.program_id),P=G2(t,n);if(v)return e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-slate-700 rounded w-48"}),e.jsx("div",{className:"h-48 bg-slate-800 rounded-lg"}),e.jsx("div",{className:"h-96 bg-slate-800 rounded-lg"})]});if(y||!x)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-400 text-lg",children:"Plan not found"}),e.jsx(Te,{to:`/workspace/${t}`,className:"text-violet-400 hover:underline mt-2 inline-block",children:"Return to workspace"})]});const O=((L=x.steps)==null?void 0:L.filter(G=>G.status==="done").length)||0,C=((W=x.steps)==null?void 0:W.length)||0,R=x.current_agent?(H=x.agent_sessions)==null?void 0:H.find(G=>G.agent_type===x.current_agent&&!G.completed_at):void 0,U=[{id:"timeline",label:"Timeline",icon:e.jsx(oa,{size:16})},{id:"steps",label:"Steps",icon:e.jsx(wo,{size:16})},{id:"phases",label:"Phases",icon:e.jsx(e0,{size:16})},{id:"risk",label:"Risk",icon:e.jsx(zx,{size:16})},{id:"stats",label:"Stats",icon:e.jsx(Al,{size:16})},{id:"goals",label:"Goals",icon:e.jsx(t0,{size:16})},{id:"build-scripts",label:"Build Scripts",icon:e.jsx(vl,{size:16})},{id:"research",label:"Research",icon:e.jsx(lt,{size:16})},{id:"context",label:"Context",icon:e.jsx(To,{size:16})},{id:"activity",label:"Activity",icon:e.jsx(vr,{size:16})}],B=()=>{h5({type:"discussPlanInChat",data:{planId:x.id}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs(Te,{to:`/workspace/${t}`,className:"inline-flex items-center gap-2 text-slate-400 hover:text-slate-200 transition-colors",children:[e.jsx(An,{size:16}),"Back to Workspace"]}),x.program_id&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-slate-600",children:""}),e.jsxs(Te,{to:`/workspace/${t}/program/${x.program_id}`,className:"inline-flex items-center gap-1.5 text-violet-400 hover:text-violet-300 transition-colors",children:[e.jsx(ns,{size:14}),"Part of ",(g==null?void 0:g.name)??"Program"]})]})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(fe,{variant:Mo[x.category],children:x.category}),e.jsxs(fe,{variant:r0[x.priority],children:[Wx[x.priority]," ",x.priority]}),e.jsx(fe,{variant:pr[x.status],children:x.status}),x.current_phase&&e.jsxs(fe,{variant:"slate",children:["Phase: ",x.current_phase]})]}),e.jsx("h1",{className:"text-2xl font-bold mb-2",children:x.title}),e.jsx("p",{className:"text-slate-400",children:x.description}),x.categorization&&e.jsx("div",{className:"mt-4",children:e.jsx(l5,{categorization:x.categorization})})]}),e.jsxs("div",{className:"text-right text-sm text-slate-400",children:[e.jsxs("div",{className:"flex items-center gap-2 justify-end mb-2",children:[e.jsx(E4,{workspaceId:t,planId:n,planTitle:x.title}),e.jsx(P4,{workspaceId:t,planId:n,planTitle:x.title})]}),e.jsxs("div",{className:"font-mono mb-1 flex items-center gap-1 justify-end",children:[e.jsx("span",{children:x.id}),e.jsx(ag,{text:x.id,label:"plan ID"})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[e.jsx(Qs,{size:14}),"Created ",wl(x.created_at)]}),e.jsxs("div",{children:["Updated ",Nt(x.updated_at)]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsxs("button",{onClick:B,className:"inline-flex items-center gap-2 px-3 py-2 bg-slate-700/60 text-slate-200 rounded-lg hover:bg-slate-700 transition-colors text-sm",children:[e.jsx(ho,{size:16}),"Discuss in Chat"]}),e.jsxs(Te,{to:`/workspace/${t}/plan/${n}/context`,className:"inline-flex items-center gap-2 px-3 py-2 bg-slate-700/60 text-slate-200 rounded-lg hover:bg-slate-700 transition-colors text-sm",children:[e.jsx(lt,{size:16}),"Context Files"]}),e.jsxs(Te,{to:`/workspace/${t}/plan/${n}/build-scripts`,className:"inline-flex items-center gap-2 px-3 py-2 bg-slate-700/60 text-slate-200 rounded-lg hover:bg-slate-700 transition-colors text-sm",children:[e.jsx(vl,{size:16}),"Build Scripts"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm text-slate-400",children:"Progress"}),e.jsx("div",{className:"flex-1 max-w-md",children:e.jsx(as,{value:O,max:C,showLabel:!0})})]})]}),(g==null?void 0:g.plans)&&g.plans.length>1&&(()=>{const G=g.plans.filter(ne=>ne.plan_id!==n);return G.length===0?null:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(da,{size:16,className:"text-violet-400"}),e.jsxs("h3",{className:"font-semibold text-sm",children:["Sibling Plans in ",g.name]}),e.jsx(fe,{variant:"violet",children:G.length})]}),e.jsx("div",{className:"grid gap-2",children:G.map(ne=>e.jsxs(Te,{to:`/workspace/${t}/plan/${ne.plan_id}`,className:"flex items-center justify-between p-3 bg-slate-900/50 border border-slate-700 rounded-lg hover:border-violet-500/50 transition-colors",children:[e.jsx("div",{className:"flex items-center gap-3 min-w-0",children:e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-slate-200 truncate",children:ne.title}),e.jsx("p",{className:"text-xs text-slate-500",children:ne.current_phase})]})}),e.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[e.jsx(fe,{variant:pr[ne.status],children:ne.status}),e.jsx("div",{className:"w-24",children:e.jsx(as,{value:ne.progress.done,max:ne.progress.total})})]})]},ne.plan_id))})]})})(),x.pending_notes&&x.pending_notes.length>0&&e.jsxs("div",{className:"bg-slate-800 border-l-4 border-violet-500 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ho,{size:18,className:"text-violet-400"}),e.jsx("h3",{className:"font-semibold",children:"Pending Notes for Next Agent"}),e.jsx(fe,{variant:"violet",children:x.pending_notes.length})]}),e.jsx("div",{className:"space-y-2",children:x.pending_notes.map((G,ne)=>e.jsxs("div",{className:"bg-slate-900/50 rounded p-3 border border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[G.type==="info"&&e.jsx(pa,{size:14,className:"text-blue-400"}),G.type==="warning"&&e.jsx(ut,{size:14,className:"text-amber-400"}),G.type==="instruction"&&e.jsx(ho,{size:14,className:"text-violet-400"}),e.jsx(fe,{variant:G.type==="info"?"blue":G.type==="warning"?"amber":"violet",children:G.type}),e.jsx("span",{className:"text-xs text-slate-500",children:Nt(G.added_at)})]}),e.jsx("p",{className:"text-slate-200 text-sm",children:G.note})]},ne))})]}),x.status==="paused"&&x.paused_at_snapshot&&e.jsx(i5,{snapshot:x.paused_at_snapshot,onResume:()=>P.mutate(),isResuming:P.isPending}),e.jsx(c5,{currentAgent:x.current_agent,currentSession:R}),e.jsx("div",{className:"border-b border-slate-700",children:e.jsx("div",{className:"flex gap-1",children:U.map(G=>e.jsxs("button",{onClick:()=>o(G.id),className:I("flex items-center gap-2 px-4 py-3 border-b-2 transition-colors",l===G.id?"border-violet-500 text-violet-300":"border-transparent text-slate-400 hover:text-slate-200"),children:[G.icon,G.label]},G.id))})}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[l==="timeline"&&e.jsx(o5,{lineage:x.lineage||[],sessions:x.agent_sessions||[]}),l==="steps"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(R4,{workspaceId:t,planId:n,autoExpand:p}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Step Progress"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>u("bar"),className:I("px-3 py-1.5 rounded-lg text-sm flex items-center gap-2 transition-colors",d==="bar"?"bg-violet-500/20 text-violet-300":"bg-slate-700 text-slate-400 hover:text-slate-200"),children:[e.jsx(Dj,{size:14}),"Bar"]}),e.jsxs("button",{onClick:()=>u("kanban"),className:I("px-3 py-1.5 rounded-lg text-sm flex items-center gap-2 transition-colors",d==="kanban"?"bg-violet-500/20 text-violet-300":"bg-slate-700 text-slate-400 hover:text-slate-200"),children:[e.jsx(wo,{size:14}),"Kanban"]})]})]}),e.jsx(x4,{steps:x.steps||[],view:d}),e.jsxs("div",{className:"border-t border-slate-700 pt-6",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"All Steps"}),e.jsx(p4,{steps:x.steps||[],workspaceId:t,planId:n,editable:!0,phases:x.phases})]})]}),l==="phases"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(U4,{steps:x.steps||[],phases:x.phases,defaultOpen:!0}),x.matched_skills&&x.matched_skills.length>0&&e.jsx(r5,{matchedSkills:x.matched_skills,phases:x.phases})]}),l==="risk"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(G4,{profile:x.difficulty_profile}),e.jsx(Q4,{risks:x.risk_register})]}),l==="stats"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(Z4,{sessions:x.agent_sessions||[]}),e.jsx(e5,{lineage:x.lineage||[],sessions:x.agent_sessions||[]})]}),l==="goals"&&e.jsx(T4,{plan:x,workspaceId:t,planId:n}),l==="build-scripts"&&e.jsx(Tg,{workspaceId:t,planId:n,scripts:N,onAdd:G=>k.mutate({workspaceId:t,planId:n,script:G}),onRun:G=>b.mutate({workspaceId:t,planId:n,scriptId:G}),onDelete:G=>j.mutate({workspaceId:t,planId:n,scriptId:G}),isAdding:k.isPending,runningScriptId:b.isPending?(Q=b.variables)==null?void 0:Q.scriptId:null,deletingScriptId:j.isPending?(le=j.variables)==null?void 0:le.scriptId:null,runOutput:b.data?{scriptId:b.variables.scriptId,output:b.data.output||"",error:b.data.error}:null}),l==="research"&&e.jsx(b4,{workspaceId:t,planId:n}),l==="context"&&e.jsx(C4,{workspaceId:t,planId:n}),l==="activity"&&e.jsx(_4,{workspaceId:t,planId:n})]})]})}const Xd={blank:{label:"Blank",content:`# {name} Agent

## Role

Describe the agent's role and responsibilities here.

## Guidelines

- Guideline 1
- Guideline 2
- Guideline 3

## Workflow

1. Step 1
2. Step 2
3. Step 3
`},coordinator:{label:"Coordinator",content:`# {name} Agent

## Role

You are the Coordinator agent responsible for orchestrating workflows and managing handoffs between other agents.

## Responsibilities

- Analyze incoming requests and categorize them
- Create structured plans with clear phases
- Delegate tasks to appropriate specialist agents
- Track progress and handle blockers

## Workflow

1. Receive and analyze the request
2. Create or update the plan structure
3. Identify required agents for each phase
4. Initiate handoff to the first agent
5. Monitor progress and facilitate transitions

## Handoff Protocol

When handing off to another agent:
- Provide clear context and objectives
- Include relevant file references
- Specify expected outputs
- Note any constraints or dependencies
`},executor:{label:"Executor",content:`# {name} Agent

## Role

You are the Executor agent responsible for implementing code changes and features.

## Responsibilities

- Implement code based on architectural plans
- Follow coding standards and best practices
- Write clean, maintainable code
- Document significant changes

## Workflow

1. Review the plan and architecture
2. Understand the scope of changes
3. Implement changes incrementally
4. Test changes locally when possible
5. Update execution log with progress
6. Handoff to Reviewer when complete

## Best Practices

- Keep commits atomic and focused
- Add comments for complex logic
- Follow existing patterns in the codebase
- Consider edge cases and error handling
`},reviewer:{label:"Reviewer",content:`# {name} Agent

## Role

You are the Reviewer agent responsible for code review and quality assurance.

## Responsibilities

- Review code changes for correctness
- Check adherence to coding standards
- Identify potential bugs or issues
- Suggest improvements when applicable

## Review Checklist

- [ ] Code meets acceptance criteria
- [ ] No obvious bugs or issues
- [ ] Error handling is appropriate
- [ ] Code is readable and maintainable
- [ ] Tests are adequate (if applicable)

## Workflow

1. Read the plan and understand requirements
2. Review all changed files
3. Document findings in review.json
4. Approve or request changes
5. Handoff back to Executor or forward to Tester
`},custom:{label:"Custom",content:""}};async function p5(t){const n=await fetch("/api/agents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to create agent")}return n.json()}function x5({onClose:t,onSuccess:n}){const a=tt(),[l,o]=S.useState(""),[d,u]=S.useState("blank"),[m,p]=S.useState(""),[x,v]=S.useState("name"),y=We({mutationFn:p5,onSuccess:g=>{a.invalidateQueries({queryKey:["agents"]}),n==null||n(g.agent.agent_id),t()}}),N=g=>{if(u(g),g!=="custom"){const P=Xd[g].content.replace(/{name}/g,l.charAt(0).toUpperCase()+l.slice(1));p(P)}else p("")},k=()=>{if(!l.trim())return;const g=Xd[d].content.replace(/{name}/g,l.charAt(0).toUpperCase()+l.slice(1));p(g),v("content")},j=()=>{!l.trim()||!m.trim()||y.mutate({agent_id:l.toLowerCase().replace(/\s+/g,"-"),content:m})},b=/^[a-zA-Z][a-zA-Z0-9_-]*$/.test(l);return e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",onClick:g=>{g.target===g.currentTarget&&t()},children:e.jsxs("div",{className:"bg-slate-800 rounded-xl shadow-2xl border border-slate-700 w-full max-w-2xl max-h-[80vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(ft,{className:"w-5 h-5 text-green-400"}),"Create New Agent"]}),e.jsx("button",{onClick:t,className:"p-1 hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(Ht,{className:"w-5 h-5"})})]}),x==="name"?e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Agent ID"}),e.jsx("input",{type:"text",value:l,onChange:g=>o(g.target.value),placeholder:"e.g., debugger, optimizer, documenter",className:I("w-full bg-slate-900 border rounded-lg px-4 py-3 text-lg focus:outline-none focus:ring-2",l&&!b?"border-red-500 focus:ring-red-500":"border-slate-600 focus:ring-blue-500"),autoFocus:!0}),l&&!b&&e.jsx("p",{className:"mt-2 text-sm text-red-400",children:"ID must start with a letter and contain only letters, numbers, hyphens, and underscores"}),e.jsxs("p",{className:"mt-2 text-sm text-slate-500",children:["This will create ",e.jsxs("code",{className:"text-blue-400",children:[l||"name",".agent.md"]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Start from Template"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(Xd).map(([g,{label:P}])=>e.jsxs("button",{onClick:()=>N(g),className:I("p-4 rounded-lg border text-left transition-colors",d===g?"border-blue-500 bg-blue-500/10 text-blue-400":"border-slate-600 hover:border-slate-500 text-slate-300"),children:[e.jsx("div",{className:"font-medium",children:P}),e.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:[g==="blank"&&"Start with basic structure",g==="coordinator"&&"Orchestrate workflows",g==="executor"&&"Implement code changes",g==="reviewer"&&"Review and QA",g==="custom"&&"Write from scratch"]})]},g))})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg",children:"Cancel"}),e.jsx("button",{onClick:k,disabled:!l.trim()||!b,className:I("px-4 py-2 rounded-lg flex items-center gap-2",l.trim()&&b?"bg-blue-600 hover:bg-blue-500 text-white":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:"Next"})]})]}):e.jsxs("div",{className:"flex flex-col h-[60vh]",children:[e.jsxs("div",{className:"p-4 border-b border-slate-700 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-400",children:"Editing:"})," ",e.jsxs("code",{className:"text-blue-400",children:[l,".agent.md"]})]}),e.jsx("button",{onClick:()=>v("name"),className:"text-sm text-slate-400 hover:text-white",children:" Back"})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx("textarea",{value:m,onChange:g=>p(g.target.value),className:"w-full h-full bg-slate-900 text-slate-100 p-4 resize-none font-mono text-sm focus:outline-none",spellCheck:!1,placeholder:"Write your agent instructions in Markdown..."})}),e.jsxs("div",{className:"p-4 border-t border-slate-700 flex justify-end gap-3",children:[e.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg",children:"Cancel"}),e.jsxs("button",{onClick:j,disabled:!m.trim()||y.isPending,className:I("px-4 py-2 rounded-lg flex items-center gap-2",m.trim()?"bg-green-600 hover:bg-green-500 text-white":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:[y.isPending&&e.jsx(Bt,{className:"w-4 h-4 animate-spin"}),"Create Agent"]})]}),y.isError&&e.jsxs("div",{className:"px-4 pb-4 text-sm text-red-400",children:["Error: ",y.error.message]})]})]})})}async function g5(){const t=await fetch("/api/agents");if(!t.ok)throw new Error("Failed to fetch agents");return t.json()}async function y5(t){const n=await fetch(`/api/agents/${t}/deployments`);if(!n.ok)throw new Error("Failed to fetch deployments");return n.json()}async function v5(){const{agents:t}=await g5();return await Promise.all(t.map(async a=>{const{deployments:l}=await y5(a.agent_id);return{...a,deployments:l}}))}const Lg={synced:{icon:Hs,color:"text-green-400",bg:"bg-green-500/20",label:"Synced"},outdated:{icon:zn,color:"text-yellow-400",bg:"bg-yellow-500/20",label:"Outdated"},customized:{icon:Ss,color:"text-blue-400",bg:"bg-blue-500/20",label:"Customized"},missing:{icon:Oo,color:"text-slate-400",bg:"bg-slate-500/20",label:"Missing"}};function b5(){const[t,n]=S.useState(null),[a,l]=S.useState(!1),o=Mn(),{data:d,isLoading:u,error:m,refetch:p}=Le({queryKey:["agents-with-deployments"],queryFn:v5}),x=y=>{o(`/agents/${y}`)};if(m)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-400 text-lg",children:"Failed to load agents"}),e.jsx("p",{className:"text-slate-500 mt-2",children:"Make sure the API server is running"})]});const v=d?[...new Set(d.flatMap(y=>y.deployments.map(N=>N.workspace_name)))]:[];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Agent Management"}),e.jsx("p",{className:"text-slate-400",children:"Manage agent instruction files across workspaces"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-green-600 hover:bg-green-500 text-white rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(ft,{size:16}),"Create Agent"]}),e.jsxs("button",{onClick:()=>p(),className:"px-4 py-2 bg-violet-500/20 text-violet-300 rounded-lg hover:bg-violet-500/30 transition-colors flex items-center gap-2",children:[e.jsx(Ss,{size:16}),"Refresh"]})]})]}),a&&e.jsx(x5,{onClose:()=>l(!1),onSuccess:x}),u?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4,5,6,7,8].map(y=>e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4 animate-pulse",children:[e.jsx("div",{className:"h-12 bg-slate-700 rounded mb-3"}),e.jsx("div",{className:"h-4 bg-slate-700 rounded w-3/4"})]},y))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:d==null?void 0:d.map(y=>e.jsx(j5,{agent:y,isSelected:t===y.agent_id,onSelect:()=>n(t===y.agent_id?null:y.agent_id)},y.agent_id))}),d&&d.length>0&&v.length>0&&e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 overflow-x-auto",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Deployment Matrix"}),e.jsx(w5,{agents:d,workspaces:v})]}),t&&d&&e.jsx(N5,{agent:d.find(y=>y.agent_id===t),onClose:()=>n(null),onRefresh:()=>p()})]})}function j5({agent:t,isSelected:n,onSelect:a}){const l=t.agent_id.charAt(0).toUpperCase()+t.agent_id.slice(1),o=Qt[l]||"",d=rs[l]||"bg-slate-500/20 text-slate-300",u={synced:t.deployments.filter(m=>m.sync_status==="synced").length,outdated:t.deployments.filter(m=>m.sync_status==="outdated").length,customized:t.deployments.filter(m=>m.sync_status==="customized").length,missing:t.deployments.filter(m=>m.sync_status==="missing").length};return e.jsxs("button",{onClick:a,className:I("w-full bg-slate-800 border rounded-lg p-4 text-left transition-all",n?"border-violet-500 ring-2 ring-violet-500/20":"border-slate-700 hover:border-violet-500/50"),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:I("w-12 h-12 rounded-lg flex items-center justify-center text-2xl",d.split(" ")[0]),children:o}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:l}),e.jsx("span",{className:"text-xs text-slate-500 font-mono",children:t.template_hash})]}),n?e.jsx(_s,{size:16}):e.jsx(Es,{size:16})]}),e.jsxs("div",{className:"flex gap-2 text-xs",children:[u.synced>0&&e.jsxs("span",{className:"flex items-center gap-1 text-green-400",children:[e.jsx(Hs,{size:12}),u.synced]}),u.outdated>0&&e.jsxs("span",{className:"flex items-center gap-1 text-yellow-400",children:[e.jsx(zn,{size:12}),u.outdated]}),u.customized>0&&e.jsxs("span",{className:"flex items-center gap-1 text-blue-400",children:[e.jsx(Ss,{size:12}),u.customized]}),u.missing>0&&e.jsxs("span",{className:"flex items-center gap-1 text-slate-400",children:[e.jsx(Oo,{size:12}),u.missing]})]})]})}function w5({agents:t,workspaces:n}){return e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-2 border-b border-slate-700 text-slate-400",children:"Agent"}),n.map(a=>e.jsx("th",{className:"p-2 border-b border-slate-700 text-slate-400 text-center",children:e.jsx("span",{className:"truncate block max-w-[100px]",children:a})},a))]})}),e.jsx("tbody",{children:t.map(a=>{const l=a.agent_id.charAt(0).toUpperCase()+a.agent_id.slice(1),o=Qt[l]||"";return e.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/20",children:[e.jsx("td",{className:"p-2 font-medium",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:o}),l]})}),n.map(d=>{const u=a.deployments.find(v=>v.workspace_name===d),m=(u==null?void 0:u.sync_status)||"missing",p=Lg[m],x=p.icon;return e.jsx("td",{className:"p-2 text-center",children:e.jsx("div",{className:I("inline-flex items-center justify-center w-8 h-8 rounded-lg",p.bg),children:e.jsx(x,{size:16,className:p.color})})},d)})]},a.agent_id)})})]})}function N5({agent:t,onClose:n,onRefresh:a}){const[l,o]=S.useState(!1),d=t.agent_id.charAt(0).toUpperCase()+t.agent_id.slice(1),u=Qt[d]||"",m=rs[d]||"bg-slate-500/20 text-slate-300",p=Mn(),x=async()=>{var v,y,N,k,j;o(!0);try{const b=await fetch(`/api/agents/${t.agent_id}/sync`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!b.ok){const P=await b.json();throw new Error(P.error||"Deployment failed")}const g=await b.json();if(((v=g.synced)==null?void 0:v.length)>0||((y=g.failed)==null?void 0:y.length)>0){const P=[];((N=g.synced)==null?void 0:N.length)>0&&P.push(` Synced to ${g.synced.length} workspace(s)`),((k=g.skipped)==null?void 0:k.length)>0&&P.push(` Skipped ${g.skipped.length} customized workspace(s)`),((j=g.failed)==null?void 0:j.length)>0&&P.push(` Failed: ${g.failed.map(O=>O.error).join(", ")}`),alert(P.join(`
`))}else alert("All workspaces are already up to date");a()}catch(b){console.error("Deploy failed:",b),alert(`Deploy failed: ${b instanceof Error?b.message:"Unknown error"}`)}finally{o(!1)}};return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:I("w-10 h-10 rounded-lg flex items-center justify-center text-xl",m.split(" ")[0]),children:u}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold",children:[d," Agent"]}),e.jsxs("span",{className:"text-sm text-slate-400",children:["Updated ",Nt(t.template_updated_at)]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>p(`/agents/${t.agent_id}`),className:"px-3 py-1.5 bg-slate-700 rounded-lg hover:bg-slate-600 transition-colors flex items-center gap-2 text-sm",children:[e.jsx(Ex,{size:14}),"Edit Template"]}),e.jsxs("button",{onClick:x,disabled:l,className:"px-3 py-1.5 bg-violet-500/20 text-violet-300 rounded-lg hover:bg-violet-500/30 transition-colors flex items-center gap-2 text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(xa,{size:14,className:l?"animate-pulse":""}),l?"Deploying...":"Deploy All"]})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-400 mb-3",children:"Workspace Deployments"}),e.jsx("div",{className:"space-y-2",children:t.deployments.map(v=>{const y=Lg[v.sync_status],N=y.icon;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(fe,{variant:y.bg,children:[e.jsx(N,{size:12,className:y.color}),e.jsx("span",{className:y.color,children:y.label})]}),e.jsx("span",{className:"font-medium",children:v.workspace_name})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[v.version_hash&&e.jsx("span",{className:"text-slate-500 font-mono",children:v.version_hash}),v.last_updated&&e.jsx("span",{className:"text-slate-500",children:Nt(v.last_updated)}),v.sync_status!=="synced"&&e.jsx("button",{className:"px-2 py-1 bg-violet-500/20 text-violet-300 rounded text-xs hover:bg-violet-500/30 transition-colors",children:v.sync_status==="missing"?"Deploy":"Sync"})]})]},v.workspace_id)})})]})]})}const jp=[{value:"coordinator",label:"Coordinator",icon:""},{value:"researcher",label:"Researcher",icon:""},{value:"architect",label:"Architect",icon:""},{value:"executor",label:"Executor",icon:""},{value:"reviewer",label:"Reviewer",icon:""},{value:"tester",label:"Tester",icon:""},{value:"revisionist",label:"Revisionist",icon:""},{value:"archivist",label:"Archivist",icon:""}];function k5({handoffs:t,onChange:n,currentAgent:a,className:l}){const[o,d]=S.useState(null),u=()=>{const k={label:"New Handoff",agent:"coordinator",prompt:"Describe the task:",send:!1};n([...t,k])},m=(k,j)=>{const b=[...t];b[k]={...b[k],...j},n(b)},p=k=>{n(t.filter((j,b)=>b!==k))},x=(k,j)=>{const b=[...t],[g]=b.splice(k,1);b.splice(j,0,g),n(b)},v=k=>{d(k)},y=(k,j)=>{k.preventDefault(),o!==null&&o!==j&&(x(o,j),d(j))},N=()=>{d(null)};return e.jsxs("div",{className:I("space-y-3",l),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-300",children:"Handoff Configuration"}),e.jsxs("button",{onClick:u,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-blue-600 hover:bg-blue-500 rounded-lg transition-colors",children:[e.jsx(ft,{className:"w-3.5 h-3.5"}),"Add Handoff"]})]}),t.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-500 border border-dashed border-slate-700 rounded-lg",children:[e.jsx("p",{className:"text-sm",children:"No handoffs configured"}),e.jsx("p",{className:"text-xs mt-1",children:"Add handoffs to enable agent-to-agent transitions in Copilot"})]}):e.jsx("div",{className:"space-y-2",children:t.map((k,j)=>e.jsx("div",{draggable:!0,onDragStart:()=>v(j),onDragOver:b=>y(b,j),onDragEnd:N,className:I("bg-slate-800 rounded-lg border transition-all",o===j?"border-blue-500 opacity-50":"border-slate-700 hover:border-slate-600"),children:e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Hj,{className:"w-4 h-4 text-slate-500 cursor-move"}),e.jsx("div",{className:"flex-1 flex items-center gap-2",children:e.jsx("input",{type:"text",value:k.label,onChange:b=>m(j,{label:b.target.value}),placeholder:"Button label...",className:"flex-1 bg-slate-900 border border-slate-700 rounded px-2 py-1 text-sm focus:outline-none focus:border-blue-500"})}),e.jsx("button",{onClick:()=>p(j),className:"p-1 text-red-400 hover:bg-red-500/20 rounded transition-colors",children:e.jsx(Wt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs text-slate-400 px-2 py-1 bg-slate-900 rounded",children:a}),e.jsx(mr,{className:"w-4 h-4 text-slate-500"})]}),e.jsx("select",{value:k.agent,onChange:b=>m(j,{agent:b.target.value}),className:"flex-1 bg-slate-900 border border-slate-700 rounded px-2 py-1.5 text-sm focus:outline-none focus:border-blue-500",children:jp.map(b=>e.jsxs("option",{value:b.value,children:[b.icon," ",b.label]},b.value))})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"Prompt Template"}),e.jsx("textarea",{value:k.prompt||"",onChange:b=>m(j,{prompt:b.target.value}),placeholder:"Prompt to pass to the target agent...",rows:2,className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1.5 text-sm resize-none focus:outline-none focus:border-blue-500"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:k.send??!1,onChange:b=>m(j,{send:b.target.checked}),className:"w-4 h-4 rounded bg-slate-700 border-slate-600"}),e.jsxs("span",{className:"text-xs text-slate-400 flex items-center gap-1",children:[e.jsx(Xj,{className:"w-3 h-3"}),"Auto-send (execute immediately)"]})]})})]})},j))}),t.length>0&&e.jsxs("div",{className:"mt-4 p-3 bg-slate-900 rounded-lg border border-slate-700",children:[e.jsx("h4",{className:"text-xs font-semibold text-slate-400 mb-2",children:"Flow Preview"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"px-2 py-1 bg-violet-500/20 text-violet-300 rounded text-xs font-medium",children:a||"This Agent"}),t.map((k,j)=>{var b;return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(mr,{className:"w-3 h-3 text-slate-500"}),e.jsxs("span",{className:"px-2 py-1 bg-slate-800 text-slate-300 rounded text-xs",children:[(b=jp.find(g=>g.value===k.agent))==null?void 0:b.icon," ",k.agent]})]},j)})]})]})]})}function S5(t){var a;const n=t.match(/^---\n([\s\S]*?)\n---\n([\s\S]*)$/);if(!n)return{frontmatter:null,body:t,raw:""};try{const l=n[1],o=n[2],d={name:"",description:"",tools:[],handoffs:[]},u=l.match(/^name:\s*(.+)$/m);u&&(d.name=u[1].trim());const m=l.match(/^description:\s*['"]?(.+?)['"]?$/m);m&&(d.description=m[1].trim());const p=l.match(/^tools:\s*\[(.*)\]$/m);p&&(d.tools=p[1].split(",").map(v=>v.trim().replace(/['"]/g,"")).filter(Boolean));const x=l.indexOf("handoffs:");if(x!==-1){const y=l.slice(x).matchAll(/-\s*label:\s*["'](.+?)["']\n\s*agent:\s*(\w+)(?:\n\s*prompt:\s*["'](.+?)["'])?(?:\n\s*send:\s*(true|false))?/g);for(const N of y)(a=d.handoffs)==null||a.push({label:N[1],agent:N[2],prompt:N[3]||void 0,send:N[4]==="true"})}return{frontmatter:d,body:o,raw:l}}catch{return{frontmatter:null,body:t,raw:n[1]}}}function C5(t){let n=`---
name: ${t.name}
description: '${t.description}'`;if(t.tools&&t.tools.length>0&&(n+=`
tools: [${t.tools.map(a=>`'${a}'`).join(", ")}]`),t.handoffs&&t.handoffs.length>0){n+=`
handoffs:`;for(const a of t.handoffs)n+=`
  - label: "${a.label}"`,n+=`
    agent: ${a.agent}`,a.prompt&&(n+=`
    prompt: "${a.prompt}"`),a.send&&(n+=`
    send: true`)}return n+=`
---
`,n}function _5({content:t,onChange:n,agentName:a,className:l}){var N,k;const[o,d]=S.useState(!0),{frontmatter:u,body:m}=S5(t),p=u!==null,x=(u==null?void 0:u.handoffs)&&u.handoffs.length>0,v=j=>{if(!u)return;const b={...u,...j},g=C5(b)+m;n(g)},y=j=>{v({handoffs:j})};return p?e.jsxs("div",{className:I("border border-slate-700 rounded-lg overflow-hidden",l),children:[e.jsxs("button",{onClick:()=>d(!o),className:"w-full flex items-center justify-between p-3 bg-slate-800 hover:bg-slate-750 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hs,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"font-medium text-sm",children:"Frontmatter Configuration"}),x&&e.jsxs("span",{className:"px-2 py-0.5 bg-blue-500/20 text-blue-300 rounded text-xs",children:[(N=u.handoffs)==null?void 0:N.length," handoffs"]})]}),o?e.jsx(bx,{className:"w-4 h-4 text-slate-400"}):e.jsx(_s,{className:"w-4 h-4 text-slate-400"})]}),o&&e.jsxs("div",{className:"p-4 space-y-4 bg-slate-850",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"Name"}),e.jsx("input",{type:"text",value:u.name,onChange:j=>v({name:j.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded px-3 py-2 text-sm focus:outline-none focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"Description"}),e.jsx("input",{type:"text",value:u.description,onChange:j=>v({description:j.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded px-3 py-2 text-sm focus:outline-none focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-slate-400 block mb-1",children:"Tools (comma-separated)"}),e.jsx("input",{type:"text",value:((k=u.tools)==null?void 0:k.join(", "))||"",onChange:j=>v({tools:j.target.value.split(",").map(b=>b.trim()).filter(Boolean)}),placeholder:"vscode, execute, read, edit, search...",className:"w-full bg-slate-900 border border-slate-700 rounded px-3 py-2 text-sm focus:outline-none focus:border-blue-500"})]}),e.jsx(k5,{handoffs:u.handoffs||[],onChange:y,currentAgent:a||u.name})]})]}):e.jsxs("div",{className:I("bg-amber-500/10 border border-amber-500/30 rounded-lg p-4",l),children:[e.jsxs("div",{className:"flex items-center gap-2 text-amber-400 mb-2",children:[e.jsx(zn,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Invalid Frontmatter"})]}),e.jsx("p",{className:"text-sm text-slate-400",children:"This agent file doesn't have valid YAML frontmatter. Add frontmatter at the top of the file:"}),e.jsx("pre",{className:"mt-2 p-2 bg-slate-900 rounded text-xs text-slate-300 overflow-x-auto",children:`---
name: AgentName
description: 'Agent description'
tools: ['vscode', 'execute']
handoffs:
  - label: " Handoff Label"
    agent: targetagent
    prompt: "Prompt for target agent"
---`})]})}async function E5(t){const n=await fetch(`/api/agents/${t}`);if(!n.ok)throw new Error("Failed to fetch agent");return n.json()}async function P5(t){const n=await fetch(`/api/agents/${t}/deployments`);if(!n.ok)throw new Error("Failed to fetch deployments");return n.json()}async function R5(t,n){const a=await fetch(`/api/agents/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:n})});if(!a.ok){const l=await a.json();throw new Error(l.error||"Failed to update agent")}}async function T5(t){const n=await fetch(`/api/agents/${t}`,{method:"DELETE"});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to delete agent")}}async function O5(t){const n=await fetch(`/api/agents/${t}/sync`,{method:"POST"});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to sync agent")}return n.json()}async function M5(t,n){const a=await fetch(`/api/agents/${t}/deploy`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workspace_ids:n})});if(!a.ok){const l=await a.json();throw new Error(l.error||"Failed to deploy agent")}return a.json()}function D5(){var Z,re,M;const{agentId:t}=Dn(),n=Mn(),a=tt(),[l,o]=S.useState("edit"),[d,u]=S.useState("code"),[m,p]=S.useState(""),[x,v]=S.useState(!1),[y,N]=S.useState(!1),[k,j]=S.useState(!1),[b,g]=S.useState([]),[P,O]=S.useState(!1),{data:C,isLoading:R,error:U}=Le({queryKey:["agent",t],queryFn:()=>E5(t),enabled:!!t,staleTime:1e3*60});(Z=C==null?void 0:C.agent)!=null&&Z.content&&!P&&(p(C.agent.content),O(!0));const{data:B,refetch:L}=Le({queryKey:["agent-deployments",t],queryFn:()=>P5(t),enabled:!!t,staleTime:1e3*30}),W=We({mutationFn:()=>R5(t,m),onSuccess:()=>{v(!1),a.invalidateQueries({queryKey:["agent",t]}),a.invalidateQueries({queryKey:["agents"]})}}),H=We({mutationFn:()=>T5(t),onSuccess:()=>{a.invalidateQueries({queryKey:["agents"]}),n("/agents")}}),Q=We({mutationFn:()=>O5(t),onSuccess:()=>{L()}}),le=We({mutationFn:q=>M5(t,q),onSuccess:()=>{j(!1),g([]),L()}}),G=q=>{var ge;p(q),v(q!==((ge=C==null?void 0:C.agent)==null?void 0:ge.content))};if(R)return e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(Bt,{className:"w-8 h-8 animate-spin text-slate-400"})});if(U||!C)return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[e.jsxs("p",{className:"text-red-400",children:["Failed to load agent: ",t]}),e.jsx(Te,{to:"/agents",className:"text-blue-400 hover:underline mt-2 inline-block",children:" Back to Agents"})]})});const ne=C.agent,xe=(B==null?void 0:B.deployments)||[],ie=xe.filter(q=>q.sync_status==="synced").length,ae=xe.filter(q=>q.sync_status==="outdated").length,pe=xe.filter(q=>q.sync_status==="customized").length,V=xe.filter(q=>q.sync_status==="missing").length;return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"shrink-0 border-b border-slate-700 bg-slate-900/50 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Te,{to:"/agents",className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(An,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[ne.agent_id,e.jsxs("span",{className:"text-xs font-mono text-slate-500",children:["#",ne.template_hash]})]}),e.jsxs("p",{className:"text-sm text-slate-400",children:["Last updated: ",new Date(ne.template_updated_at).toLocaleString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex bg-slate-800 rounded-lg p-1 mr-2",children:[e.jsxs("button",{onClick:()=>u("code"),className:I("px-3 py-1.5 rounded text-sm flex items-center gap-1.5 transition-colors",d==="code"?"bg-slate-700 text-white":"text-slate-400 hover:text-white"),children:[e.jsx(wx,{className:"w-4 h-4"}),"Code"]}),e.jsxs("button",{onClick:()=>u("config"),className:I("px-3 py-1.5 rounded text-sm flex items-center gap-1.5 transition-colors",d==="config"?"bg-slate-700 text-white":"text-slate-400 hover:text-white"),children:[e.jsx(Tx,{className:"w-4 h-4"}),"Config"]})]}),e.jsxs("div",{className:"flex bg-slate-800 rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>o("edit"),className:I("px-3 py-1.5 rounded text-sm flex items-center gap-1.5 transition-colors",l==="edit"?"bg-slate-700 text-white":"text-slate-400 hover:text-white"),children:[e.jsx(Ex,{className:"w-4 h-4"}),"Edit"]}),e.jsxs("button",{onClick:()=>o("preview"),className:I("px-3 py-1.5 rounded text-sm flex items-center gap-1.5 transition-colors",l==="preview"?"bg-slate-700 text-white":"text-slate-400 hover:text-white"),children:[e.jsx(Uj,{className:"w-4 h-4"}),"Preview"]})]}),e.jsxs("button",{onClick:()=>W.mutate(),disabled:!x||W.isPending,className:I("px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",x?"bg-green-600 hover:bg-green-500 text-white":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:[W.isPending?e.jsx(Bt,{className:"w-4 h-4 animate-spin"}):e.jsx(ca,{className:"w-4 h-4"}),"Save"]}),e.jsxs("button",{onClick:()=>Q.mutate(),disabled:Q.isPending,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-lg flex items-center gap-2",children:[Q.isPending?e.jsx(Bt,{className:"w-4 h-4 animate-spin"}):e.jsx(Ss,{className:"w-4 h-4"}),"Sync All"]}),e.jsxs("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-purple-600 hover:bg-purple-500 rounded-lg flex items-center gap-2",children:[e.jsx(xa,{className:"w-4 h-4"}),"Deploy"]}),e.jsx("button",{onClick:()=>N(!0),className:"p-2 text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",children:e.jsx(Wt,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-green-400",children:[e.jsx(zl,{className:"w-4 h-4"}),ie," synced"]}),ae>0&&e.jsxs("span",{className:"flex items-center gap-1.5 text-amber-400",children:[e.jsx(ut,{className:"w-4 h-4"}),ae," outdated"]}),pe>0&&e.jsxs("span",{className:"text-blue-400",children:[" ",pe," customized"]}),V>0&&e.jsxs("span",{className:"text-slate-500",children:[" ",V," not deployed"]}),x&&e.jsxs("span",{className:"ml-auto text-amber-400 flex items-center gap-1.5",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-amber-400"}),"Unsaved changes"]})]}),W.isError&&e.jsxs("div",{className:"mt-2 text-sm text-red-400",children:["Save failed: ",W.error.message]}),W.isSuccess&&!x&&e.jsx("div",{className:"mt-2 text-sm text-green-400",children:" Changes saved successfully"}),Q.isSuccess&&e.jsxs("div",{className:"mt-2 text-sm text-green-400",children:[" Sync complete: ",((re=Q.data)==null?void 0:re.synced.length)||0," updated, ",((M=Q.data)==null?void 0:M.skipped.length)||0," skipped"]})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:d==="config"?e.jsxs("div",{className:"h-full overflow-auto p-6",children:[e.jsx(_5,{content:m,onChange:G,agentName:ne.agent_id,className:"mb-6"}),e.jsxs("div",{className:"text-sm text-slate-400 p-4 bg-slate-800 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-slate-300 mb-2",children:"Handoff Configuration Tips"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"Handoffs appear as buttons in VS Code Copilot chat"}),e.jsx("li",{children:'Use emoji icons in labels for better visibility (e.g., " Research")'}),e.jsx("li",{children:"The prompt field pre-fills the message to the target agent"}),e.jsx("li",{children:'Enable "Auto-send" to execute immediately without user confirmation'})]})]})]}):l==="edit"?e.jsx("textarea",{value:m,onChange:q=>G(q.target.value),className:"w-full h-full bg-slate-900 text-slate-100 p-6 resize-none font-mono text-sm focus:outline-none",spellCheck:!1,placeholder:"Write your agent instructions in Markdown..."}):e.jsx("div",{className:"h-full overflow-auto p-6",children:e.jsx(A5,{content:m})})}),y&&e.jsx(wp,{onClose:()=>N(!1),children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-bold text-red-400 mb-4",children:"Delete Agent"}),e.jsxs("p",{className:"text-slate-300 mb-6",children:["Are you sure you want to delete ",e.jsx("strong",{children:ne.agent_id}),"? This agent will be moved to the archive folder."]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg",children:"Cancel"}),e.jsxs("button",{onClick:()=>H.mutate(),disabled:H.isPending,className:"px-4 py-2 bg-red-600 hover:bg-red-500 rounded-lg flex items-center gap-2",children:[H.isPending&&e.jsx(Bt,{className:"w-4 h-4 animate-spin"}),"Delete"]})]})]})}),k&&e.jsx(wp,{onClose:()=>j(!1),children:e.jsxs("div",{className:"p-6 max-w-lg",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Deploy to Workspaces"}),e.jsxs("p",{className:"text-slate-400 mb-4 text-sm",children:["Select workspaces to deploy ",e.jsx("strong",{children:ne.agent_id})," to:"]}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-auto mb-4",children:xe.map(q=>e.jsxs("label",{className:I("flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors",b.includes(q.workspace_id)?"bg-blue-500/20 border border-blue-500/50":"bg-slate-800 hover:bg-slate-700"),children:[e.jsx("input",{type:"checkbox",checked:b.includes(q.workspace_id),onChange:ge=>{ge.target.checked?g([...b,q.workspace_id]):g(b.filter(we=>we!==q.workspace_id))},className:"w-4 h-4 rounded bg-slate-700 border-slate-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:q.workspace_name}),e.jsx("div",{className:"text-xs text-slate-500",children:q.sync_status==="missing"?"Not deployed":`Status: ${q.sync_status}`})]}),e.jsx(z5,{status:q.sync_status})]},q.workspace_id))}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg",children:"Cancel"}),e.jsxs("button",{onClick:()=>le.mutate(b),disabled:b.length===0||le.isPending,className:I("px-4 py-2 rounded-lg flex items-center gap-2",b.length>0?"bg-purple-600 hover:bg-purple-500":"bg-slate-700 text-slate-500 cursor-not-allowed"),children:[le.isPending&&e.jsx(Bt,{className:"w-4 h-4 animate-spin"}),"Deploy to ",b.length," workspace",b.length!==1?"s":""]})]}),le.isError&&e.jsxs("div",{className:"mt-3 text-sm text-red-400",children:["Deploy failed: ",le.error.message]})]})})]})}function wp({children:t,onClose:n}){return e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",onClick:a=>{a.target===a.currentTarget&&n()},children:e.jsx("div",{className:"bg-slate-800 rounded-xl shadow-2xl border border-slate-700",children:t})})}function z5({status:t}){const n={synced:{label:"",className:"text-green-400"},outdated:{label:"",className:"text-amber-400"},customized:{label:"",className:"text-blue-400"},missing:{label:"",className:"text-slate-500"}},{label:a,className:l}=n[t]||n.missing;return e.jsx("span",{className:l,children:a})}function A5({content:t}){const n=t.replace(/^### (.*$)/gm,'<h3 class="text-lg font-semibold mt-6 mb-2">$1</h3>').replace(/^## (.*$)/gm,'<h2 class="text-xl font-bold mt-8 mb-3 text-blue-400">$1</h2>').replace(/^# (.*$)/gm,'<h1 class="text-2xl font-bold mt-8 mb-4 text-white">$1</h1>').replace(/\*\*\*(.*?)\*\*\*/g,"<strong><em>$1</em></strong>").replace(/\*\*(.*?)\*\*/g,'<strong class="text-white">$1</strong>').replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/```(\w+)?\n([\s\S]*?)```/g,'<pre class="bg-slate-900 p-4 rounded-lg my-4 overflow-x-auto font-mono text-sm"><code>$2</code></pre>').replace(/`([^`]+)`/g,'<code class="bg-slate-900 px-1.5 py-0.5 rounded font-mono text-sm text-blue-300">$1</code>').replace(/^- (.*$)/gm,'<li class="ml-4 list-disc">$1</li>').replace(/^\d+\. (.*$)/gm,'<li class="ml-4 list-decimal">$1</li>').replace(/^> (.*$)/gm,'<blockquote class="border-l-4 border-slate-600 pl-4 italic text-slate-400 my-2">$1</blockquote>').replace(/\n\n/g,'</p><p class="mb-4">').replace(/\n/g,"<br/>");return e.jsx("div",{className:"prose prose-invert max-w-none text-slate-300 leading-relaxed",dangerouslySetInnerHTML:{__html:`<p class="mb-4">${n}</p>`}})}async function F5(){const t=await fetch("/api/metrics");if(!t.ok)throw new Error("Failed to fetch metrics");return t.json()}const hl={Coordinator:"",Analyst:"",Brainstorm:"",Runner:"",Researcher:"",Architect:"",Executor:"",Reviewer:"",Tester:"",Revisionist:"",Archivist:"",Builder:"",SkillWriter:"",Worker:""},L5={Coordinator:"bg-violet-500/20 text-violet-300 border-violet-500/30",Analyst:"bg-teal-500/20 text-teal-300 border-teal-500/30",Brainstorm:"bg-orange-500/20 text-orange-300 border-orange-500/30",Runner:"bg-green-500/20 text-green-300 border-green-500/30",Researcher:"bg-cyan-500/20 text-cyan-300 border-cyan-500/30",Architect:"bg-amber-500/20 text-amber-300 border-amber-500/30",Executor:"bg-emerald-500/20 text-emerald-300 border-emerald-500/30",Reviewer:"bg-indigo-500/20 text-indigo-300 border-indigo-500/30",Tester:"bg-pink-500/20 text-pink-300 border-pink-500/30",Revisionist:"bg-orange-500/20 text-orange-300 border-orange-500/30",Archivist:"bg-slate-500/20 text-slate-300 border-slate-500/30",Builder:"bg-blue-500/20 text-blue-300 border-blue-500/30",SkillWriter:"bg-purple-500/20 text-purple-300 border-purple-500/30",Worker:"bg-gray-500/20 text-gray-300 border-gray-500/30"},Np={feature:"bg-emerald-500/20 text-emerald-300",bug:"bg-red-500/20 text-red-300",change:"bg-blue-500/20 text-blue-300",analysis:"bg-purple-500/20 text-purple-300",investigation:"bg-teal-500/20 text-teal-300",debug:"bg-orange-500/20 text-orange-300",refactor:"bg-cyan-500/20 text-cyan-300",documentation:"bg-amber-500/20 text-amber-300"};function I5(t){const n=Math.floor(t/36e5),a=Math.floor(t%(1e3*60*60)/(1e3*60));return n>24?`${Math.floor(n/24)}d ${n%24}h`:n>0?`${n}h ${a}m`:`${a}m`}function co({title:t,value:n,subtitle:a,icon:l,trend:o,trendLabel:d}){return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:"p-2 bg-slate-700/50 rounded-lg",children:l}),o&&e.jsxs("div",{className:I("flex items-center gap-1 text-xs px-2 py-1 rounded",o==="up"?"text-emerald-400 bg-emerald-500/10":o==="down"?"text-red-400 bg-red-500/10":"text-slate-400 bg-slate-700/50"),children:[o==="up"?e.jsx(Mj,{size:12}):o==="down"?e.jsx(Tj,{size:12}):null,d]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"text-2xl font-bold",children:n}),e.jsx("div",{className:"text-sm text-slate-400",children:t}),a&&e.jsx("div",{className:"text-xs text-slate-500 mt-1",children:a})]})]})}function $5(){const{data:t,isLoading:n,error:a}=Le({queryKey:["metrics"],queryFn:F5});if(n)return e.jsxs("div",{className:"animate-pulse space-y-6",children:[e.jsx("div",{className:"h-8 bg-slate-700 rounded w-64"}),e.jsx("div",{className:"grid grid-cols-4 gap-4",children:[1,2,3,4].map(d=>e.jsx("div",{className:"h-32 bg-slate-800 rounded-lg"},d))}),e.jsx("div",{className:"h-96 bg-slate-800 rounded-lg"})]});if(a||!t)return e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-red-400 text-lg",children:"Failed to load metrics"})});const l=t.plans.total_plans,o=l>0?Math.round(t.plans.completed/l*100):0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-3",children:[e.jsx(vx,{className:"text-violet-400"}),"Performance Metrics"]}),e.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Agent workflows and plan completion statistics"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-xs text-slate-500",children:["Last updated: ",new Date(t.generated_at).toLocaleTimeString()]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(co,{title:"Total Plans",value:t.plans.total_plans,subtitle:`${t.plans.active} active`,icon:e.jsx(Wj,{size:20,className:"text-violet-400"})}),e.jsx(co,{title:"Completion Rate",value:`${o}%`,subtitle:`${t.plans.completed} completed`,icon:e.jsx(Xu,{size:20,className:"text-emerald-400"}),trend:o>=50?"up":"down",trendLabel:o>=50?"Good":"Low"}),e.jsx(co,{title:"Total Handoffs",value:t.handoffs.total_handoffs,subtitle:`Across ${t.workspaces.total} workspaces`,icon:e.jsx(oa,{size:20,className:"text-cyan-400"})}),e.jsx(co,{title:"Avg Duration",value:t.time.average_plan_duration_human||"0m",subtitle:"Per completed plan",icon:e.jsx(Qs,{size:20,className:"text-amber-400"})})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(vr,{size:18,className:"text-violet-400"}),"Step Completion Overview"]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-emerald-400",children:t.steps.done}),e.jsx("div",{className:"text-sm text-slate-400",children:"Done"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-400",children:t.steps.active}),e.jsx("div",{className:"text-sm text-slate-400",children:"Active"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-slate-400",children:t.steps.pending}),e.jsx("div",{className:"text-sm text-slate-400",children:"Pending"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-red-400",children:t.steps.blocked}),e.jsx("div",{className:"text-sm text-slate-400",children:"Blocked"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-slate-400",children:"Overall Completion"}),e.jsxs("span",{className:"font-medium",children:[t.steps.completion_rate,"%"]})]}),e.jsx(as,{value:t.steps.done,max:t.steps.total_steps,showLabel:!0})]})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(da,{size:18,className:"text-violet-400"}),"Agent Performance"]}),t.agents.length===0?e.jsx("p",{className:"text-slate-400 text-center py-8",children:"No agent sessions recorded yet"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:t.agents.map(d=>e.jsxs("div",{className:I("rounded-lg p-4 border",L5[d.agent_type]||"bg-slate-700/50 text-slate-300 border-slate-600"),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("span",{className:"text-xl",children:hl[d.agent_type]||""}),e.jsx("span",{className:"font-semibold",children:d.agent_type})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"opacity-75",children:"Sessions"}),e.jsx("span",{className:"font-medium",children:d.total_sessions})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"opacity-75",children:"Completed"}),e.jsx("span",{className:"font-medium",children:d.completed_sessions})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"opacity-75",children:"Avg Duration"}),e.jsx("span",{className:"font-medium",children:I5(d.average_duration_ms)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"opacity-75",children:"Plans"}),e.jsx("span",{className:"font-medium",children:d.plans_worked})]})]})]},d.agent_type))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Plans by Category"}),e.jsx("div",{className:"space-y-3",children:Object.entries(t.plans.by_category).sort((d,u)=>u[1]-d[1]).map(([d,u])=>{var m;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(fe,{variant:"default",className:I("min-w-[80px] justify-center",Np[d]),children:d}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"h-6 rounded bg-slate-700 relative overflow-hidden",children:[e.jsx("div",{className:I("h-full rounded transition-all",((m=Np[d])==null?void 0:m.replace("/20","/40"))||"bg-slate-600"),style:{width:`${u/l*100}%`}}),e.jsxs("span",{className:"absolute inset-0 flex items-center justify-center text-xs font-medium",children:[u," (",Math.round(u/l*100),"%)"]})]})})]},d)})})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Top Handoff Transitions"}),t.handoffs.most_common_transitions.length===0?e.jsx("p",{className:"text-slate-400 text-center py-8",children:"No handoffs recorded yet"}):e.jsx("div",{className:"space-y-2",children:t.handoffs.most_common_transitions.slice(0,8).map(d=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-700/30 rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:hl[d.from]||""}),e.jsx("span",{className:"text-slate-300",children:d.from}),e.jsx("span",{className:"text-slate-500",children:""}),e.jsx("span",{className:"text-lg",children:hl[d.to]||""}),e.jsx("span",{className:"text-slate-300",children:d.to})]}),e.jsxs(fe,{variant:"default",className:"bg-slate-600",children:[d.count,"x"]})]},`${d.from}-${d.to}`))})]})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Al,{size:18,className:"text-cyan-400"}),"Handoff Analytics"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-3 bg-slate-700/30 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:t.handoffs.total_handoffs}),e.jsx("div",{className:"text-sm text-slate-400",children:"Total Handoffs"})]}),e.jsxs("div",{className:"text-center p-3 bg-slate-700/30 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-violet-400",children:Object.keys(t.handoffs.by_transition).length}),e.jsx("div",{className:"text-sm text-slate-400",children:"Unique Flows"})]}),e.jsxs("div",{className:"text-center p-3 bg-slate-700/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(ut,{size:16,className:"text-amber-400"}),e.jsx("span",{className:"text-2xl font-bold text-amber-400",children:t.steps.blocked})]}),e.jsx("div",{className:"text-sm text-slate-400",children:"Blocked Steps"})]})]}),t.handoffs.most_common_transitions.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-slate-300 mb-2",children:"Top Transition Flows"}),e.jsx("div",{className:"space-y-1.5",children:t.handoffs.most_common_transitions.slice(0,5).map(d=>{var m;const u=((m=t.handoffs.most_common_transitions[0])==null?void 0:m.count)||1;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 min-w-[180px] text-sm",children:[e.jsx("span",{children:hl[d.from]||""}),e.jsx("span",{className:"text-slate-300",children:d.from}),e.jsx(oa,{size:12,className:"text-slate-500"}),e.jsx("span",{children:hl[d.to]||""}),e.jsx("span",{className:"text-slate-300",children:d.to})]}),e.jsx("div",{className:"flex-1 h-2 bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-cyan-500/60 rounded-full transition-all",style:{width:`${d.count/u*100}%`}})}),e.jsxs("span",{className:"text-xs text-slate-400 min-w-[30px] text-right",children:[d.count,""]})]},`${d.from}-${d.to}`)})})]})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Plans by Priority"}),e.jsx("div",{className:"grid grid-cols-4 gap-4",children:["low","medium","high","critical"].map(d=>{const u=t.plans.by_priority[d]||0,m={low:"bg-green-500/20 text-green-300 border-green-500/30",medium:"bg-yellow-500/20 text-yellow-300 border-yellow-500/30",high:"bg-orange-500/20 text-orange-300 border-orange-500/30",critical:"bg-red-500/20 text-red-300 border-red-500/30"},p={low:"",medium:"",high:"",critical:""};return e.jsxs("div",{className:I("rounded-lg p-4 border text-center",m[d]),children:[e.jsx("div",{className:"text-2xl mb-1",children:p[d]}),e.jsx("div",{className:"text-2xl font-bold",children:u}),e.jsx("div",{className:"text-sm opacity-75 capitalize",children:d})]},d)})})]})]})}async function U5(){const t=await fetch("/api/prompts");if(!t.ok)throw new Error("Failed to fetch prompts");return t.json()}async function q5(t){if(!(await fetch(`/api/prompts/${t}`,{method:"DELETE"})).ok)throw new Error("Failed to delete prompt")}async function B5(t){const n=await fetch("/api/prompts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("Failed to create prompt");return(await n.json()).prompt}const W5={agent:"bg-violet-500/20 text-violet-400",ask:"bg-cyan-500/20 text-cyan-400",edit:"bg-amber-500/20 text-amber-400"};function H5(){const t=tt(),[n,a]=S.useState(""),[l,o]=S.useState(!1),[d,u]=S.useState(null),{data:m,isLoading:p,error:x}=Le({queryKey:["prompts"],queryFn:U5}),v=We({mutationFn:q5,onSuccess:()=>{t.invalidateQueries({queryKey:["prompts"]})}}),y=We({mutationFn:B5,onSuccess:()=>{t.invalidateQueries({queryKey:["prompts"]}),o(!1)}}),N=(m==null?void 0:m.prompts.filter(k=>{var j;return k.name.toLowerCase().includes(n.toLowerCase())||((j=k.description)==null?void 0:j.toLowerCase().includes(n.toLowerCase()))}))??[];return p?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-violet-500"})}):x?e.jsxs("div",{className:"text-red-400 p-4",children:["Failed to load prompts: ",x.message]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Prompt Templates"}),e.jsx("p",{className:"text-slate-400 mt-1",children:"Reusable workflow prompts for VS Code Copilot"})]}),e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-violet-600 hover:bg-violet-700 text-white rounded-lg transition-colors",children:[e.jsx(ft,{className:"w-4 h-4"}),"New Prompt"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(fr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search prompts...",value:n,onChange:k=>a(k.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-violet-500"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:N.map(k=>e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-colors cursor-pointer",onClick:()=>u(k),children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-violet-500/20 flex items-center justify-center",children:e.jsx(lt,{className:"w-5 h-5 text-violet-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-white",children:k.name}),e.jsx("p",{className:"text-sm text-slate-400 line-clamp-1",children:k.description||"No description"})]})]}),e.jsx(fe,{className:I(W5[k.mode||"agent"]),children:k.mode||"agent"})]}),k.variables.length>0&&e.jsxs("div",{className:"mt-3 flex items-center gap-2 flex-wrap",children:[e.jsx(r1,{className:"w-3 h-3 text-slate-500"}),k.variables.map(j=>e.jsx("span",{className:"text-xs px-2 py-0.5 bg-slate-700 text-slate-300 rounded",children:`{{${j}}}`},j))]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-slate-500",children:[e.jsx("span",{children:k.updatedAt&&Nt(k.updatedAt)}),e.jsx("button",{onClick:j=>{j.stopPropagation(),confirm(`Delete prompt "${k.name}"?`)&&v.mutate(k.id)},className:"p-1 hover:text-red-400 transition-colors",children:e.jsx(Wt,{className:"w-4 h-4"})})]})]},k.id))}),N.length===0&&e.jsxs("div",{className:"text-center py-12 text-slate-400",children:[e.jsx(lt,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No prompts found"}),e.jsx("button",{onClick:()=>o(!0),className:"mt-2 text-violet-400 hover:text-violet-300",children:"Create your first prompt"})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>u(null),children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-auto",onClick:k=>k.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:d.name}),e.jsx("button",{onClick:()=>u(null),className:"text-slate-400 hover:text-white",children:""})]}),e.jsx("pre",{className:"bg-slate-900 p-4 rounded-lg text-sm text-slate-300 overflow-auto",children:d.content}),e.jsx("div",{className:"mt-4 flex gap-2",children:e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-violet-600 hover:bg-violet-700 text-white rounded-lg",children:[e.jsx(xa,{className:"w-4 h-4"}),"Deploy to Workspaces"]})})]})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>o(!1),children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 max-w-lg w-full",onClick:k=>k.stopPropagation(),children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Create New Prompt"}),e.jsxs("form",{onSubmit:k=>{k.preventDefault();const j=new FormData(k.currentTarget);y.mutate({id:j.get("id"),description:j.get("description"),mode:j.get("mode"),content:j.get("content")})},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"ID (filename)"}),e.jsx("input",{name:"id",required:!0,placeholder:"my-workflow",className:"w-full px-3 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Description"}),e.jsx("input",{name:"description",placeholder:"What this prompt does",className:"w-full px-3 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Mode"}),e.jsxs("select",{name:"mode",className:"w-full px-3 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white",children:[e.jsx("option",{value:"agent",children:"agent"}),e.jsx("option",{value:"ask",children:"ask"}),e.jsx("option",{value:"edit",children:"edit"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Content"}),e.jsx("textarea",{name:"content",required:!0,rows:6,placeholder:"# Prompt content...",className:"w-full px-3 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white font-mono text-sm"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 text-slate-400 hover:text-white",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:y.isPending,className:"px-4 py-2 bg-violet-600 hover:bg-violet-700 text-white rounded-lg disabled:opacity-50",children:y.isPending?"Creating...":"Create"})]})]})]})})]})}async function Q5(){const t=await fetch("/api/instructions");if(!t.ok)throw new Error("Failed to fetch instructions");return t.json()}async function V5(t){if(!(await fetch(`/api/instructions/${t}`,{method:"DELETE"})).ok)throw new Error("Failed to delete instruction")}async function K5(t){const n=await fetch("/api/instructions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("Failed to create instruction");return(await n.json()).instruction}function G5(){const t=tt(),[n,a]=S.useState(""),[l,o]=S.useState(!1),[d,u]=S.useState(null),{data:m,isLoading:p,error:x}=Le({queryKey:["instructions"],queryFn:Q5}),v=We({mutationFn:V5,onSuccess:()=>{t.invalidateQueries({queryKey:["instructions"]})}}),y=We({mutationFn:K5,onSuccess:()=>{t.invalidateQueries({queryKey:["instructions"]}),o(!1)}}),N=(m==null?void 0:m.instructions.filter(g=>{var P;return g.name.toLowerCase().includes(n.toLowerCase())||((P=g.applyTo)==null?void 0:P.toLowerCase().includes(n.toLowerCase()))}))??[],k=N.filter(g=>!g.isPathSpecific),j=N.filter(g=>g.isPathSpecific);if(p)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-500"})});if(x)return e.jsxs("div",{className:"text-red-400 p-4",children:["Failed to load instructions: ",x.message]});const b=({instruction:g})=>e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-colors cursor-pointer",onClick:()=>u(g),children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:I("w-10 h-10 rounded-lg flex items-center justify-center",g.isPathSpecific?"bg-cyan-500/20":"bg-amber-500/20"),children:g.isPathSpecific?e.jsx(jo,{className:"w-5 h-5 text-cyan-400"}):e.jsx(Lf,{className:"w-5 h-5 text-amber-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-white",children:g.name}),g.applyTo&&e.jsx("div",{className:"mt-1 inline-flex max-w-full",children:e.jsx("code",{className:"text-xs text-slate-300 bg-slate-900 px-2 py-1 rounded font-mono break-words whitespace-normal",children:g.applyTo})})]})]}),e.jsx(fe,{className:I(g.isPathSpecific?"bg-cyan-500/20 text-cyan-400":"bg-amber-500/20 text-amber-400"),children:g.isPathSpecific?"path-specific":"general"})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-slate-500",children:[e.jsx("span",{children:g.updatedAt&&Nt(g.updatedAt)}),e.jsx("button",{onClick:P=>{P.stopPropagation(),confirm(`Delete instruction "${g.name}"?`)&&v.mutate(g.id)},className:"p-1 hover:text-red-400 transition-colors",children:e.jsx(Wt,{className:"w-4 h-4"})})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Instruction Files"}),e.jsx("p",{className:"text-slate-400 mt-1",children:"Coding guidelines for VS Code Copilot"})]}),e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-lg transition-colors",children:[e.jsx(ft,{className:"w-4 h-4"}),"New Instruction"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(fr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search instructions...",value:n,onChange:g=>a(g.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-800 border border-slate-700 rounded-lg text-white placeholder-slate-400 focus:outline-none focus:border-amber-500"})]}),k.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[e.jsx(Lf,{className:"w-5 h-5 text-amber-400"}),"General Instructions"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map(g=>e.jsx(b,{instruction:g},g.id))})]}),j.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[e.jsx(jo,{className:"w-5 h-5 text-cyan-400"}),"Path-Specific Instructions"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(g=>e.jsx(b,{instruction:g},g.id))})]}),N.length===0&&e.jsxs("div",{className:"text-center py-12 text-slate-400",children:[e.jsx(Cs,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No instructions found"}),e.jsx("button",{onClick:()=>o(!0),className:"mt-2 text-amber-400 hover:text-amber-300",children:"Create your first instruction"})]}),d&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>u(null),children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-auto",onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:d.name}),e.jsx("button",{onClick:()=>u(null),className:"text-slate-400 hover:text-white",children:""})]}),d.applyTo&&e.jsxs("div",{className:"mb-4 p-2 bg-slate-900 rounded-lg",children:[e.jsx("span",{className:"text-slate-400 text-sm",children:"Applies to: "}),e.jsx("code",{className:"text-cyan-400",children:d.applyTo})]}),e.jsx("pre",{className:"bg-slate-900 p-4 rounded-lg text-sm text-slate-300 overflow-auto",children:d.content}),e.jsx("div",{className:"mt-4 flex gap-2",children:e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-lg",children:[e.jsx(xa,{className:"w-4 h-4"}),"Deploy to Workspaces"]})})]})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>o(!1),children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 max-w-lg w-full",onClick:g=>g.stopPropagation(),children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Create New Instruction"}),e.jsxs("form",{onSubmit:g=>{g.preventDefault();const P=new FormData(g.currentTarget);y.mutate({id:P.get("id"),applyTo:P.get("applyTo")||void 0,content:P.get("content")})},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"ID (filename)"}),e.jsx("input",{name:"id",required:!0,placeholder:"my-instructions",className:"w-full px-3 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Apply To (glob pattern, optional)"}),e.jsx("input",{name:"applyTo",placeholder:"**/*.test.ts",className:"w-full px-3 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white font-mono"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Leave empty for general instructions. Use glob patterns for path-specific."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Content"}),e.jsx("textarea",{name:"content",required:!0,rows:6,placeholder:"# Instruction content...",className:"w-full px-3 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white font-mono text-sm"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 text-slate-400 hover:text-white",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:y.isPending,className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-lg disabled:opacity-50",children:y.isPending?"Creating...":"Create"})]})]})]})})]})}async function Y5(t,n){const a=await fetch(`/api/plans/${t}/${n}/context`);if(!a.ok)throw new Error("Failed to fetch context files");return(await a.json()).context||[]}async function J5(t,n,a){const l=await fetch(`/api/plans/${t}/${n}/context/${a}`);if(!l.ok)throw new Error("Failed to fetch context file");return l.json()}async function X5(t,n){const a=await fetch(`/api/plans/${t}/${n}/research`);if(!a.ok)throw new Error("Failed to fetch research notes");return(await a.json()).notes||[]}function Z5(t){return t.toLowerCase().replace(/[^a-z0-9-_]+/g,"-").replace(/^-+|-+$/g,"").slice(0,50)}function eS(){const{workspaceId:t,planId:n}=Dn(),a=Ws(),l=tt(),[o,d]=S.useState(null),[u,m]=S.useState(""),[p,x]=S.useState(""),[v,y]=S.useState(""),N=S.useRef(null),k=S.useRef(null),j=S.useRef(null),b=S.useRef(null),g=S.useMemo(()=>new URLSearchParams(a.search).get("focus"),[a.search]),{data:P=[],isLoading:O}=Le({queryKey:["context-files",t,n],queryFn:()=>Y5(t,n),enabled:!!t&&!!n}),C=o?o.replace(/\.json$/,""):null,{data:R,isLoading:U}=Le({queryKey:["context-file",t,n,C],queryFn:()=>J5(t,n,C),enabled:!!t&&!!n&&!!C}),{data:B=[],isLoading:L}=Le({queryKey:["research-notes",t,n],queryFn:()=>X5(t,n),enabled:!!t&&!!n}),W=We({mutationFn:async Q=>{const le=await fetch(`/api/plans/${t}/${n}/context`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:`context_note_${Date.now()}`,data:{note:Q,created_by:"user",created_at:new Date().toISOString()}})});if(!le.ok)throw new Error("Failed to add context note");return le.json()},onSuccess:()=>{l.invalidateQueries({queryKey:["context-files",t,n]}),m("")}}),H=We({mutationFn:async Q=>{const le=await fetch(`/api/plans/${t}/${n}/research`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Q)});if(!le.ok)throw new Error("Failed to add research note");return le.json()},onSuccess:()=>{l.invalidateQueries({queryKey:["research-notes",t,n]}),x(""),y("")}});return S.useEffect(()=>{!o&&P.length>0&&d(P[0])},[P,o]),S.useEffect(()=>{var Q,le,G,ne;g==="context"&&((Q=N.current)==null||Q.scrollIntoView({behavior:"smooth",block:"start"}),(le=j.current)==null||le.focus()),g==="research"&&((G=k.current)==null||G.scrollIntoView({behavior:"smooth",block:"start"}),(ne=b.current)==null||ne.focus())},[g]),!t||!n?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-400 text-lg",children:"Missing workspace or plan"}),e.jsx(Te,{to:"/",className:"text-violet-400 hover:underline mt-2 inline-block",children:"Return to dashboard"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Te,{to:`/workspace/${t}/plan/${n}`,className:"inline-flex items-center gap-2 text-slate-400 hover:text-slate-200 transition-colors",children:[e.jsx(An,{size:16}),"Back to Plan"]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(lt,{className:"text-violet-400",size:22}),e.jsx("h1",{className:"text-2xl font-bold",children:"Context Files"})]}),e.jsx("p",{className:"text-slate-400",children:"Review context entries and add new notes or research files."})]}),e.jsxs("div",{ref:N,className:"bg-slate-800 border border-slate-700 rounded-lg p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ru,{className:"text-violet-400",size:18}),e.jsx("h2",{className:"text-lg font-semibold",children:"Add Context Note"})]}),e.jsx("textarea",{ref:j,value:u,onChange:Q=>m(Q.target.value),placeholder:"Add a context note for this plan...",className:"w-full min-h-[120px] bg-slate-900 border border-slate-600 rounded-lg p-3 text-slate-200 focus:outline-none focus:ring-2 focus:ring-violet-500"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>W.mutate(u.trim()),disabled:!u.trim()||W.isPending,className:"px-4 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-500 transition-colors disabled:opacity-50",children:W.isPending?"Saving...":"Save Note"}),W.isError&&e.jsx("span",{className:"text-sm text-red-400",children:"Failed to save context note."})]})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(lt,{className:"text-blue-400",size:18}),e.jsx("h2",{className:"text-lg font-semibold",children:"Context Files"}),e.jsx("button",{onClick:()=>l.invalidateQueries({queryKey:["context-files",t,n]}),className:"ml-auto p-2 text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded-lg",title:"Refresh",children:e.jsx(Ss,{size:16})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsx("div",{className:"space-y-2",children:O?e.jsx("p",{className:"text-sm text-slate-400",children:"Loading context files..."}):P.length===0?e.jsx("p",{className:"text-sm text-slate-400",children:"No context files yet."}):P.map(Q=>e.jsx("button",{onClick:()=>d(Q),className:`w-full text-left px-3 py-2 rounded-lg border transition-colors ${o===Q?"border-violet-500 bg-violet-500/10 text-violet-200":"border-slate-700 hover:border-slate-600 text-slate-300"}`,children:Q},Q))}),e.jsx("div",{className:"lg:col-span-2 bg-slate-900 border border-slate-700 rounded-lg p-4 min-h-[220px]",children:U?e.jsx("p",{className:"text-sm text-slate-400",children:"Loading file..."}):R?e.jsx("pre",{className:"text-sm text-slate-200 whitespace-pre-wrap break-words",children:JSON.stringify(R,null,2)}):e.jsx("p",{className:"text-sm text-slate-400",children:"Select a context file to view details."})})]})]}),e.jsxs("div",{ref:k,className:"bg-slate-800 border border-slate-700 rounded-lg p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Cs,{className:"text-emerald-400",size:18}),e.jsx("h2",{className:"text-lg font-semibold",children:"Research Notes"})]}),e.jsx("input",{value:p,onChange:Q=>x(Q.target.value),placeholder:"Optional title (used for filename)",className:"w-full bg-slate-900 border border-slate-600 rounded-lg p-2 text-slate-200"}),e.jsx("textarea",{ref:b,value:v,onChange:Q=>y(Q.target.value),placeholder:"Write a research note...",className:"w-full min-h-[160px] bg-slate-900 border border-slate-600 rounded-lg p-3 text-slate-200 focus:outline-none focus:ring-2 focus:ring-emerald-500"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{const Q=p.trim()?`${Z5(p.trim())}.md`:`research_${new Date().toISOString().replace(/[:.]/g,"-")}.md`;H.mutate({filename:Q,content:v.trim()})},disabled:!v.trim()||H.isPending,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-500 transition-colors disabled:opacity-50",children:H.isPending?"Saving...":"Save Research Note"}),H.isError&&e.jsx("span",{className:"text-sm text-red-400",children:"Failed to save research note."})]}),e.jsx("div",{className:"border-t border-slate-700 pt-4 space-y-3",children:L?e.jsx("p",{className:"text-sm text-slate-400",children:"Loading research notes..."}):B.length===0?e.jsx("p",{className:"text-sm text-slate-400",children:"No research notes yet."}):B.map(Q=>e.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-semibold text-slate-200",children:Q.filename}),e.jsx("span",{className:"text-xs text-slate-500",children:new Date(Q.modified_at).toLocaleString()})]}),e.jsx("pre",{className:"text-sm text-slate-300 whitespace-pre-wrap break-words",children:Q.content})]},Q.filename))})]})]})}async function tS(){const t=await fetch("/api/health");if(!t.ok)throw new Error("Failed to fetch health");return t.json()}async function sS(t){const n=await fetch(`/api/workspaces/${t}`);if(!n.ok)throw new Error("Failed to fetch workspace");return n.json()}function nS(){const{workspaceId:t}=Dn(),{data:n,isLoading:a}=Le({queryKey:["health"],queryFn:tS}),{data:l}=Le({queryKey:["workspace",t],queryFn:()=>sS(t),enabled:!!t});return t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Te,{to:`/workspace/${t}`,className:"inline-flex items-center gap-2 text-slate-400 hover:text-slate-200 transition-colors",children:[e.jsx(An,{size:16}),"Back to Workspace"]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(To,{className:"text-blue-400",size:22}),e.jsx("h1",{className:"text-2xl font-bold",children:"Data Root"})]}),e.jsx("p",{className:"text-slate-400",children:"View the configured data paths for this workspace."})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Workspace"}),e.jsx("p",{className:"text-slate-200 font-mono break-all",children:(l==null?void 0:l.path)||"Unknown"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Data Root Path"}),e.jsx("p",{className:"text-slate-200 font-mono break-all",children:a?"Loading...":(n==null?void 0:n.dataRoot)||"Unknown"})]}),n&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Agents Root"}),e.jsx("p",{className:"text-slate-200 font-mono break-all",children:n.agentsRoot})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Prompts Root"}),e.jsx("p",{className:"text-slate-200 font-mono break-all",children:n.promptsRoot})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Instructions Root"}),e.jsx("p",{className:"text-slate-200 font-mono break-all",children:n.instructionsRoot})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Status"}),e.jsx("p",{className:"text-slate-200",children:n.status})]})]})]})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-400 text-lg",children:"Missing workspace"}),e.jsx(Te,{to:"/",className:"text-violet-400 hover:underline mt-2 inline-block",children:"Return to dashboard"})]})}async function rS(){const t=await fetch("/api/workspaces");if(!t.ok)throw new Error("Failed to fetch workspaces");return t.json()}function aS(){const{workspaceId:t}=Dn(),{data:n,isLoading:a}=Le({queryKey:["workspaces"],queryFn:rS}),l=(n==null?void 0:n.workspaces)||[],o=l.find(d=>d.workspace_id===t);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Te,{to:t?`/workspace/${t}`:"/",className:"inline-flex items-center gap-2 text-slate-400 hover:text-slate-200 transition-colors",children:[e.jsx(An,{size:16}),"Back to Workspace"]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(vr,{className:"text-amber-400",size:22}),e.jsx("h1",{className:"text-2xl font-bold",children:"Workspace Status"})]}),e.jsx("p",{className:"text-slate-400",children:"Monitor workspace health and stale activity indicators."})]}),o&&e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:o.name}),e.jsx("p",{className:"text-sm text-slate-400 font-mono break-all",children:o.path})]}),e.jsx(bl,{health:o.health,showLabel:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4 text-sm text-slate-300",children:[e.jsxs("div",{children:["Active plans: ",o.active_plan_count]}),e.jsxs("div",{children:["Archived plans: ",o.archived_plan_count]}),e.jsxs("div",{children:["Last activity: ",new Date(o.last_activity).toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"All Workspaces"}),a?e.jsx("p",{className:"text-sm text-slate-400",children:"Loading workspaces..."}):l.length===0?e.jsx("p",{className:"text-sm text-slate-400",children:"No workspaces found."}):e.jsx("div",{className:"space-y-3",children:l.map(d=>e.jsxs("div",{className:"flex items-center justify-between border border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:d.name}),e.jsx("div",{className:"text-xs text-slate-500 font-mono break-all",children:d.path})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-slate-300",children:[e.jsx(bl,{health:d.health,showLabel:!0}),e.jsxs("span",{children:[d.active_plan_count," active"]}),e.jsxs("span",{children:[d.archived_plan_count," archived"]})]})]},d.workspace_id))})]})]})}function lS(){var p,x;const{workspaceId:t,planId:n}=Dn(),a=Ws(),{data:l=[]}=Dg({workspaceId:t,planId:n}),o=zg(),d=Ag(),u=Fg(),m=S.useMemo(()=>new URLSearchParams(a.search).get("run")==="1",[a.search]);return!t||!n?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-400 text-lg",children:"Missing workspace or plan"}),e.jsx(Te,{to:"/",className:"text-violet-400 hover:underline mt-2 inline-block",children:"Return to dashboard"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(Te,{to:`/workspace/${t}/plan/${n}`,className:"inline-flex items-center gap-2 text-slate-400 hover:text-slate-200 transition-colors",children:[e.jsx(An,{size:16}),"Back to Plan"]}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(vl,{className:"text-emerald-400",size:22}),e.jsx("h1",{className:"text-2xl font-bold",children:"Build Scripts"})]}),e.jsx("p",{className:"text-slate-400",children:"Manage and run build scripts for this plan."})]}),m&&e.jsx("div",{className:"bg-amber-500/10 border border-amber-500/40 rounded-lg p-4 text-amber-200 text-sm",children:"Select a build script to run it now."}),e.jsx(Tg,{workspaceId:t,planId:n,scripts:l,onAdd:v=>o.mutate({workspaceId:t,planId:n,script:v}),onRun:v=>u.mutate({workspaceId:t,planId:n,scriptId:v}),onDelete:v=>d.mutate({workspaceId:t,planId:n,scriptId:v}),isAdding:o.isPending,runningScriptId:u.isPending?(p=u.variables)==null?void 0:p.scriptId:null,deletingScriptId:d.isPending?(x=d.variables)==null?void 0:x.scriptId:null,runOutput:u.data?{scriptId:u.variables.scriptId,output:u.data.output,error:u.data.error}:null})]})}function Zd({className:t,variant:n="text",width:a,height:l,animation:o="pulse"}){const d="bg-gray-200 dark:bg-gray-700",u={text:"rounded h-4",circular:"rounded-full",rectangular:"",rounded:"rounded-md"},m={pulse:"animate-pulse",wave:"animate-shimmer bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 bg-[length:200%_100%]",none:""},p={width:typeof a=="number"?`${a}px`:a,height:typeof l=="number"?`${l}px`:l};return e.jsx("div",{className:I(d,u[n],m[o],t),style:p,"aria-hidden":"true"})}const iS=["critical","high","medium","low"],oS={critical:"border-red-500/70",high:"border-orange-500/70",medium:"border-yellow-500/60",low:"border-green-500/50"};function cS(t){const n=new Set(t.map(u=>u.plan_id)),a=new Set,l=new Map(t.map(u=>[u.plan_id,u])),o=[];let d=0;for(;l.size>0&&d<20;){d++;const u=[];for(const[,m]of l)(m.depends_on_plans||[]).filter(x=>n.has(x)).every(x=>a.has(x))&&u.push(m);if(u.length===0){o.push({index:o.length,plans:Array.from(l.values())});break}for(const m of u)a.add(m.plan_id),l.delete(m.plan_id);o.push({index:o.length,plans:u})}return o}function dS(t){if(!t||t.length===0)return null;for(const n of iS)if(t.some(a=>a.severity===n))return n;return null}function uS({plan:t,workspaceId:n}){var m,p;const a=t.progress.total>0?Math.round(t.progress.done/t.progress.total*100):0,l=dS(t.risk_register),o=((m=t.matched_skills)==null?void 0:m.length)??0,d=((p=t.risk_register)==null?void 0:p.length)??0,u=l?oS[l]:"border-slate-700";return e.jsxs(Te,{to:`/workspace/${n}/plan/${t.plan_id}`,className:I("block bg-slate-800 border-2 rounded-lg p-3 hover:brightness-110 transition-all min-w-[200px] max-w-[280px]",u),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:"text-sm font-medium text-slate-200 truncate",children:t.title}),e.jsx(fe,{variant:pr[t.status],children:t.status})]}),e.jsx(as,{value:t.progress.done,max:t.progress.total,className:"mb-1"}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[e.jsxs("span",{children:[t.progress.done,"/",t.progress.total," steps"]}),e.jsxs("span",{children:[a,"%"]})]}),(d>0||o>0)&&e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d>0&&l&&e.jsxs(fe,{variant:Fl[l],children:[d," risk",d!==1?"s":""]}),o>0&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-purple-400",children:[e.jsx(Cs,{size:11}),o]})]}),t.depends_on_plans&&t.depends_on_plans.length>0&&e.jsxs("div",{className:"mt-1.5 text-xs text-slate-500",children:[" ",t.depends_on_plans.length," dep",t.depends_on_plans.length!==1?"s":""]})]})}function hS({announcement:t}){return e.jsxs("div",{className:"flex items-start gap-2 bg-violet-500/10 border border-violet-500/30 rounded-lg px-3 py-2",children:[e.jsx(Cx,{size:14,className:"text-violet-400 mt-0.5 shrink-0"}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("span",{className:"text-xs font-medium text-violet-300",children:t.phase}),e.jsx("p",{className:"text-sm text-slate-300",children:t.message}),t.announced_by&&e.jsxs("span",{className:"text-xs text-slate-500",children:[" ",t.announced_by]})]})]})}function mS({plans:t,workspaceId:n,phaseAnnouncements:a,className:l}){if(t.length===0)return null;const o=t.some(m=>m.depends_on_plans&&m.depends_on_plans.length>0),d=a??[],u=m=>e.jsx("div",{className:"flex flex-wrap gap-3",children:m.map(p=>e.jsx(uS,{plan:p,workspaceId:n},p.plan_id))});return e.jsxs("div",{className:I("bg-slate-800 border border-slate-700 rounded-lg p-4",l),children:[e.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Plan Dependencies & Execution Waves"}),d.length>0&&e.jsx("div",{className:"space-y-2 mb-4",children:d.map((m,p)=>e.jsx(hS,{announcement:m},p))}),o?e.jsx("div",{className:"space-y-6",children:cS(t).map((m,p,x)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("span",{className:"w-7 h-7 rounded-full bg-violet-500/20 text-violet-300 flex items-center justify-center text-xs font-bold",children:m.index+1}),e.jsxs("span",{className:"text-xs font-medium text-slate-400",children:["Wave ",m.index+1]}),e.jsxs("span",{className:"text-xs text-slate-500",children:[m.plans.length," plan",m.plans.length!==1?"s":""," "," ",m.index===0?"no dependencies":"depends on prior waves"]})]}),e.jsx("div",{className:"pl-4 border-l-2 border-violet-500/30",children:u(m.plans)}),p<x.length-1&&e.jsx("div",{className:"flex justify-center py-2",children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",className:"text-slate-600",children:e.jsx("path",{d:"M12 4 L12 16 M7 12 L12 17 L17 12",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})})]},m.index))}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-xs text-slate-500 mb-3",children:"No inter-plan dependencies defined. All plans can execute in parallel."}),u(t)]})]})}const Eo=["critical","high","medium","low"],fS={low:e.jsx(pa,{size:13}),medium:e.jsx(ut,{size:13}),high:e.jsx(Ox,{size:13}),critical:e.jsx(Dx,{size:13})},pS={low:"bg-green-500/30 text-green-300 border-green-500/40",medium:"bg-yellow-500/30 text-yellow-300 border-yellow-500/40",high:"bg-orange-500/30 text-orange-300 border-orange-500/40",critical:"bg-red-500/30 text-red-300 border-red-500/40"};function xS(t){const n=t.filter(a=>!a.status||a.status==="open");if(n.length===0)return"low";for(const a of Eo)if(n.some(l=>l.severity===a))return a;return"low"}function gS(t){const n={low:0,medium:0,high:0,critical:0};for(const a of t)n[a.severity]=(n[a.severity]||0)+1;return n}function yS({counts:t}){return e.jsx("div",{className:"grid grid-cols-4 gap-2",children:Eo.map(n=>e.jsxs("div",{className:I("rounded-lg border p-3 text-center",t[n]>0?pS[n]:"bg-slate-700/30 text-slate-500 border-slate-600/40"),children:[e.jsx("div",{className:"text-lg font-bold",children:t[n]}),e.jsx("div",{className:"text-xs capitalize",children:n})]},n))})}function vS({risk:t,workspaceId:n}){return e.jsxs("div",{className:"flex items-start gap-2 py-2 border-b border-slate-700/50 last:border-0",children:[e.jsx("span",{className:"mt-0.5 shrink-0",children:fS[t.severity]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-slate-200 leading-snug",children:t.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[e.jsx(fe,{variant:Fl[t.severity],children:t.severity}),e.jsx("span",{className:"text-xs text-slate-500 capitalize",children:t.type.replace(/_/g," ")}),t.source_plan&&n&&e.jsxs(Te,{to:`/workspace/${n}/plan/${t.source_plan}`,className:"inline-flex items-center gap-1 text-xs text-violet-400 hover:text-violet-300",children:[e.jsx(Nx,{size:10}),t.source_plan.slice(-8)]})]}),t.mitigation&&e.jsxs("p",{className:"text-xs text-slate-500 mt-1 italic",children:[" ",t.mitigation]})]})]})}function bS({risks:t,workspaceId:n,className:a}){if(t.length===0)return null;const l=gS(t),o=xS(t),u=[...t].sort((m,p)=>Eo.indexOf(m.severity)-Eo.indexOf(p.severity)).slice(0,5);return e.jsxs("div",{className:I("bg-slate-800 border border-slate-700 rounded-lg p-4",a),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-white flex items-center gap-2",children:[e.jsx(ut,{size:16,className:"text-amber-400"}),"Program Risk Overview"]}),e.jsxs(fe,{variant:Fl[o],children:[o," risk"]})]}),e.jsx(yS,{counts:l}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("h4",{className:"text-xs font-medium text-slate-400 mb-2",children:["Top Risks (",u.length," of ",t.length,")"]}),e.jsx("div",{className:"divide-y divide-slate-700/50",children:u.map(m=>e.jsx(vS,{risk:m,workspaceId:n},m.id))})]})]})}function jS({plan:t,workspaceId:n}){const a=t.progress.total>0?Math.round(t.progress.done/t.progress.total*100):0;return e.jsxs(Te,{to:`/workspace/${n}/plan/${t.plan_id}`,className:"block bg-slate-800 border border-slate-700 rounded-lg p-4 hover:border-violet-500/50 transition-all group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-slate-200 group-hover:text-violet-300 transition-colors truncate",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[e.jsx(fe,{variant:pr[t.status],children:t.status}),t.current_phase&&e.jsx("span",{className:"text-xs text-slate-500",children:t.current_phase})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(as,{value:t.progress.done,max:t.progress.total,className:"flex-1"}),e.jsxs("span",{className:"text-xs text-slate-400 shrink-0",children:[t.progress.done,"/",t.progress.total," (",a,"%)"]})]}),t.depends_on_plans&&t.depends_on_plans.length>0&&e.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:["Depends on: ",t.depends_on_plans.map(l=>l.slice(-8)).join(", ")]})]})}function wS({agg:t}){const n=[{label:"Total Plans",value:t.total_plans,icon:ns,color:"text-violet-400",bg:"bg-violet-500/20"},{label:"Active Plans",value:t.active_plans,icon:vr,color:"text-blue-400",bg:"bg-blue-500/20"},{label:"Completed",value:t.completed_plans,icon:Hs,color:"text-green-400",bg:"bg-green-500/20"},{label:"Failed",value:t.failed_plans,icon:ut,color:"text-red-400",bg:"bg-red-500/20"}];return e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:n.map(a=>e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:`p-1.5 rounded ${a.bg}`,children:e.jsx(a.icon,{className:a.color,size:16})}),e.jsx("span",{className:"text-xs text-slate-400",children:a.label})]}),e.jsx("p",{className:"text-xl font-bold",children:a.value})]},a.label))})}function NS({agg:t}){if(t.total_steps===0)return null;const n=a=>a/t.total_steps*100;return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:[e.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[e.jsx(wo,{size:16,className:"text-blue-400"}),"Step Breakdown"]}),e.jsxs("div",{className:"flex h-3 rounded-full overflow-hidden bg-slate-700 mb-3",children:[t.done_steps>0&&e.jsx("div",{className:"bg-green-500",style:{width:`${n(t.done_steps)}%`}}),t.active_steps>0&&e.jsx("div",{className:"bg-blue-500",style:{width:`${n(t.active_steps)}%`}}),t.blocked_steps>0&&e.jsx("div",{className:"bg-red-500",style:{width:`${n(t.blocked_steps)}%`}})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-green-500"}),e.jsx("span",{className:"text-slate-400",children:"Done"}),e.jsx("span",{className:"font-medium",children:t.done_steps})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-slate-400",children:"Active"}),e.jsx("span",{className:"font-medium",children:t.active_steps})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-slate-500"}),e.jsx("span",{className:"text-slate-400",children:"Pending"}),e.jsx("span",{className:"font-medium",children:t.pending_steps})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-red-500"}),e.jsx("span",{className:"text-slate-400",children:"Blocked"}),e.jsx("span",{className:"font-medium",children:t.blocked_steps})]})]})]})}function kS(){const{workspaceId:t,programId:n}=Dn(),{data:a,isLoading:l,error:o}=rg(t,n);if(l)return e.jsxs("div",{className:"space-y-4 p-6",children:[e.jsx(Zd,{className:"h-8 w-64"}),e.jsx(Zd,{className:"h-4 w-96"}),e.jsx(Zd,{className:"h-32 w-full"})]});if(o||!a)return e.jsx(Mu,{icon:e.jsx(ns,{className:"h-8 w-8 text-red-400"}),title:"Program not found",description:(o==null?void 0:o.message)||"The requested program could not be loaded."});const d=a.aggregate_progress;return e.jsxs("div",{className:"space-y-6 p-6",children:[e.jsxs(Te,{to:`/workspace/${t}`,className:"inline-flex items-center gap-1.5 text-sm text-slate-400 hover:text-white transition-colors",children:[e.jsx(An,{size:16})," Back to workspace"]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(ns,{className:"h-6 w-6 text-violet-400"}),e.jsx("h1",{className:"text-2xl font-bold",children:a.name}),e.jsxs(fe,{variant:"bg-slate-600/40 text-slate-300 border-slate-500/50",children:[d.total_plans," plan",d.total_plans!==1?"s":""]})]}),a.description&&e.jsx("p",{className:"text-slate-400",children:a.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-slate-500",children:[e.jsxs("span",{children:["Created ",wl(a.created_at)]}),e.jsxs("span",{children:["Updated ",wl(a.updated_at)]})]})]}),e.jsx(wS,{agg:d}),e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(t0,{size:16,className:"text-blue-400"}),e.jsx("h2",{className:"font-semibold",children:"Overall Progress"}),e.jsxs("span",{className:"ml-auto text-lg font-bold text-violet-300",children:[d.completion_percentage,"%"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(as,{value:d.done_steps,max:d.total_steps,className:"flex-1"}),e.jsxs("span",{className:"text-sm text-slate-300 shrink-0",children:[d.done_steps,"/",d.total_steps," steps"]})]})]}),e.jsx(NS,{agg:d}),a.goals&&a.goals.length>0&&e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(wo,{size:16,className:"text-green-400"}),e.jsx("h2",{className:"font-semibold",children:"Goals"})]}),e.jsx("ul",{className:"space-y-1.5",children:a.goals.map((u,m)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-300",children:[e.jsx("span",{className:"text-green-400 mt-0.5",children:""}),u]},m))})]}),a.success_criteria&&a.success_criteria.length>0&&e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Hs,{size:16,className:"text-emerald-400"}),e.jsx("h2",{className:"font-semibold",children:"Success Criteria"})]}),e.jsx("ul",{className:"space-y-1.5",children:a.success_criteria.map((u,m)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-slate-300",children:[e.jsx("span",{className:"text-emerald-400 mt-0.5",children:""}),u]},m))})]}),a.risk_register&&a.risk_register.length>0&&e.jsx(bS,{risks:a.risk_register,workspaceId:t}),a.phase_announcements&&a.phase_announcements.length>0&&e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:[e.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[e.jsx(Cx,{size:16,className:"text-violet-400"}),"Phase Announcements"]}),e.jsx("div",{className:"space-y-2",children:a.phase_announcements.map((u,m)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsxs("span",{className:"text-violet-400 font-medium shrink-0",children:[u.phase,":"]}),e.jsx("span",{className:"text-slate-300",children:u.message}),u.announced_by&&e.jsxs("span",{className:"text-xs text-slate-500 shrink-0",children:[" ",u.announced_by]})]},m))})]}),a.plans.length>1&&e.jsx(mS,{plans:a.plans,workspaceId:t,phaseAnnouncements:a.phase_announcements}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold mb-3",children:"Plans"}),a.plans.length===0?e.jsx(Mu,{icon:e.jsx(ns,{className:"h-6 w-6 text-slate-500"}),title:"No plans yet",description:"This program has no child plans."}):e.jsx("div",{className:"space-y-3",children:a.plans.map(u=>e.jsx(jS,{plan:u,workspaceId:t},u.plan_id))})]})]})}const SS={},kp=t=>{let n;const a=new Set,l=(v,y)=>{const N=typeof v=="function"?v(n):v;if(!Object.is(N,n)){const k=n;n=y??(typeof N!="object"||N===null)?N:Object.assign({},n,N),a.forEach(j=>j(n,k))}},o=()=>n,p={setState:l,getState:o,getInitialState:()=>x,subscribe:v=>(a.add(v),()=>a.delete(v)),destroy:()=>{(SS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),a.clear()}},x=n=t(l,o,p);return p},CS=t=>t?kp(t):kp;var eu={exports:{}},tu={},su={exports:{}},nu={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function _S(){if(Sp)return nu;Sp=1;var t=Ml();function n(y,N){return y===N&&(y!==0||1/y===1/N)||y!==y&&N!==N}var a=typeof Object.is=="function"?Object.is:n,l=t.useState,o=t.useEffect,d=t.useLayoutEffect,u=t.useDebugValue;function m(y,N){var k=N(),j=l({inst:{value:k,getSnapshot:N}}),b=j[0].inst,g=j[1];return d(function(){b.value=k,b.getSnapshot=N,p(b)&&g({inst:b})},[y,k,N]),o(function(){return p(b)&&g({inst:b}),y(function(){p(b)&&g({inst:b})})},[y]),u(k),k}function p(y){var N=y.getSnapshot;y=y.value;try{var k=N();return!a(y,k)}catch{return!0}}function x(y,N){return N()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x:m;return nu.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:v,nu}var Cp;function ES(){return Cp||(Cp=1,su.exports=_S()),su.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function PS(){if(_p)return tu;_p=1;var t=Ml(),n=ES();function a(x,v){return x===v&&(x!==0||1/x===1/v)||x!==x&&v!==v}var l=typeof Object.is=="function"?Object.is:a,o=n.useSyncExternalStore,d=t.useRef,u=t.useEffect,m=t.useMemo,p=t.useDebugValue;return tu.useSyncExternalStoreWithSelector=function(x,v,y,N,k){var j=d(null);if(j.current===null){var b={hasValue:!1,value:null};j.current=b}else b=j.current;j=m(function(){function P(B){if(!O){if(O=!0,C=B,B=N(B),k!==void 0&&b.hasValue){var L=b.value;if(k(L,B))return R=L}return R=B}if(L=R,l(C,B))return L;var W=N(B);return k!==void 0&&k(L,W)?(C=B,L):(C=B,R=W)}var O=!1,C,R,U=y===void 0?null:y;return[function(){return P(v())},U===null?void 0:function(){return P(U())}]},[v,y,N,k]);var g=o(x,j[0],j[1]);return u(function(){b.hasValue=!0,b.value=g},[g]),p(g),g},tu}var Ep;function RS(){return Ep||(Ep=1,eu.exports=PS()),eu.exports}var TS=RS();const OS=Uu(TS),Ig={},{useDebugValue:MS}=Po,{useSyncExternalStoreWithSelector:DS}=OS;let Pp=!1;const zS=t=>t;function AS(t,n=zS,a){(Ig?"production":void 0)!=="production"&&a&&!Pp&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Pp=!0);const l=DS(t.subscribe,t.getState,t.getServerState||t.getInitialState,n,a);return MS(l),l}const Rp=t=>{(Ig?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const n=typeof t=="function"?CS(t):t,a=(l,o)=>AS(n,l,o);return Object.assign(a,n),a},$g=t=>t?Rp(t):Rp,Ug=$g(t=>({toasts:[],addToast:n=>{const a=Math.random().toString(36).slice(2);return t(l=>({toasts:[...l.toasts.slice(-4),{...n,id:a}]})),a},removeToast:n=>{t(a=>({toasts:a.toasts.filter(l=>l.id!==n)}))},clearAll:()=>t({toasts:[]})}));function FS(){const{addToast:t,removeToast:n}=Ug();return{success:(a,l)=>t({type:"success",title:a,message:l}),error:(a,l)=>t({type:"error",title:a,message:l}),info:(a,l)=>t({type:"info",title:a,message:l}),warning:(a,l)=>t({type:"warning",title:a,message:l}),handoff:(a,l,o)=>t({type:"handoff",title:`${a}  ${l}`,message:o,duration:5e3}),dismiss:n}}function LS(){const{toasts:t,removeToast:n}=Ug();return e.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-2",children:t.map(a=>e.jsx(IS,{toast:a,onDismiss:()=>n(a.id)},a.id))})}function IS({toast:t,onDismiss:n}){const[a,l]=S.useState(!1),[o,d]=S.useState(!1);S.useEffect(()=>{requestAnimationFrame(()=>l(!0));const x=t.duration||4e3,v=setTimeout(()=>{d(!0),setTimeout(n,200)},x);return()=>clearTimeout(v)},[t.duration,n]);const u=()=>{d(!0),setTimeout(n,200)},m={success:e.jsx(Hs,{className:"w-5 h-5 text-green-400"}),error:e.jsx(zn,{className:"w-5 h-5 text-red-400"}),info:e.jsx(pa,{className:"w-5 h-5 text-blue-400"}),warning:e.jsx(ut,{className:"w-5 h-5 text-amber-400"}),handoff:e.jsx(mr,{className:"w-5 h-5 text-purple-400"})},p={success:"bg-green-500/10 border-green-500/30",error:"bg-red-500/10 border-red-500/30",info:"bg-blue-500/10 border-blue-500/30",warning:"bg-amber-500/10 border-amber-500/30",handoff:"bg-purple-500/10 border-purple-500/30"};return e.jsxs("div",{className:I("flex items-start gap-3 p-4 rounded-lg border shadow-lg backdrop-blur-sm transition-all duration-200 min-w-[320px] max-w-md",p[t.type],a&&!o?"translate-x-0 opacity-100":"translate-x-8 opacity-0"),children:[m[t.type],e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium",children:t.title}),t.message&&e.jsx("div",{className:"text-sm text-slate-400 mt-0.5 truncate",children:t.message}),t.action&&e.jsx("button",{onClick:t.action.onClick,className:"text-sm text-blue-400 hover:underline mt-2",children:t.action.label})]}),e.jsx("button",{onClick:u,className:"p-1 hover:bg-white/10 rounded transition-colors",children:e.jsx(Ht,{className:"w-4 h-4 text-slate-400"})})]})}const $S={};function US(t,n){let a;try{a=t()}catch{return}return{getItem:o=>{var d;const u=p=>p===null?null:JSON.parse(p,void 0),m=(d=a.getItem(o))!=null?d:null;return m instanceof Promise?m.then(u):u(m)},setItem:(o,d)=>a.setItem(o,JSON.stringify(d,void 0)),removeItem:o=>a.removeItem(o)}}const Nl=t=>n=>{try{const a=t(n);return a instanceof Promise?a:{then(l){return Nl(l)(a)},catch(l){return this}}}catch(a){return{then(l){return this},catch(l){return Nl(l)(a)}}}},qS=(t,n)=>(a,l,o)=>{let d={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:g=>g,version:0,merge:(g,P)=>({...P,...g}),...n},u=!1;const m=new Set,p=new Set;let x;try{x=d.getStorage()}catch{}if(!x)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),a(...g)},l,o);const v=Nl(d.serialize),y=()=>{const g=d.partialize({...l()});let P;const O=v({state:g,version:d.version}).then(C=>x.setItem(d.name,C)).catch(C=>{P=C});if(P)throw P;return O},N=o.setState;o.setState=(g,P)=>{N(g,P),y()};const k=t((...g)=>{a(...g),y()},l,o);let j;const b=()=>{var g;if(!x)return;u=!1,m.forEach(O=>O(l()));const P=((g=d.onRehydrateStorage)==null?void 0:g.call(d,l()))||void 0;return Nl(x.getItem.bind(x))(d.name).then(O=>{if(O)return d.deserialize(O)}).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==d.version){if(d.migrate)return d.migrate(O.state,O.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return O.state}).then(O=>{var C;return j=d.merge(O,(C=l())!=null?C:k),a(j,!0),y()}).then(()=>{P==null||P(j,void 0),u=!0,p.forEach(O=>O(j))}).catch(O=>{P==null||P(void 0,O)})};return o.persist={setOptions:g=>{d={...d,...g},g.getStorage&&(x=g.getStorage())},clearStorage:()=>{x==null||x.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>b(),hasHydrated:()=>u,onHydrate:g=>(m.add(g),()=>{m.delete(g)}),onFinishHydration:g=>(p.add(g),()=>{p.delete(g)})},b(),j||k},BS=(t,n)=>(a,l,o)=>{let d={storage:US(()=>localStorage),partialize:b=>b,version:0,merge:(b,g)=>({...g,...b}),...n},u=!1;const m=new Set,p=new Set;let x=d.storage;if(!x)return t((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${d.name}', the given storage is currently unavailable.`),a(...b)},l,o);const v=()=>{const b=d.partialize({...l()});return x.setItem(d.name,{state:b,version:d.version})},y=o.setState;o.setState=(b,g)=>{y(b,g),v()};const N=t((...b)=>{a(...b),v()},l,o);o.getInitialState=()=>N;let k;const j=()=>{var b,g;if(!x)return;u=!1,m.forEach(O=>{var C;return O((C=l())!=null?C:N)});const P=((g=d.onRehydrateStorage)==null?void 0:g.call(d,(b=l())!=null?b:N))||void 0;return Nl(x.getItem.bind(x))(d.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==d.version){if(d.migrate)return[!0,d.migrate(O.state,O.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var C;const[R,U]=O;if(k=d.merge(U,(C=l())!=null?C:N),a(k,!0),R)return v()}).then(()=>{P==null||P(k,void 0),k=l(),u=!0,p.forEach(O=>O(k))}).catch(O=>{P==null||P(void 0,O)})};return o.persist={setOptions:b=>{d={...d,...b},b.storage&&(x=b.storage)},clearStorage:()=>{x==null||x.removeItem(d.name)},getOptions:()=>d,rehydrate:()=>j(),hasHydrated:()=>u,onHydrate:b=>(m.add(b),()=>{m.delete(b)}),onFinishHydration:b=>(p.add(b),()=>{p.delete(b)})},d.skipHydration||j(),k||N},WS=(t,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?(($S?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),qS(t,n)):BS(t,n),HS=WS,Tp={sidebarCollapsed:!1,defaultView:"grid",autoRefreshEnabled:!0,showNotifications:!0,showToastNotifications:!0,notifyOnHandoff:!0,notifyOnPlanComplete:!0,notifyOnStepComplete:!0,autoDeployOnSave:!1,confirmBeforeDeploy:!0,maxActivityItems:50,maxSearchResults:20},QS=$g()(HS(t=>({...Tp,setSetting:(n,a)=>t({[n]:a}),resetSettings:()=>t(Tp)}),{name:"memory-observer-settings"}));function VS(){const t=FS(),n=QS(),a=tt(),l=S.useRef(null),o=S.useRef(!1);S.useEffect(()=>{if(!n.showNotifications||l.current)return;const u=new EventSource("/api/events/stream");return l.current=u,u.addEventListener("connected",()=>{o.current=!0}),u.addEventListener("mcp_event",m=>{try{const p=JSON.parse(m.data);d(p)}catch(p){console.error("Failed to parse SSE event:",p)}}),u.onerror=()=>{o.current=!1},()=>{var m;(m=l.current)==null||m.close(),l.current=null}},[n.showNotifications]);const d=u=>{switch(u.type){case"step_updated":n.notifyOnStepComplete&&u.data.new_status==="done"&&t.success("Step Completed",`"${u.data.step_task}" marked as done`),u.workspace_id&&u.plan_id&&a.invalidateQueries({queryKey:["plan",u.workspace_id,u.plan_id]});break;case"handoff_started":case"handoff_completed":n.notifyOnHandoff&&t.handoff(u.data.from_agent,u.data.to_agent,u.data.plan_title||""),u.workspace_id&&u.plan_id&&(a.invalidateQueries({queryKey:["plan",u.workspace_id,u.plan_id]}),a.invalidateQueries({queryKey:["lineage",u.workspace_id,u.plan_id]}));break;case"agent_session_started":n.notifyOnHandoff&&t.info("Agent Started",`${u.agent_type} is now active`);break;case"agent_session_completed":n.notifyOnHandoff&&t.success("Agent Completed",`${u.agent_type} finished work`);break;case"plan_created":case"plan_imported":t.success(u.type==="plan_created"?"Plan Created":"Plan Imported",u.data.plan_title),u.workspace_id&&a.invalidateQueries({queryKey:["plans",u.workspace_id]});break;case"plan_archived":t.warning("Plan Archived",u.data.plan_title),u.workspace_id&&a.invalidateQueries({queryKey:["plans",u.workspace_id]});break;case"plan_deleted":t.info("Plan Deleted",u.data.plan_title),u.workspace_id&&a.invalidateQueries({queryKey:["plans",u.workspace_id]});break;case"plan_duplicated":t.success("Plan Duplicated",`Created "${u.data.new_title}" from "${u.data.source_title}"`),u.workspace_id&&a.invalidateQueries({queryKey:["plans",u.workspace_id]});break;case"workspace_registered":case"workspace_indexed":t.info(u.type==="workspace_registered"?"Workspace Registered":"Workspace Indexed",u.data.workspace_path),a.invalidateQueries({queryKey:["workspaces"]});break;case"plan_updated":case"plan_goals_updated":u.workspace_id&&a.invalidateQueries({queryKey:["plans",u.workspace_id]}),u.workspace_id&&u.plan_id&&a.invalidateQueries({queryKey:["plan",u.workspace_id,u.plan_id]});break;case"workspace_updated":a.invalidateQueries({queryKey:["workspaces"]}),u.workspace_id&&a.invalidateQueries({queryKey:["workspace",u.workspace_id]});break;default:console.log("Unhandled MCP event:",u.type,u)}};return{isConnected:o.current}}class KS extends S.Component{constructor(a){super(a);Od(this,"handleReset",()=>{var a,l;this.setState({hasError:!1,error:null,errorInfo:null}),(l=(a=this.props).onReset)==null||l.call(a)});Od(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,l){this.setState({errorInfo:l}),console.error("ErrorBoundary caught an error:",a,l),this.reportErrorToServer(a,l)}reportErrorToServer(a,l){try{fetch(`${fo}/api/errors`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({error:`${a.name}: ${a.message}`,componentStack:l.componentStack||null,url:window.location.href,timestamp:new Date().toISOString()})}).catch(()=>{})}catch{}}render(){var a;return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-[400px] flex items-center justify-center p-8",children:e.jsxs("div",{className:"max-w-md w-full bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/50 rounded-full",children:e.jsx(ut,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),e.jsx("h2",{className:"text-lg font-semibold text-red-800 dark:text-red-200",children:"Something went wrong"})]}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mb-4",children:"An unexpected error occurred. Please try again or return to the dashboard."}),this.state.error&&e.jsxs("details",{className:"mb-4",children:[e.jsx("summary",{className:"text-sm text-red-600 dark:text-red-400 cursor-pointer hover:underline",children:"Error details"}),e.jsxs("pre",{className:"mt-2 p-3 bg-red-100 dark:bg-red-900/30 rounded text-xs text-red-800 dark:text-red-200 overflow-auto max-h-40",children:[this.state.error.message,(a=this.state.errorInfo)==null?void 0:a.componentStack]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:this.handleReset,className:"flex items-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md text-sm font-medium transition-colors",children:[e.jsx(Ss,{className:"h-4 w-4"}),"Try Again"]}),e.jsxs("button",{onClick:this.handleGoHome,className:"flex items-center gap-2 px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-md text-sm font-medium transition-colors",children:[e.jsx(Qj,{className:"h-4 w-4"}),"Go to Dashboard"]})]})]})}):this.props.children}}function GS(){return VS(),e.jsxs(KS,{children:[e.jsx(J1,{children:e.jsxs(yj,{children:[e.jsx(Mt,{path:"/",element:e.jsx(q2,{})}),e.jsx(Mt,{path:"/workspace/:workspaceId",element:e.jsx(RN,{})}),e.jsx(Mt,{path:"/workspace/:workspaceId/status",element:e.jsx(aS,{})}),e.jsx(Mt,{path:"/workspace/:workspaceId/data-root",element:e.jsx(nS,{})}),e.jsx(Mt,{path:"/workspace/:workspaceId/plan/:planId",element:e.jsx(f5,{})}),e.jsx(Mt,{path:"/workspace/:workspaceId/plan/:planId/context",element:e.jsx(eS,{})}),e.jsx(Mt,{path:"/workspace/:workspaceId/plan/:planId/build-scripts",element:e.jsx(lS,{})}),e.jsx(Mt,{path:"/workspace/:workspaceId/program/:programId",element:e.jsx(kS,{})}),e.jsx(Mt,{path:"/agents",element:e.jsx(b5,{})}),e.jsx(Mt,{path:"/agents/:agentId",element:e.jsx(D5,{})}),e.jsx(Mt,{path:"/prompts",element:e.jsx(H5,{})}),e.jsx(Mt,{path:"/instructions",element:e.jsx(G5,{})}),e.jsx(Mt,{path:"/metrics",element:e.jsx($5,{})})]})}),e.jsx(LS,{})]})}const YS=new jb({defaultOptions:{queries:{staleTime:3e4,refetchInterval:!1}}});Yv.createRoot(document.getElementById("root")).render(e.jsx(Po.StrictMode,{children:e.jsx(wb,{client:YS,children:e.jsx(Sj,{children:e.jsx(GS,{})})})}));
